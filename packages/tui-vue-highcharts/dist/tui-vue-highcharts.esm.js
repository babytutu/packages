var commonjsGlobal='undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof self?{}:self:global:window;function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},highcharts=createCommonjsModule(function(e){(function(t,i){e.exports?e.exports=t.document?i(t):i:t.Highcharts=i(t)})('undefined'==typeof window?commonjsGlobal:window,function(t){var i=Math.sqrt,o=Number.MAX_VALUE,s=Math.ceil,e=Math.sin,S=Math.cos,T=Math.max,P=Math.abs,W=Math.min,L=Math.round,v=Math.pow,O=Math.floor,r=Math.LN10,n=Math.log,p=Math.PI,a=function(){var i='undefined'==typeof t?window:t,o=i.document,r=i.navigator&&i.navigator.userAgent||'',a=o&&o.createElementNS&&!!o.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect,s=/(edge|msie|trident)/i.test(r)&&!i.opera,n=-1!==r.indexOf('Firefox'),l=-1!==r.indexOf('Chrome'),e=n&&4>parseInt(r.split('Firefox/')[1],10);return i.Highcharts?i.Highcharts.error(16,!0):{product:'Highcharts',version:'6.1.1',deg2rad:2*p/360,doc:o,hasBidiBug:e,hasTouch:o&&void 0!==o.documentElement.ontouchstart,isMS:s,isWebKit:-1!==r.indexOf('AppleWebKit'),isFirefox:n,isChrome:l,isSafari:!l&&-1!==r.indexOf('Safari'),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(r),SVG_NS:'http://www.w3.org/2000/svg',chartCount:0,seriesTypes:{},symbolSizes:{},svg:a,win:i,marginNames:['plotTop','marginRight','marginBottom','plotLeft'],noop:function(){},charts:[]}}();(function(t){var i=Math.easeInOutSine;t.timers=[];var e=t.charts,o=t.doc,s=t.win;t.error=function(e,i){if(e=t.isNumber(e)?'Highcharts error #'+e+': www.highcharts.com/errors/'+e:e,i)throw Error(e);s.console&&console.log(e)},t.Fx=function(t,i,o){this.options=i,this.elem=t,this.prop=o},t.Fx.prototype={dSetter:function(){var t,i=this.paths[0],o=this.paths[1],r=[],a=this.now,n=i.length;if(1===a)r=this.toD;else if(n===o.length&&1>a)for(;n--;)t=parseFloat(i[n]),r[n]=isNaN(t)?o[n]:a*parseFloat(o[n]-t)+t;else r=o;this.elem.attr('d',r,null,!0)},update:function(){var t=this.elem,i=this.prop,o=this.now,e=this.options.step;this[i+'Setter']?this[i+'Setter']():t.attr?t.element&&t.attr(i,o,null,!0):t.style[i]=o+this.unit,e&&e.call(t,o,this)},run:function(i,o,r){var e=this,a=e.options,n=function t(i){return!t.stopped&&e.step(i)},l=s.requestAnimationFrame||function(e){setTimeout(e,13)};i!==o||this.elem['forceAnimate:'+this.prop]?(this.startTime=+new Date,this.start=i,this.end=o,this.unit=r,this.now=this.start,this.pos=0,n.elem=this.elem,n.prop=this.prop,n()&&1===t.timers.push(n)&&l(function e(){for(var i=0;i<t.timers.length;i++)t.timers[i]()||t.timers.splice(i--,1);t.timers.length&&l(e)})):(delete a.curAnim[this.prop],a.complete&&0===t.keys(a.curAnim).length&&a.complete.call(this.elem))},step:function(i){var o,r=+new Date,a=this.options,s=this.elem,l=a.complete,d=a.duration,h=a.curAnim;return s.attr&&!s.element?i=!1:i||r>=d+this.startTime?(this.now=this.end,this.pos=1,this.update(),o=h[this.prop]=!0,t.objectEach(h,function(e){!0!==e&&(o=!1)}),o&&l&&l.call(s),i=!1):(this.pos=a.easing((r-this.startTime)/d),this.now=this.start+(this.end-this.start)*this.pos,this.update(),i=!0),i},initPath:function(i,o,a){function n(e){var t,i;for(w=e.length;w--;)t='M'===e[w]||'L'===e[w],i=/[a-zA-Z]/.test(e[w+3]),t&&i&&e.splice(w+1,0,e[w+1],e[w+2],e[w+1],e[w+2])}function s(e,t){for(;e.length<u;){e[0]=t[u-e.length];var i=e.slice(0,k);[].splice.apply(e,[0,0].concat(i)),A&&(i=e.slice(e.length-k),[].splice.apply(e,[e.length,0].concat(i)),w--)}e[0]='M'}function g(e,t){for(var i=(u-e.length)/k;0<i&&i--;)y=e.slice().splice(e.length/v-k,k*v),y[0]=t[u-k-i*k],T&&(y[k-6]=y[k-2],y[k-5]=y[k-1]),[].splice.apply(e,[e.length/v,0].concat(y)),A&&i--}o=o||'';var m,u,y,w,S=i.startX,f=i.endX,T=-1<o.indexOf('C'),k=T?7:3;o=o.split(' '),a=a.slice();var r,A=i.isArea,v=A?2:1;if(T&&(n(o),n(a)),S&&f){for(w=0;w<S.length;w++)if(S[w]===f[0]){m=w;break}else if(S[0]===f[f.length-S.length+w]){m=w,r=!0;break}void 0===m&&(o=[])}return o.length&&t.isNumber(m)&&(u=a.length+m*v*k,r?(s(o,a),g(a,o)):(s(a,o),g(o,a))),[o,a]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.merge=function(){var i,o,r=arguments,a={},s=function i(o,r){return'object'!==('undefined'==typeof o?'undefined':_typeof(o))&&(o={}),t.objectEach(r,function(e,a){o[a]=!t.isObject(e,!0)||t.isClass(e)||t.isDOMElement(e)?r[a]:i(o[a]||{},e)}),o};for(!0===r[0]&&(a=r[1],r=Array.prototype.slice.call(r,2)),o=r.length,i=0;i<o;i++)a=s(a,r[i]);return a},t.pInt=function(e,t){return parseInt(e,t||10)},t.isString=function(e){return'string'==typeof e},t.isArray=function(e){return e=Object.prototype.toString.call(e),'[object Array]'===e||'[object Array Iterator]'===e},t.isObject=function(e,i){return!!e&&'object'===('undefined'==typeof e?'undefined':_typeof(e))&&(!i||!t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&'number'==typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return t.isObject(e,!0)&&!t.isDOMElement(e)&&i&&i.name&&'Object'!==i.name},t.isNumber=function(e){return'number'==typeof e&&!isNaN(e)&&1/0>e&&-Infinity<e},t.erase=function(t,i){for(var o=t.length;o--;)if(t[o]===i){t.splice(o,1);break}},t.defined=function(e){return void 0!==e&&null!==e},t.attr=function(i,o,r){var e;return t.isString(o)?t.defined(r)?i.setAttribute(o,r):i&&i.getAttribute&&((e=i.getAttribute(o))||'class'!==o||(e=i.getAttribute(o+'Name'))):t.defined(o)&&t.isObject(o)&&t.objectEach(o,function(t,o){i.setAttribute(o,t)}),e},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,i,o){return i?setTimeout(t,i,o):void t.call(0,o)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,i){for(var o in t||(t={}),i)t[o]=i[o];return t},t.pick=function(){var t,i,o=arguments,r=o.length;for(t=0;t<r;t++)if(i=o[t],void 0!==i&&null!==i)return i},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter='alpha(opacity='+100*i.opacity+')'),t.extend(e.style,i)},t.createElement=function(i,r,a,e,s){i=o.createElement(i);var l=t.css;return r&&t.extend(i,r),s&&l(i,{padding:0,border:'none',margin:0}),a&&l(i,a),e&&e.appendChild(i),i},t.extendClass=function(i,o){var r=function(){};return r.prototype=new i,t.extend(r.prototype,o),r},t.pad=function(t,i,o){return Array((i||2)+1-(t+'').replace('-','').length).join(o||0)+t},t.relativeLength=function(t,i,o){return /%$/.test(t)?i*parseFloat(t)/100+(o||0):parseFloat(t)},t.wrap=function(t,i,o){var e=t[i];t[i]=function(){var t=Array.prototype.slice.call(arguments),i=arguments,r=this;return r.proceed=function(){e.apply(r,arguments.length?arguments:i)},t.unshift(e),t=o.apply(this,t),r.proceed=null,t}},t.formatSingle=function(i,o,r){var a=/\.([0-9])/,n=t.defaultOptions.lang;return /f$/.test(i)?(r=(r=i.match(a))?r[1]:-1,null!==o&&(o=t.numberFormat(o,r,n.decimalPoint,-1<i.indexOf(',')?n.thousandsSep:''))):o=(r||t.time).dateFormat(i,o),o},t.format=function(i,o,a){for(var e,s,l,d,h,p='{',g=!1,m=[];i&&(p=i.indexOf(p),-1!==p);){if(e=i.slice(0,p),g){for(e=e.split(':'),s=e.shift().split('.'),d=s.length,h=o,l=0;l<d;l++)h&&(h=h[s[l]]);e.length&&(h=t.formatSingle(e.join(':'),h,a)),m.push(h)}else m.push(e);i=i.slice(p+1),p=(g=!g)?'}':'{'}return m.push(i),m.join('')},t.getMagnitude=function(e){return v(10,O(n(e)/r))},t.normalizeTickInterval=function(i,o,a,n,s){var l,d=i;for(a=t.pick(a,1),l=i/a,o||(o=s?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===n&&(1===a?o=t.grep(o,function(e){return 0==e%1}):.1>=a&&(o=[1/a]))),n=0;n<o.length&&(d=o[n],!(s&&d*a>=i||!s&&l<=(o[n]+(o[n+1]||o[n]))/2));n++);return d=t.correctFloat(d*a,-L(-6.907755278982137/r))},t.stableSort=function(t,i){var o,r,a=t.length;for(r=0;r<a;r++)t[r].safeI=r;for(t.sort(function(t,r){return o=i(t,r),0===o?t.safeI-r.safeI:o}),r=0;r<a;r++)delete t[r].safeI},t.arrayMin=function(t){for(var i=t.length,o=t[0];i--;)t[i]<o&&(o=t[i]);return o},t.arrayMax=function(t){for(var i=t.length,o=t[0];i--;)t[i]>o&&(o=t[i]);return o},t.destroyObjectProperties=function(e,i){t.objectEach(e,function(t,o){t&&t!==i&&t.destroy&&t.destroy(),delete e[o]})},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement('div')),e&&i.appendChild(e),i.innerHTML=''},t.correctFloat=function(e,t){return parseFloat(e.toPrecision(t||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5},t.numberFormat=function(i,o,r,a){i=+i||0,o=+o;var s,l,d=t.defaultOptions.lang,p=(i.toString().split('.')[1]||'').split('e')[0].length,g=i.toString().split('e');return-1===o?o=W(p,20):t.isNumber(o)?o&&g[1]&&0>g[1]&&(s=o+ +g[1],0<=s?(g[0]=(+g[0]).toExponential(s).split('e')[0],o=s):(g[0]=g[0].split('.')[0]||0,i=20>o?(g[0]*v(10,g[1])).toFixed(o):0,g[1]=0)):o=2,l=(P(g[1]?g[0]:i)+v(10,-T(o,p)-1)).toFixed(o),p=t.pInt(l)+'',s=3<p.length?p.length%3:0,r=t.pick(r,d.decimalPoint),a=t.pick(a,d.thousandsSep),i=(0>i?'-':'')+(s?p.substr(0,s)+a:''),i+=p.substr(s).replace(/(\d{3})(?=\d)/g,'$1'+a),o&&(i+=r+l.slice(-o)),g[1]&&0!=+i&&(i+='e'+g[1]),i},i=function(e){return-.5*(S(p*e)-1)},t.getStyle=function(i,o,r){return'width'===o?T(0,W(i.offsetWidth,i.scrollWidth)-t.getStyle(i,'padding-left')-t.getStyle(i,'padding-right')):'height'===o?T(0,W(i.offsetHeight,i.scrollHeight)-t.getStyle(i,'padding-top')-t.getStyle(i,'padding-bottom')):(s.getComputedStyle||t.error(27,!0),(i=s.getComputedStyle(i,void 0))&&(i=i.getPropertyValue(o),t.pick(r,'opacity'!==o)&&(i=t.pInt(i))),i)},t.inArray=function(i,o,r){return(t.indexOfPolyfill||Array.prototype.indexOf).call(o,i,r)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(e,t){return e.find(t)}:function(t,i){var o,r=t.length;for(o=0;o<r;o++)if(i(t[o],o))return t[o]},t.some=function(i,o,r){return(t.somePolyfill||Array.prototype.some).call(i,o,r)},t.map=function(t,i){for(var o=[],e=0,r=t.length;e<r;e++)o[e]=i.call(t[e],t[e],e,t);return o},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(i,o,r){return(t.reducePolyfill||Array.prototype.reduce).apply(i,2<arguments.length?[o,r]:[o])},t.offset=function(e){var t=o.documentElement;return e=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0},{top:e.top+(s.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(s.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},t.stop=function(i,o){for(var r=t.timers.length;r--;)t.timers[r].elem!==i||o&&o!==t.timers[r].prop||(t.timers[r].stopped=!0)},t.each=function(i,o,r){return(t.forEachPolyfill||Array.prototype.forEach).call(i,o,r)},t.objectEach=function(t,i,o){for(var e in t)t.hasOwnProperty(e)&&i.call(o||t[e],t[e],e,t)},t.addEvent=function(i,o,r,e){var a,n=i.addEventListener||t.addEventListenerPolyfill;return a='function'==typeof i&&i.prototype?i.prototype.protoEvents=i.prototype.protoEvents||{}:i.hcEvents=i.hcEvents||{},t.Point&&i instanceof t.Point&&i.series&&i.series.chart&&(i.series.chart.runTrackerClick=!0),n&&n.call(i,o,r,!1),a[o]||(a[o]=[]),a[o].push(r),e&&t.isNumber(e.order)&&(r.order=e.order,a[o].sort(function(e,t){return e.order-t.order})),function(){t.removeEvent(i,o,r)}},t.removeEvent=function(i,o,r){function e(e,o){var r=i.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(i,e,o,!1)}function a(r){var a,n;i.nodeName&&(o?(a={},a[o]=!0):a=r,t.objectEach(a,function(t,i){if(r[i])for(n=r[i].length;n--;)e(i,r[i][n])}))}var n,s;t.each(['protoEvents','hcEvents'],function(l){var d=i[l];d&&(o?(n=d[o]||[],r?(s=t.inArray(r,n),-1<s&&(n.splice(s,1),d[o]=n),e(o,r)):(a(d),d[o]=[])):(a(d),i[l]={}))})},t.fireEvent=function(i,r,a,n){var s,l,d,h,p;a=a||{},o.createEvent&&(i.dispatchEvent||i.fireEvent)?(s=o.createEvent('Events'),s.initEvent(r,!0,!0),t.extend(s,a),i.dispatchEvent?i.dispatchEvent(s):i.fireEvent(r,s)):t.each(['protoEvents','hcEvents'],function(e){if(i[e])for(l=i[e][r]||[],d=l.length,a.target||t.extend(a,{preventDefault:function(){a.defaultPrevented=!0},target:i,type:r}),h=0;h<d;h++)(p=l[h])&&!1===p.call(i,a)&&a.preventDefault()}),n&&!a.defaultPrevented&&n.call(i,a)},t.animate=function(o,r,a){var n,s,l,d,h='';t.isObject(a)||(d=arguments,a={duration:d[2],easing:d[3],complete:d[4]}),t.isNumber(a.duration)||(a.duration=400),a.easing='function'==typeof a.easing?a.easing:Math[a.easing]||i,a.curAnim=t.merge(r),t.objectEach(r,function(e,i){t.stop(o,i),l=new t.Fx(o,a,i),s=null,'d'===i?(l.paths=l.initPath(o,o.d,r.d),l.toD=r.d,n=0,s=1):o.attr?n=o.attr(i):(n=parseFloat(t.getStyle(o,i))||0,'opacity'!=i&&(h='px')),s||(s=e),s&&s.match&&s.match('px')&&(s=s.replace(/px/g,'')),l.run(n,s,h)})},t.seriesType=function(i,o,r,e,a){var n=t.getOptions(),s=t.seriesTypes;return n.plotOptions[i]=t.merge(n.plotOptions[o],r),s[i]=t.extendClass(s[o]||function(){},e),s[i].prototype.type=i,a&&(s[i].prototype.pointClass=t.extendClass(t.Point,a)),s[i]},t.uniqueKey=function(){var e=Math.random().toString(36).substring(2,9),t=0;return function(){return'highcharts-'+e+'-'+t++}}(),s.jQuery&&(s.jQuery.fn.highcharts=function(){var i=[].slice.call(arguments);if(this[0])return i[0]?(new t[t.isString(i[0])?i.shift():'Chart'](this[0],i[0],i[1]),this):e[t.attr(this[0],'data-highcharts-chart')]})})(a),function(t){var i=t.each,o=t.isNumber,r=t.map,s=t.merge,n=t.pInt;t.Color=function(i){return this instanceof t.Color?void this.init(i):new t.Color(i)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[n(e[1]),n(e[2]),n(e[3]),parseFloat(e[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[n(e[1]),n(e[2]),n(e[3]),1]}}],names:{none:'rgba(255,255,255,0)',white:'#ffffff',black:'#000000'},init:function(i){var o,a,n,s;if((this.input=i=this.names[i&&i.toLowerCase?i.toLowerCase():'']||i)&&i.stops)this.stops=r(i.stops,function(e){return new t.Color(e[1])});else if(i&&i.charAt&&'#'===i.charAt()&&(o=i.length,i=parseInt(i.substr(1),16),7===o?a=[(16711680&i)>>16,(65280&i)>>8,255&i,1]:4===o&&(a=[(3840&i)>>4|(3840&i)>>8,(240&i)>>4|240&i,(15&i)<<4|15&i,1])),!a)for(n=this.parsers.length;n--&&!a;)s=this.parsers[n],(o=s.regex.exec(i))&&(a=s.parse(o));this.rgba=a||[]},get:function(t){var r,a=this.input,e=this.rgba;return this.stops?(r=s(a),r.stops=[].concat(r.stops),i(this.stops,function(i,e){r.stops[e]=[r.stops[e][0],i.get(t)]})):r=e&&o(e[0])?'rgb'!==t&&(t||1!==e[3])?'a'===t?e[3]:'rgba('+e.join(',')+')':'rgb('+e[0]+','+e[1]+','+e[2]+')':a,r},brighten:function(t){var r,a=this.rgba;if(this.stops)i(this.stops,function(i){i.brighten(t)});else if(o(t)&&0!==t)for(r=0;3>r;r++)a[r]+=n(255*t),0>a[r]&&(a[r]=0),255<a[r]&&(a[r]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this},tweenTo:function(t,i){var o=this.rgba,e=t.rgba;return e.length&&o&&o.length?(t=1!==e[3]||1!==o[3],i=(t?'rgba(':'rgb(')+L(e[0]+(o[0]-e[0])*(1-i))+','+L(e[1]+(o[1]-e[1])*(1-i))+','+L(e[2]+(o[2]-e[2])*(1-i))+(t?','+(e[3]+(o[3]-e[3])*(1-i)):'')+')'):i=t.input||'none',i}},t.color=function(i){return new t.Color(i)}}(a),function(i){var o,a,R=i.addEvent,X=i.animate,n=i.attr,h=i.charts,z=i.color,Y=i.css,u=i.createElement,F=i.defined,x=i.deg2rad,f=i.destroyObjectProperties,y=i.doc,j=i.each,V=i.extend,r=i.erase,k=i.grep,l=i.hasTouch,c=i.inArray,U=i.isArray,v=i.isFirefox,t=i.isMS,I=i.isObject,d=i.isString,A=i.isWebKit,H=i.merge,m=i.noop,D=i.objectEach,M=i.pick,B=i.pInt,g=i.removeEvent,G=i.stop,_=i.svg,b=i.SVG_NS,K=i.symbolSizes,Z=i.win;o=i.SVGElement=function(){return this},V(o.prototype,{opacity:1,SVG_NS:b,textProps:['direction','fontSize','fontWeight','fontFamily','fontStyle','color','lineHeight','width','textAlign','textDecoration','textOverflow','textOutline'],init:function(e,t){this.element='span'===t?u(t):y.createElementNS(this.SVG_NS,t),this.renderer=e},animate:function(e,t,o){return t=i.animObject(M(t,this.renderer.globalAnimation,!0)),0===t.duration?(this.attr(e,null,o),t.step&&t.step.call(this)):(o&&(t.complete=o),X(this,e,t)),this},complexColor:function(e,o,r){var a,n,s,h,g,u,x,y,b,S,T,C,P=this.renderer,d=[];i.fireEvent(this.renderer,'complexColor',{args:arguments},function(){e.radialGradient?n='radialGradient':e.linearGradient&&(n='linearGradient'),n&&(s=e[n],g=P.gradients,x=e.stops,S=r.radialReference,U(s)&&(e[n]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:'userSpaceOnUse'}),'radialGradient'===n&&S&&!F(s.gradientUnits)&&(h=s,s=H(s,P.getRadialAttr(S,h),{gradientUnits:'userSpaceOnUse'})),D(s,function(e,t){'id'!==t&&d.push(t,e)}),D(x,function(e){d.push(e)}),d=d.join(','),g[d]?T=g[d].attr('id'):(s.id=T=i.uniqueKey(),g[d]=u=P.createElement(n).attr(s).add(P.defs),u.radAttr=h,u.stops=[],j(x,function(e){0===e[1].indexOf('rgba')?(a=i.color(e[1]),y=a.get('rgb'),b=a.get('a')):(y=e[1],b=1),e=P.createElement('stop').attr({offset:e[0],"stop-color":y,"stop-opacity":b}).add(u),u.stops.push(e)})),C='url('+P.url+'#'+T+')',r.setAttribute(o,C),r.gradient=d,e.toString=function(){return C})})},applyTextOutline:function(e){var t,o,s,d,a,h=this.element;if(-1!==e.indexOf('contrast')&&(e=e.replace(/contrast/g,this.renderer.getContrast(h.style.fill))),e=e.split(' '),o=e[e.length-1],(s=e[0])&&'none'!==s&&i.svg){for(this.fakeTS=!0,e=[].slice.call(h.getElementsByTagName('tspan')),this.ySetter=this.xSetter,s=s.replace(/(^[\d\.]+)(.*?)$/g,function(e,t,i){return 2*t+i}),a=e.length;a--;)t=e[a],'highcharts-text-outline'===t.getAttribute('class')&&r(e,h.removeChild(t));d=h.firstChild,j(e,function(e,t){0===t&&(e.setAttribute('x',h.getAttribute('x')),t=h.getAttribute('y'),e.setAttribute('y',t||0),null===t&&h.setAttribute('y',0)),e=e.cloneNode(1),n(e,{class:'highcharts-text-outline',fill:o,stroke:o,"stroke-width":s,"stroke-linejoin":'round'}),h.insertBefore(e,d)})}},attr:function(e,t,i,o){var r,n,s,d,h=this.element,p=this;return'string'==typeof e&&void 0!==t&&(r=e,e={},e[r]=t),'string'==typeof e?p=(this[e+'Getter']||this._defaultGetter).call(this,e,h):(D(e,function(t,i){s=!1,o||G(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(n||(this.symbolAttr(e),n=!0),s=!0),this.rotation&&('x'===i||'y'===i)&&(this.doTransform=!0),s||(d=this[i+'Setter']||this._defaultSetter,d.call(this,t,i,h),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,t,d))},this),this.afterSetters()),i&&i.call(this),p},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(e,t,i){for(var o=this.shadows,r=o.length;r--;)i.call(o[r],'height'===e?T(t-(o[r].cutHeight||0),0):'d'===e?this.d:t,e,o[r])},addClass:function(e,t){var i=this.attr('class')||'';return-1===i.indexOf(e)&&(t||(e=(i+(i?' ':'')+e).replace('  ',' ')),this.attr('class',e)),this},hasClass:function(e){return-1!==c(e,(this.attr('class')||'').split(' '))},removeClass:function(e){return this.attr('class',(this.attr('class')||'').replace(e,''))},symbolAttr:function(e){var t=this;j(['x','y','r','start','end','width','height','innerR','anchorX','anchorY'],function(i){t[i]=M(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr('clip-path',e?'url('+this.renderer.url+'#'+e.id+')':'none')},crisp:function(e,t){var i;return t=t||e.strokeWidth||0,i=L(t)%2/2,e.x=O(e.x||this.x||0)+i,e.y=O(e.y||this.y||0)+i,e.width=O((e.width||this.width||0)-2*i),e.height=O((e.height||this.height||0)-2*i),F(e.strokeWidth)&&(e.strokeWidth=t),e},css:function(e){var t,i,o=this.styles,r={},s=this.element,l='',d=!o,h=['textOutline','textOverflow','width'];return e&&e.color&&(e.fill=e.color),o&&D(e,function(e,t){e!==o[t]&&(r[t]=e,d=!0)}),d&&(o&&(e=V(o,r)),e&&(null===e.width||'auto'===e.width?delete this.textWidth:'text'===s.nodeName.toLowerCase()&&e.width&&(t=this.textWidth=B(e.width))),this.styles=e,t&&!_&&this.renderer.forExport&&delete e.width,s.namespaceURI===this.SVG_NS?(i=function(e,t){return'-'+t.toLowerCase()},D(e,function(e,t){-1===c(t,h)&&(l+=t.replace(/([A-Z])/g,i)+':'+e+';')}),l&&n(s,'style',l)):Y(s,e),this.added&&('text'===this.element.nodeName&&this.renderer.buildText(this),e&&e.textOutline&&this.applyTextOutline(e.textOutline))),this},strokeWidth:function(){return this['stroke-width']||0},on:function(e,t){var i=this,o=i.element;return l&&'click'===e?(o.ontouchstart=function(e){i.touchEventFired=Date.now(),e.preventDefault(),t.call(o,e)},o.onclick=function(e){(-1===Z.navigator.userAgent.indexOf('Android')||1100<Date.now()-(i.touchEventFired||0))&&t.call(o,e)}):o['on'+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(e){return this.inverted=e,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,i=this.scaleX,o=this.scaleY,r=this.inverted,n=this.rotation,s=this.matrix,l=this.element;r&&(e+=this.width,t+=this.height),e=['translate('+e+','+t+')'],F(s)&&e.push('matrix('+s.join(',')+')'),r?e.push('rotate(90) scale(-1,1)'):n&&e.push('rotate('+n+' '+M(this.rotationOriginX,l.getAttribute('x'),0)+' '+M(this.rotationOriginY,l.getAttribute('y')||0)+')'),(F(i)||F(o))&&e.push('scale('+M(i,1)+' '+M(o,1)+')'),e.length&&l.setAttribute('transform',e.join(' '))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,i){var o,n,s,h,p={};n=this.renderer,s=n.alignedObjects;var m,u;return e?(this.alignOptions=e,this.alignByTranslate=t,!i||d(i))&&(this.alignTo=o=i||'renderer',r(s,this),s.push(this),i=null):(e=this.alignOptions,t=this.alignByTranslate,o=this.alignTo),i=M(i,n[o],n),o=e.align,n=e.verticalAlign,s=(i.x||0)+(e.x||0),h=(i.y||0)+(e.y||0),'right'===o?m=1:'center'===o&&(m=2),m&&(s+=(i.width-(e.width||0))/m),p[t?'translateX':'x']=L(s),'bottom'===n?u=1:'middle'===n&&(u=2),u&&(h+=(i.height-(e.height||0))/u),p[t?'translateY':'y']=L(h),this[this.placed?'animate':'attr'](p),this.placed=!0,this.alignAttr=p,this},getBBox:function(t,i){var o,r,n,s,l,h=this.renderer,u=this.element,f=this.styles,c=this.textStr,y=h.cache,k=h.cacheKeys;if(i=M(i,this.rotation),r=i*x,n=f&&f.fontSize,F(c)&&(l=c.toString(),-1===l.indexOf('<')&&(l=l.replace(/[0-9]/g,'0')),l+=['',i||0,n,this.textWidth,f&&f.textOverflow].join()),l&&!t&&(o=y[l]),!o){if(u.namespaceURI===this.SVG_NS||h.forExport){try{(s=this.fakeTS&&function(e){j(u.querySelectorAll('.highcharts-text-outline'),function(t){t.style.display=e})})&&s('none'),o=u.getBBox?V({},u.getBBox()):{width:u.offsetWidth,height:u.offsetHeight},s&&s('')}catch(e){}(!o||0>o.width)&&(o={width:0,height:0})}else o=this.htmlGetBBox();if(h.isSVG&&(t=o.width,h=o.height,f&&'11px'===f.fontSize&&17===L(h)&&(o.height=h=14),i&&(o.width=P(h*e(r))+P(t*S(r)),o.height=P(h*S(r))+P(t*e(r)))),l&&0<o.height){for(;250<k.length;)delete y[k.shift()];y[l]||k.push(l),y[l]=o}}return o},show:function(e){return this.attr({visibility:e?'inherit':'visible'})},hide:function(){return this.attr({visibility:'hidden'})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,i=this.renderer,o=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:i.box).appendChild(o),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},i=e.renderer.isSVG&&'SPAN'===t.nodeName&&e.parentGroup,o=t.ownerSVGElement,n=e.clipPath;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,G(e),n&&o&&(j(o.querySelectorAll('[clip-path],[CLIP-PATH]'),function(e){var t=e.getAttribute('clip-path'),i=n.element.id;(-1<t.indexOf('(#'+i+')')||-1<t.indexOf('("#'+i+'")'))&&e.removeAttribute('clip-path')}),e.clipPath=n.destroy()),e.stops){for(o=0;o<e.stops.length;o++)e.stops[o]=e.stops[o].destroy();e.stops=null}for(e.safeRemoveChild(t),e.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)t=i.parentGroup,e.safeRemoveChild(i.div),delete i.div,i=t;return e.alignTo&&r(e.renderer.alignedObjects,e),D(e,function(t,i){delete e[i]}),null},shadow:function(e,t,i){var o,r,a,s,h,p,g=[],u=this.element;if(!e)this.destroyShadows();else if(!this.shadows){for(s=M(e.width,3),h=(e.opacity||.15)/s,p=this.parentInverted?'(-1,-1)':'('+M(e.offsetX,1)+', '+M(e.offsetY,1)+')',o=1;o<=s;o++)r=u.cloneNode(0),a=2*s+1-2*o,n(r,{isShadow:'true',stroke:e.color||'#000000',"stroke-opacity":h*o,"stroke-width":a,transform:'translate'+p,fill:'none'}),i&&(n(r,'height',T(n(r,'height')-a,0)),r.cutHeight=a),t?t.element.appendChild(r):u.parentNode&&u.parentNode.insertBefore(r,u),g.push(r);this.shadows=g}return this},destroyShadows:function(){j(this.shadows||[],function(e){this.safeRemoveChild(e)},this),this.shadows=void 0},xGetter:function(e){return'circle'===this.element.nodeName&&('x'===e?e='cx':'y'==e&&(e='cy')),this._defaultGetter(e)},_defaultGetter:function(e){return e=M(this[e+'Value'],this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,i){e&&e.join&&(e=e.join(' ')),/(NaN| {2}|^$)/.test(e)&&(e='M 0 0'),this[t]!==e&&(i.setAttribute(t,e),this[t]=e)},dashstyleSetter:function(e){var t,i=this['stroke-width'];if('inherit'===i&&(i=1),e=e&&e.toLowerCase()){for(e=e.replace('shortdashdotdot','3,1,1,1,1,1,').replace('shortdashdot','3,1,1,1').replace('shortdot','1,1,').replace('shortdash','3,1,').replace('longdash','8,3,').replace(/dot/g,'1,3,').replace('dash','4,3,').replace(/,$/,'').split(','),t=e.length;t--;)e[t]=B(e[t])*i;e=e.join(',').replace(/NaN/g,'none'),this.element.setAttribute('stroke-dasharray',e)}},alignSetter:function(e){this.alignValue=e,this.element.setAttribute('text-anchor',{left:'start',center:'middle',right:'end'}[e])},opacitySetter:function(e,t,i){this[t]=e,i.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName('title')[0];t||(t=y.createElementNS(this.SVG_NS,'title'),this.element.appendChild(t)),t.firstChild&&t.removeChild(t.firstChild),t.appendChild(y.createTextNode(String(M(e),'').replace(/<[^>]*>/g,'').replace(/&lt;/g,'<').replace(/&gt;/g,'>')))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,i){'string'==typeof e?i.setAttribute(t,e):e&&this.complexColor(e,t,i)},visibilitySetter:function(e,t,i){'inherit'===e?i.removeAttribute(t):this[t]!==e&&i.setAttribute(t,e),this[t]=e},zIndexSetter:function(e,t){var i,o,r,n=this.renderer,s=this.parentGroup,h=(s||n).element||n.box,p=this.element,n=h===n.box;i=this.added;var l;if(F(e)?(p.setAttribute('data-z-index',e),e=+e,this[t]===e&&(i=!1)):F(this[t])&&p.removeAttribute('data-z-index'),this[t]=e,i){for((e=this.zIndex)&&s&&(s.handleZ=!0),t=h.childNodes,l=t.length-1;0<=l&&!o;l--)(s=t[l],i=s.getAttribute('data-z-index'),r=!F(i),s!==p)&&(0>e&&r&&!n&&!l?(h.insertBefore(p,t[l]),o=!0):(B(i)<=e||r&&(!F(e)||0<=e))&&(h.insertBefore(p,t[l+1]||null),o=!0));o||(h.insertBefore(p,t[n?3:0]||null),o=!0)}return o},_defaultSetter:function(e,t,i){i.setAttribute(t,e)}}),o.prototype.yGetter=o.prototype.xGetter,o.prototype.translateXSetter=o.prototype.translateYSetter=o.prototype.rotationSetter=o.prototype.verticalAlignSetter=o.prototype.rotationOriginXSetter=o.prototype.rotationOriginYSetter=o.prototype.scaleXSetter=o.prototype.scaleYSetter=o.prototype.matrixSetter=function(e,t){this[t]=e,this.doTransform=!0},o.prototype['stroke-widthSetter']=o.prototype.strokeSetter=function(e,t,i){this[t]=e,this.stroke&&this['stroke-width']?(o.prototype.fillSetter.call(this,this.stroke,'stroke',i),i.setAttribute('stroke-width',this['stroke-width']),this.hasStroke=!0):'stroke-width'===t&&0===e&&this.hasStroke&&(i.removeAttribute('stroke'),this.hasStroke=!1)},a=i.SVGRenderer=function(){this.init.apply(this,arguments)},V(a.prototype,{Element:o,SVG_NS:b,init:function(e,t,i,o,r,a){var h;o=this.createElement('svg').attr({version:'1.1',class:'highcharts-root'}).css(this.getStyle(o)),h=o.element,e.appendChild(h),n(e,'dir','ltr'),-1===e.innerHTML.indexOf('xmlns')&&n(h,'xmlns',this.SVG_NS),this.isSVG=!0,this.box=h,this.boxWrapper=o,this.alignedObjects=[],this.url=(v||A)&&y.getElementsByTagName('base').length?Z.location.href.replace(/#.*?$/,'').replace(/<[^>]*>/g,'').replace(/([\('\)])/g,'\\$1').replace(/ /g,'%20'):'',this.createElement('desc').add().element.appendChild(y.createTextNode('Created with Highcharts 6.1.1')),this.defs=this.createElement('defs').add(),this.allowHTML=a,this.forExport=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,i,!1);var p;v&&e.getBoundingClientRect&&(t=function(){Y(e,{left:0,top:0}),p=e.getBoundingClientRect(),Y(e,{left:s(p.left)-p.left+'px',top:s(p.top)-p.top+'px'})},t(),this.unSubPixelFix=R(Z,'resize',t))},getStyle:function(e){return this.style=V({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:'12px'},e)},setStyle:function(e){this.boxWrapper.css(this.getStyle(e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),f(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:m,getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},getSpanWidth:function(e){return e.getBBox(!0).width},applyEllipsis:function(e,t,i,o){var r,a,n=e.rotation,d=i,h=0,p=i.length,g=function(e){t.removeChild(t.firstChild),e&&t.appendChild(y.createTextNode(e))};if(e.rotation=0,d=this.getSpanWidth(e,t),a=d>o){for(;h<=p;)r=s((h+p)/2),d=i.substring(0,r)+'\u2026',g(d),d=this.getSpanWidth(e,t),h===p?h=p+1:d>o?p=r-1:h=r;0===p&&g('')}return e.rotation=n,a},escapes:{"&":'&amp;',"<":'&lt;',">":'&gt;',"'":'&#39;','"':'&quot;'},buildText:function(i){var o,r,a,s=i.element,d=this,h=d.forExport,p=M(i.textStr,'').toString(),g=-1!==p.indexOf('<'),w=s.childNodes,S=n(s,'x'),m=i.styles,T=i.textWidth,C=m&&m.lineHeight,t=m&&m.textOutline,L=m&&'ellipsis'===m.textOverflow,e=m&&'nowrap'===m.whiteSpace,A=m&&m.fontSize,P=w.length,m=T&&!i.added&&this.box,E=function(e){var t;return t=/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:A||d.style.fontSize||12,C?B(C):d.fontMetrics(t,e.getAttribute('style')?e:s).h},R=function(e,t){return D(d.escapes,function(i,o){t&&-1!==c(i,t)||(e=e.toString().replace(new RegExp(i,'g'),o))}),e},W=function(e,t){var i;if(i=e.indexOf('<'),e=e.substring(i,e.indexOf('>')-i),i=e.indexOf(t+'='),-1!==i&&(i=i+t.length+1,t=e.charAt(i),'"'===t||'\''===t))return e=e.substring(i+1),e.substring(0,e.indexOf(t))};if(r=[p,L,e,C,t,A,T].join(),r!==i.textCache){for(i.textCache=r;P--;)s.removeChild(w[P]);g||t||L||T||-1!==p.indexOf(' ')?(m&&m.appendChild(s),p=g?p.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,'<span').replace(/<\/(b|strong|i|em|a)>/g,'</span>').split(/<br.*?>/g):[p],p=k(p,function(e){return''!==e}),j(p,function(t,c){var u,x=0;t=t.replace(/^\s+|\s+$/g,'').replace(/<span/g,'|||<span').replace(/<\/span>/g,'</span>|||'),u=t.split('|||'),j(u,function(l){if(''!==l||1===u.length){var f,k,w={},C=y.createElementNS(d.SVG_NS,'tspan');if((f=W(l,'class'))&&n(C,'class',f),(f=W(l,'style'))&&(f=f.replace(/(;| |^)color([ :])/,'$1fill$2'),n(C,'style',f)),(k=W(l,'href'))&&!h&&(n(C,'onclick','location.href="'+k+'"'),n(C,'class','highcharts-anchor'),Y(C,{cursor:'pointer'})),l=R(l.replace(/<[a-zA-Z\/](.|\n)*?>/g,'')||' '),' '!==l){if(C.appendChild(y.createTextNode(l)),x?w.dx=0:c&&null!==S&&(w.x=S),n(C,w),s.appendChild(C),!x&&a&&(!_&&h&&Y(C,{display:'block'}),n(C,'dy',E(C))),T){w=l.replace(/([^\^])-/g,'$1- ').split(' '),k=1<u.length||c||1<w.length&&!e;var P,M=[],D=E(C),O=i.rotation;for(L&&(o=d.applyEllipsis(i,C,l,T));!L&&k&&(w.length||M.length);)i.rotation=0,P=d.getSpanWidth(i,C),l=P>T,void 0===o&&(o=l),l&&1!==w.length?(C.removeChild(C.firstChild),M.unshift(w.pop())):(w=M,M=[],w.length&&!e&&(C=y.createElementNS(b,'tspan'),n(C,{dy:D,x:S}),f&&n(C,'style',f),s.appendChild(C)),P>T&&(T=P+1)),w.length&&C.appendChild(y.createTextNode(w.join(' ').replace(/- /g,'-')));i.rotation=O}x++}}}),a=a||s.childNodes.length}),L&&o&&i.attr('title',R(i.textStr,['&lt;','&gt;'])),m&&m.removeChild(s),t&&i.applyTextOutline&&i.applyTextOutline(t)):s.appendChild(y.createTextNode(R(p)))}},getContrast:function(e){return e=z(e).rgba,510<e[0]+e[1]+e[2]?'#000000':'#FFFFFF'},button:function(e,i,o,n,s,l,d,h,a){var g=this.label(e,i,o,a,null,null,null,null,'button'),u=0;g.attr(H({padding:8,r:2},s));var x,y,b,S;return s=H({fill:'#f7f7f7',stroke:'#cccccc',"stroke-width":1,style:{color:'#333333',cursor:'pointer',fontWeight:'normal'}},s),x=s.style,delete s.style,l=H(s,{fill:'#e6e6e6'},l),y=l.style,delete l.style,d=H(s,{fill:'#e6ebf5',style:{color:'#000000',fontWeight:'bold'}},d),b=d.style,delete d.style,h=H(s,{style:{color:'#cccccc'}},h),S=h.style,delete h.style,R(g.element,t?'mouseover':'mouseenter',function(){3!==u&&g.setState(1)}),R(g.element,t?'mouseout':'mouseleave',function(){3!==u&&g.setState(u)}),g.setState=function(e){1!==e&&(g.state=u=e),g.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass('highcharts-button-'+['normal','hover','pressed','disabled'][e||0]),g.attr([s,l,d,h][e||0]).css([x,y,b,S][e||0])},g.attr(s).css(V({cursor:'default'},x)),g.on('click',function(e){3!==u&&n.call(g,e)})},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=L(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=L(e[2])+t%2/2),e},path:function(e){var t={fill:'none'};return U(e)?t.d=e:I(e)&&V(t,e),this.createElement('path').attr(t)},circle:function(e,t,i){return e=I(e)?e:{x:e,y:t,r:i},t=this.createElement('circle'),t.xSetter=t.ySetter=function(e,t,i){i.setAttribute('c'+t,e)},t.attr(e)},arc:function(e,t,i,o,r,n){return I(e)?(o=e,t=o.y,i=o.r,e=o.x):o={innerR:o,start:r,end:n},e=this.symbol('arc',e,t,i,i,o),e.r=i,e},rect:function(e,t,i,o,r,s){r=I(e)?e.r:r;var d=this.createElement('rect');return e=I(e)?e:void 0===e?{}:{x:e,y:t,width:T(i,0),height:T(o,0)},void 0!==s&&(e.strokeWidth=s,e=d.crisp(e)),e.fill='none',r&&(e.r=r),d.rSetter=function(e,t,i){n(i,{rx:e,ry:e})},d.attr(e)},setSize:function(e,t,i){var o=this.alignedObjects,r=o.length;for(this.width=e,this.height=t,this.boxWrapper.animate({width:e,height:t},{step:function(){this.attr({viewBox:'0 0 '+this.attr('width')+' '+this.attr('height')})},duration:M(i,!0)?void 0:0});r--;)o[r].align()},g:function(e){var t=this.createElement('g');return e?t.attr({class:'highcharts-'+e}):t},image:function(e,t,i,o,r,a){var n,s={preserveAspectRatio:'none'},l=function(e,t){e.setAttributeNS?e.setAttributeNS('http://www.w3.org/1999/xlink','href',t):e.setAttribute('hc-svg-href',t)},d=function(t){l(n.element,e),a.call(n,t)};return 1<arguments.length&&V(s,{x:t,y:i,width:o,height:r}),n=this.createElement('image').attr(s),a?(l(n.element,'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='),s=new Z.Image,R(s,'load',d),s.src=e,s.complete&&d({})):l(n.element,e),n},symbol:function(e,i,o,r,a,n){var s,l,d,c=this,g=/^url\((.*?)\)$/,m=g.test(e),x=!m&&(this.symbols[e]?e:'circle'),b=x&&this.symbols[x],v=F(i)&&b&&b.call(this.symbols,L(i),L(o),r,a,n);return b?(s=this.path(v),s.attr('fill','none'),V(s,{symbolName:x,x:i,y:o,width:r,height:a}),n&&V(s,n)):m&&(l=e.match(g)[1],s=this.image(l),s.imgwidth=M(K[l]&&K[l].width,n&&n.width),s.imgheight=M(K[l]&&K[l].height,n&&n.height),d=function(){s.attr({width:s.width,height:s.height})},j(['width','height'],function(e){s[e+'Setter']=function(e,t){var i={},o=this['img'+t],r='width'===t?'translateX':'translateY';this[t]=e,F(o)&&(this.element&&this.element.setAttribute(t,o),this.alignByTranslate||(i[r]=((this[t]||0)-o)/2,this.attr(i)))}}),F(i)&&s.attr({x:i,y:o}),s.isImg=!0,F(s.imgwidth)&&F(s.imgheight)?d():(s.attr({width:0,height:0}),u('img',{onload:function(){var e=h[c.chartIndex];0===this.width&&(Y(this,{position:'absolute',top:'-999em'}),y.body.appendChild(this)),K[l]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&d(),this.parentNode&&this.parentNode.removeChild(this),c.imgCount--,!c.imgCount&&e&&e.onload&&e.onload()},src:l}),this.imgCount++)),s},symbols:{circle:function(e,t,i,o){return this.arc(e+i/2,t+o/2,i/2,o/2,{start:0,end:2*p,open:!1})},square:function(e,t,i,o){return['M',e,t,'L',e+i,t,e+i,t+o,e,t+o,'Z']},triangle:function(e,t,i,o){return['M',e+i/2,t,'L',e+i,t+o,e,t+o,'Z']},"triangle-down":function(e,t,i,o){return['M',e,t,'L',e+i,t,e+i/2,t+o,'Z']},diamond:function(e,t,i,o){return['M',e+i/2,t,'L',e+i,t+o/2,e+i/2,t+o,e,t+o/2,'Z']},arc:function(t,i,o,r,a){var n=a.start,s=a.r||o,h=a.r||r||o,c=a.end-.001;o=a.innerR,r=M(a.open,.001>P(a.end-a.start-2*p));var g=S(n),m=e(n),u=S(c),c=e(c);return a=.001>a.end-n-p?0:1,s=['M',t+s*g,i+h*m,'A',s,h,0,a,1,t+s*u,i+h*c],F(o)&&s.push(r?'M':'L',t+o*u,i+o*c,'A',o,o,0,a,0,t+o*g,i+o*m),s.push(r?'':'Z'),s},callout:function(e,t,i,o,r){var a=W(r&&r.r||0,i,o),n=a+6,s=r&&r.anchorX;r=r&&r.anchorY;var l;return l=['M',e+a,t,'L',e+i-a,t,'C',e+i,t,e+i,t,e+i,t+a,'L',e+i,t+o-a,'C',e+i,t+o,e+i,t+o,e+i-a,t+o,'L',e+a,t+o,'C',e,t+o,e,t+o,e,t+o-a,'L',e,t+a,'C',e,t,e,t,e+a,t],s&&s>i?r>t+n&&r<t+o-n?l.splice(13,3,'L',e+i,r-6,e+i+6,r,e+i,r+6,e+i,t+o-a):l.splice(13,3,'L',e+i,o/2,s,r,e+i,o/2,e+i,t+o-a):s&&0>s?r>t+n&&r<t+o-n?l.splice(33,3,'L',e,r+6,e-6,r,e,r-6,e,t+a):l.splice(33,3,'L',e,o/2,s,r,e,o/2,e,t+a):r&&r>o&&s>e+n&&s<e+i-n?l.splice(23,3,'L',s+6,t+o,s,t+o+6,s-6,t+o,e+a,t+o):r&&0>r&&s>e+n&&s<e+i-n&&l.splice(3,3,'L',s-6,t,s,t-6,s+6,t,i-a,t),l}},clipRect:function(e,t,o,r){var a=i.uniqueKey(),n=this.createElement('clipPath').attr({id:a}).add(this.defs);return e=this.rect(e,t,o,r,0).add(n),e.id=a,e.clipPath=n,e.count=0,e},text:function(e,t,i,o){var r={};return o&&(this.allowHTML||!this.forExport)?this.html(e,t,i):(r.x=L(t||0),i&&(r.y=L(i)),(e||0===e)&&(r.text=e),e=this.createElement('text').attr(r),o||(e.xSetter=function(e,t,i){var o,r,a=i.getElementsByTagName('tspan'),n=i.getAttribute(t);for(r=0;r<a.length;r++)o=a[r],o.getAttribute(t)===n&&o.setAttribute(t,e);i.setAttribute(t,e)}),e)},fontMetrics:function(e,t){return e=e||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize,e=/px/.test(e)?B(e):/em/.test(e)?parseFloat(e)*(t?this.fontMetrics(null,t.parentNode).f:16):12,t=24>e?e+3:L(1.2*e),{h:t,b:L(.8*t),f:e}},rotCorr:function(t,i,o){var r=t;return i&&o&&(r=T(r*S(i*x),4)),{x:-t/3*e(i*x),y:r}},label:function(r,a,s,l,d,c,x,b,v){var w,T,C,D,B,E,W,X,Y,_,K,Z,J,$=this,ee=$.g('button'!==v&&'label'),te=ee.text=$.text('',0,0,x).attr({zIndex:1}),ie=0,oe=3,re=0,ae={},ne=/^url\((.*?)\)$/.test(l),M=ne;v&&ee.addClass('highcharts-'+v),M=ne,_=function(){return(X||0)%2/2},K=function(){var e=te.element.style,t={};T=(void 0===C||void 0===D||W)&&F(te.textStr)&&te.getBBox(),ee.width=(C||T.width||0)+2*oe+re,ee.height=(D||T.height||0)+2*oe,Y=oe+$.fontMetrics(e&&e.fontSize,te).b,M&&(w||(ee.box=w=$.symbols[l]||ne?$.symbol(l):$.rect(),w.addClass(('button'===v?'':'highcharts-label-box')+(v?' highcharts-'+v+'-box':'')),w.add(ee),e=_(),t.x=e,t.y=(b?-Y:0)+e),t.width=L(ee.width),t.height=L(ee.height),w.attr(V(t,ae)),ae={})},Z=function(){var e,t=re+oe;e=b?0:Y,F(C)&&T&&('center'===W||'right'===W)&&(t+={center:.5,right:1}[W]*(C-T.width)),(t!==te.x||e!==te.y)&&(te.attr('x',t),te.hasBoxWidthChanged&&(T=te.getBBox(!0),K()),void 0!=e&&te.attr('y',e)),te.x=t,te.y=e},J=function(e,t){w?w.attr(e,t):ae[e]=t},ee.onAdd=function(){te.add(ee),ee.attr({text:r||0===r?r:'',x:a,y:s}),w&&F(d)&&ee.attr({anchorX:d,anchorY:c})},ee.widthSetter=function(e){C=i.isNumber(e)?e:null},ee.heightSetter=function(e){D=e},ee['text-alignSetter']=function(e){W=e},ee.paddingSetter=function(e){F(e)&&e!==oe&&(oe=ee.padding=e,Z())},ee.paddingLeftSetter=function(e){F(e)&&e!==re&&(re=e,Z())},ee.alignSetter=function(e){e={left:0,center:.5,right:1}[e],e!==ie&&(ie=e,T&&ee.attr({x:B}))},ee.textSetter=function(e){void 0!==e&&te.textSetter(e),K(),Z()},ee['stroke-widthSetter']=function(e,t){e&&(M=!0),X=this['stroke-width']=e,J(t,e)},ee.strokeSetter=ee.fillSetter=ee.rSetter=function(e,t){'r'!==t&&('fill'===t&&e&&(M=!0),ee[t]=e),J(t,e)},ee.anchorXSetter=function(e,t){d=ee.anchorX=e,J(t,L(e)-_()-B)},ee.anchorYSetter=function(e,t){c=ee.anchorY=e,J(t,e-E)},ee.xSetter=function(e){ee.x=e,ie&&(e-=ie*((C||T.width)+2*oe),ee['forceAnimate:x']=!0),B=L(e),ee.attr('translateX',B)},ee.ySetter=function(e){E=ee.y=L(e),ee.attr('translateY',E)};var se=ee.css;return V(ee,{css:function(e){if(e){var t={};e=H(e),j(ee.textProps,function(i){void 0!==e[i]&&(t[i]=e[i],delete e[i])}),te.css(t),'width'in t&&K()}return se.call(ee,e)},getBBox:function(){return{width:T.width+2*oe,height:T.height+2*oe,x:T.x-oe,y:T.y-oe}},shadow:function(e){return e&&(K(),w&&w.shadow(e)),ee},destroy:function(){g(ee.element,'mouseenter'),g(ee.element,'mouseleave'),te&&(te=te.destroy()),w&&(w=w.destroy()),o.prototype.destroy.call(ee),ee=$=K=Z=J=null}})}}),i.Renderer=a}(a),function(t){var i=t.attr,o=t.createElement,s=t.css,l=t.defined,n=t.each,h=t.extend,e=t.isFirefox,a=t.isMS,d=t.isWebKit,p=t.pick,g=t.pInt,m=t.SVGRenderer,c=t.win,u=t.wrap;h(t.SVGElement.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&'SPAN'===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.htmlUpdateTransform()),e&&'ellipsis'===e.textOverflow&&(e.whiteSpace='nowrap',e.overflow='hidden'),this.styles=h(this.styles,e),s(this.element,e),this},htmlGetBBox:function(){var e=this.element;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var i=this.renderer,o=this.element,d=this.translateX||0,h=this.translateY||0,a=this.x||0,p=this.y||0,c=this.textAlign||'left',t={left:0,center:.5,right:1}[c],r=this.styles,u=r&&r.whiteSpace;if(s(o,{marginLeft:d,marginTop:h}),this.shadows&&n(this.shadows,function(e){s(e,{marginLeft:d+1,marginTop:h+1})}),this.inverted&&n(o.childNodes,function(e){i.invertChild(e,o)}),'SPAN'===o.tagName){var x,r=this.rotation,f=this.textWidth&&g(this.textWidth),m=[r,c,o.innerHTML,this.textWidth,this.textAlign].join();(x=f!==this.oldTextWidth)&&!(x=f>this.oldTextWidth)&&((x=this.textPxLength)||(s(o,{width:'',whiteSpace:u||'nowrap'}),x=o.offsetWidth),x=x>f),x&&/[ \-]/.test(o.textContent||o.innerText)?(s(o,{width:f+'px',display:'block',whiteSpace:u||'normal'}),this.oldTextWidth=f,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,m!==this.cTT&&(u=i.fontMetrics(o.style.fontSize).b,l(r)&&r!==(this.oldRotation||0)&&this.setSpanRotation(r,t,u),this.getSpanCorrection(!l(r)&&this.textPxLength||o.offsetWidth,u,t,r,c)),s(o,{left:a+(this.xCorr||0)+'px',top:p+(this.yCorr||0)+'px'}),this.cTT=m,this.oldRotation=r}}else this.alignOnAdd=!0},setSpanRotation:function(t,i,o){var r={},a=this.renderer.getTransformKey();r[a]=r.transform='rotate('+t+'deg)',r[a+(e?'Origin':'-origin')]=r.transformOrigin=100*i+'% '+o+'px',s(this.element,r)},getSpanCorrection:function(e,t,i){this.xCorr=-e*i,this.yCorr=-t}}),h(m.prototype,{getTransformKey:function(){return a&&!/Edge/.test(c.navigator.userAgent)?'-ms-transform':d?'-webkit-transform':e?'MozTransform':c.opera?'-o-transform':''},html:function(e,t,r){var s=this.createElement('span'),c=s.element,l=s.renderer,a=l.isSVG,x=function(e,t){n(['opacity','visibility'],function(i){u(e,i+'Setter',function(e,i,o,r){e.call(this,i,o,r),t[o]=i})}),e.addedSetters=!0};return s.textSetter=function(e){e!==c.innerHTML&&delete this.bBox,this.textStr=e,c.innerHTML=p(e,''),s.doTransform=!0},a&&x(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(e,t){'align'===t&&(t='textAlign'),s[t]=e,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:e,x:L(t),y:L(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:'absolute'}),c.style.whiteSpace='nowrap',s.css=s.htmlCss,a&&(s.add=function(e){var t,r=l.box.parentNode,d=[];if(!(this.parentGroup=e))t=r;else if(t=e.div,!t){for(;e;)d.push(e),e=e.parentGroup;n(d.reverse(),function(e){function a(t,i){e[i]=t,'translateX'===i?n.left=t+'px':n.top=t+'px',e.doTransform=!0}var n,p=i(e.element,'class');p&&(p={className:p}),t=e.div=e.div||o('div',p,{position:'absolute',left:(e.translateX||0)+'px',top:(e.translateY||0)+'px',display:e.display,opacity:e.opacity,pointerEvents:e.styles&&e.styles.pointerEvents},t||r),n=t.style,h(e,{classSetter:function(e){return function(t){this.element.setAttribute('class',t),e.className=t}}(t),on:function(){return d[0].div&&s.on.apply({element:d[0].div},arguments),e},translateXSetter:a,translateYSetter:a}),e.addedSetters||x(e,n)})}return t.appendChild(c),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(a),function(i){var o=i.defined,a=i.each,s=i.extend,t=i.merge,n=i.pick,h=i.timeUnits,r=i.win;i.Time=function(e){this.update(e,!1)},i.Time.prototype={defaultOptions:{},update:function(o){var a=n(o&&o.useUTC,!0),s=this;this.options=o=t(!0,this.options||{},o),this.Date=o.Date||r.Date,this.timezoneOffset=(this.useUTC=a)&&o.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!a||o.getTimezoneOffset||o.timezone)||this.timezoneOffset?(this.get=function(e,t){var i=t.getTime(),o=i-s.getTimezoneOffset(t);return t.setTime(o),e=t['getUTC'+e](),t.setTime(i),e},this.set=function(e,t,o){var a;-1===i.inArray(e,['Milliseconds','Seconds','Minutes'])?(a=s.getTimezoneOffset(t),a=t.getTime()-a,t.setTime(a),t['setUTC'+e](o),e=s.getTimezoneOffset(t),a=t.getTime()+e,t.setTime(a)):t['set'+e](o)}):a?(this.get=function(e,t){return t['getUTC'+e]()},this.set=function(e,t,i){return t['setUTC'+e](i)}):(this.get=function(e,t){return t['get'+e]()},this.set=function(e,t,i){return t['set'+e](i)})},makeTime:function(t,e,o,a,s,h){var p,c,g;return this.useUTC?(p=this.Date.UTC.apply(0,arguments),c=this.getTimezoneOffset(p),p+=c,g=this.getTimezoneOffset(p),c===g?c-36E5!==this.getTimezoneOffset(p-36E5)||i.isSafari||(p-=36E5):p+=g-c):p=new this.Date(t,e,n(o,1),n(a,0),n(s,0),n(h,0)).getTime(),p},timezoneOffsetFunction:function(){var t=this,e=this.options,o=r.moment;if(!this.useUTC)return function(e){return 6E4*new Date(e).getTimezoneOffset()};if(e.timezone){if(o)return function(t){return 6E4*-o.tz(t,e.timezone).utcOffset()};i.error(25)}return this.useUTC&&e.getTimezoneOffset?function(t){return 6E4*e.getTimezoneOffset(t)}:function(){return 6E4*(t.timezoneOffset||0)}},dateFormat:function(o,n,a){if(!i.defined(n)||isNaN(n))return i.defaultOptions.lang.invalidDate||'';o=i.pick(o,'%Y-%m-%d %H:%M:%S');var s=this,h=new this.Date(n),g=this.get('Hours',h),m=this.get('Day',h),r=this.get('Date',h),l=this.get('Month',h),d=this.get('FullYear',h),u=i.defaultOptions.lang,x=u.weekdays,p=u.shortWeekdays,f=i.pad,h=i.extend({a:p?p[m]:x[m].substr(0,3),A:x[m],d:f(r),e:f(r,2,' '),w:m,b:u.shortMonths[l],B:u.months[l],m:f(l+1),o:l+1,y:d.toString().substr(2,2),Y:d,H:f(g),k:g,I:f(g%12||12),l:g%12||12,M:f(s.get('Minutes',h)),p:12>g?'AM':'PM',P:12>g?'am':'pm',S:f(h.getSeconds()),L:f(L(n%1E3),3)},i.dateFormats);return i.objectEach(h,function(e,t){for(;-1!==o.indexOf('%'+t);)o=o.replace('%'+t,'function'==typeof e?e.call(s,n):e)}),a?o.substr(0,1).toUpperCase()+o.substr(1):o},getTimeTicks:function(e,i,g,m){var u,x,y=this,c=[],k={},r=new y.Date(i),w=e.unitRange,b=e.count||1;if(o(i)){y.set('Milliseconds',r,w>=h.second?0:b*O(y.get('Milliseconds',r)/b)),w>=h.second&&y.set('Seconds',r,w>=h.minute?0:b*O(y.get('Seconds',r)/b)),w>=h.minute&&y.set('Minutes',r,w>=h.hour?0:b*O(y.get('Minutes',r)/b)),w>=h.hour&&y.set('Hours',r,w>=h.day?0:b*O(y.get('Hours',r)/b)),w>=h.day&&y.set('Date',r,w>=h.month?1:b*O(y.get('Date',r)/b)),w>=h.month&&(y.set('Month',r,w>=h.year?0:b*O(y.get('Month',r)/b)),u=y.get('FullYear',r)),w>=h.year&&y.set('FullYear',r,u-u%b),w===h.week&&y.set('Date',r,y.get('Date',r)-y.get('Day',r)+n(m,1)),u=y.get('FullYear',r),m=y.get('Month',r);var v=y.get('Date',r),S=y.get('Hours',r);for(i=r.getTime(),y.variableTimezone&&(x=g-i>4*h.month||y.getTimezoneOffset(i)!==y.getTimezoneOffset(g)),r=r.getTime(),i=1;r<g;)c.push(r),r=w===h.year?y.makeTime(u+i*b,0):w===h.month?y.makeTime(u,m+i*b):x&&(w===h.day||w===h.week)?y.makeTime(u,m,v+i*b*(w===h.day?1:7)):x&&w===h.hour&&1<b?y.makeTime(u,m,v,S+i*b):r+w*b,i++;c.push(r),w<=h.hour&&1E4>c.length&&a(c,function(e){0==e%18E5&&'000000000'===y.dateFormat('%H%M%S%L',e)&&(k[e]='day')})}return c.info=s(e,{higherRanks:k,totalRange:w*b}),c}}}(a),function(e){var t=e.color,i=e.merge;e.defaultOptions={colors:['#7cb5ec','#434348','#90ed7d','#f7a35c','#8085e9','#f15c80','#e4d354','#2b908f','#f45b5b','#91e8e1'],symbols:['circle','diamond','square','triangle','triangle-down'],lang:{loading:'Loading...',months:['January','February','March','April','May','June','July','August','September','October','November','December'],shortMonths:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],weekdays:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],decimalPoint:'.',numericSymbols:['k','M','G','T','P','E'],resetZoom:'Reset zoom',resetZoomTitle:'Reset zoom level 1:1',thousandsSep:' '},global:{},time:e.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:'line',ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:'right',x:-10,y:10}},width:null,height:null,borderColor:'#335cad',backgroundColor:'#ffffff',plotBorderColor:'#cccccc'},title:{text:'Chart title',align:'center',margin:15,widthAdjust:-44},subtitle:{text:'',align:'center',widthAdjust:-44},plotOptions:{},labels:{style:{position:'absolute',color:'#333333'}},legend:{enabled:!0,align:'center',alignColumns:!0,layout:'horizontal',labelFormatter:function(){return this.name},borderColor:'#999999',borderRadius:0,navigation:{activeColor:'#003399',inactiveColor:'#cccccc'},itemStyle:{color:'#333333',fontSize:'12px',fontWeight:'bold',textOverflow:'ellipsis'},itemHoverStyle:{color:'#000000'},itemHiddenStyle:{color:'#cccccc'},shadow:!1,itemCheckboxStyle:{position:'absolute',width:'13px',height:'13px'},squareSymbol:!0,symbolPadding:5,verticalAlign:'bottom',x:0,y:0,title:{style:{fontWeight:'bold'}}},loading:{labelStyle:{fontWeight:'bold',position:'relative',top:'45%'},style:{position:'absolute',backgroundColor:'#ffffff',opacity:.5,textAlign:'center'}},tooltip:{enabled:!0,animation:e.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:'%A, %b %e, %H:%M:%S.%L',second:'%A, %b %e, %H:%M:%S',minute:'%A, %b %e, %H:%M',hour:'%A, %b %e, %H:%M',day:'%A, %b %e, %Y',week:'Week from %A, %b %e, %Y',month:'%B %Y',year:'%Y'},footerFormat:'',padding:8,snap:e.isTouchDevice?25:10,backgroundColor:t('#f7f7f7').setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:'#333333',cursor:'default',fontSize:'12px',pointerEvents:'none',whiteSpace:'nowrap'}},credits:{enabled:!0,href:'http://www.highcharts.com',position:{align:'right',x:-10,verticalAlign:'bottom',y:-5},style:{cursor:'pointer',color:'#999999',fontSize:'9px'},text:'Highcharts.com'}},e.setOptions=function(t){return e.defaultOptions=i(!0,e.defaultOptions,t),e.time.update(i(e.defaultOptions.global,e.defaultOptions.time),!1),e.defaultOptions},e.getOptions=function(){return e.defaultOptions},e.defaultPlotOptions=e.defaultOptions.plotOptions,e.time=new e.Time(i(e.defaultOptions.global,e.defaultOptions.time)),e.dateFormat=function(t,i,o){return e.time.dateFormat(t,i,o)}}(a),function(t){var i=t.correctFloat,o=t.defined,r=t.destroyObjectProperties,s=t.fireEvent,n=t.isNumber,g=t.merge,m=t.pick,u=t.deg2rad;t.Tick=function(t,i,e,o){this.axis=t,this.pos=i,this.type=e||'',this.isNewLabel=this.isNew=!0,e||o||this.addLabel()},t.Tick.prototype={addLabel:function(){var e,t=this.axis,a=t.options,n=t.chart,s=t.categories,u=t.names,x=this.pos,r=a.labels,l=t.tickPositions,f=x===l[0],y=x===l[l.length-1],u=s?m(s[x],u[x],x):x,s=this.label,l=l.info;t.isDatetimeAxis&&l&&(e=a.dateTimeLabelFormats[l.higherRanks[x]||l.unitName]),this.isFirst=f,this.isLast=y,a=t.labelFormatter.call({axis:t,chart:n,isFirst:f,isLast:y,dateTimeLabelFormat:e,value:t.isLog?i(t.lin2log(u)):u,pos:x}),o(s)?s&&s.attr({text:a}):((this.label=s=o(a)&&r.enabled?n.renderer.text(a,0,0,r.useHTML).css(g(r.style)).add(t.labelGroup):null)&&(s.textPxLength=s.getBBox().width),this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?'height':'width']:0},handleOverflow:function(i){var o,a=this.axis,e=a.options.labels,n=i.x,s=a.chart.chartWidth,c=a.chart.spacing,g=m(a.labelLeft,W(a.pos,c[3])),c=m(a.labelRight,T(a.isRadial?0:a.pos+a.len,s-c[1])),l=this.label,d=this.rotation,x={left:0,center:.5,right:1}[a.labelAlign||l.attr('align')],f=l.getBBox().width,p=a.getSlotWidth(this),h=p,y=1,b={};d||!1===e.overflow?0>d&&n-x*f<g?o=L(n/S(d*u)-g):0<d&&n+x*f>c&&(o=L((s-n)/S(d*u))):(s=n+(1-x)*f,n-x*f<g?h=i.x+h*(1-x)-g:s>c&&(h=c-i.x+h*x,y=-1),h=W(p,h),h<p&&'center'===a.labelAlign&&(i.x+=y*(p-h-x*(p-W(f,h)))),f>h||a.autoRotation&&(l.styles||{}).width)&&(o=h),o&&(b.width=o,(e.style||{}).textOverflow||(b.textOverflow='ellipsis'),l.css(b))},getPosition:function(i,o,a,n){var d=this.axis,h=d.chart,r=n&&h.oldChartHeight||h.chartHeight;return i={x:i?t.correctFloat(d.translate(o+a,null,null,n)+d.transB):d.left+d.offset+(d.opposite?(n&&h.oldChartWidth||h.chartWidth)-d.right-d.left:0),y:i?r-d.bottom+d.offset-(d.opposite?d.height:0):t.correctFloat(r-d.translate(o+a,null,null,n)-d.transB)},s(this,'afterGetPosition',{pos:i}),i},getLabelPosition:function(i,n,g,m,c,y,r,l){var d=this.axis,b=d.transA,v=d.reversed,p=d.staggerLines,h=d.tickRotCorr||{x:0,y:0},t=c.y,k=m||d.reserveSpaceDefault?0:-d.labelOffset*('center'===d.labelAlign?.5:1),w={};return o(t)||(t=0===d.side?g.rotation?-8:-g.getBBox().height:2===d.side?h.y+8:S(g.rotation*u)*(h.y-g.getBBox(!1,0).height/2)),i=i+c.x+k+h.x-(y&&m?y*b*(v?-1:1):0),n=n+t-(y&&!m?y*b*(v?1:-1):0),p&&(g=r/(l||1)%p,d.opposite&&(g=p-g-1),n+=d.labelOffset/p*g),w.x=i,w.y=L(n),s(this,'afterGetLabelPosition',{pos:w}),w},getMarkPath:function(t,i,e,o,a,n){return n.crispLine(['M',t,i,'L',t+(a?0:-e),i+(a?e:0)],o)},renderGridLine:function(i,o,e){var n=this.axis,s=n.options,c=this.gridLine,g={},l=this.pos,d=this.type,m=n.tickmarkOffset,u=n.chart.renderer,p=d?d+'Grid':'grid',h=s[p+'LineWidth'],t=s[p+'LineColor'],s=s[p+'LineDashStyle'];c||(g.stroke=t,g['stroke-width']=h,s&&(g.dashstyle=s),d||(g.zIndex=1),i&&(g.opacity=0),this.gridLine=c=u.path().attr(g).addClass('highcharts-'+(d?d+'-':'')+'grid-line').add(n.gridGroup)),!i&&c&&(i=n.getPlotLinePath(l+m,c.strokeWidth()*e,i,!0))&&c[this.isNew?'attr':'animate']({d:i,opacity:o})},renderMark:function(i,o,e){var n=this.axis,s=n.options,c=n.chart.renderer,r=this.type,l=r?r+'Tick':'tick',d=n.tickSize(l),g=this.mark,u=!g,p=i.x;i=i.y;var h=m(s[l+'Width'],!r&&n.isXAxis?1:0),s=s[l+'Color'];d&&(n.opposite&&(d[0]=-d[0]),u&&(this.mark=g=c.path().addClass('highcharts-'+(r?r+'-':'')+'tick').add(n.axisGroup),g.attr({stroke:s,"stroke-width":h})),g[u?'attr':'animate']({d:this.getMarkPath(p,i,d[0],g.strokeWidth()*e,n.horiz,c),opacity:o}))},renderLabel:function(t,i,e,o){var s=this.axis,h=s.horiz,r=s.options,l=this.label,d=r.labels,c=d.step,s=s.tickmarkOffset,g=!0,u=t.x;t=t.y,l&&n(u)&&(l.xy=t=this.getLabelPosition(u,t,l,h,d,s,o,c),(!this.isFirst||this.isLast||m(r.showFirstLabel,1))&&(!this.isLast||this.isFirst||m(r.showLastLabel,1))?!h||d.step||d.rotation||i||0===e||this.handleOverflow(t):g=!1,c&&o%c&&(g=!1),g&&n(t.y)?(t.opacity=e,l[this.isNewLabel?'attr':'animate'](t),this.isNewLabel=!1):(l.attr('y',-9999),this.isNewLabel=!0))},render:function(i,e,o){var a=this.axis,n=a.horiz,s=this.getPosition(n,this.pos,a.tickmarkOffset,e),r=s.x,l=s.y,a=n&&r===a.pos+a.len||!n&&l===a.pos?-1:1;o=m(o,1),this.isActive=!0,this.renderGridLine(e,o,a),this.renderMark(s,o,a),this.renderLabel(s,e,o,i),this.isNew=!1,t.fireEvent(this,'afterRender')},destroy:function(){r(this,this.axis)}}}(a);var l=function(i){var S=i.addEvent,a=i.animObject,C=i.arrayMax,z=i.arrayMin,n=i.color,E=i.correctFloat,h=i.defaultOptions,R=i.defined,g=i.deg2rad,u=i.destroyObjectProperties,y=i.each,x=i.extend,f=i.fireEvent,w=i.format,k=i.getMagnitude,r=i.grep,l=i.inArray,b=i.isArray,N=i.isNumber,X=i.isString,p=i.merge,Y=i.normalizeTickInterval,F=i.objectEach,j=i.pick,t=i.removeEvent,A=i.splat,m=i.syncTimeout,B=i.Tick,d=function(){this.init.apply(this,arguments)};return i.extend(d.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:'%H:%M:%S.%L',second:'%H:%M:%S',minute:'%H:%M',hour:'%H:%M',day:'%e. %b',week:'%e. %b',month:'%b \'%y',year:'%Y'},endOnTick:!1,labels:{enabled:!0,style:{color:'#666666',cursor:'default',fontSize:'11px'},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:'outside',minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:'between',tickPixelInterval:100,tickPosition:'outside',title:{align:'middle',style:{color:'#666666'}},type:'linear',minorGridLineColor:'#f2f2f2',minorGridLineWidth:1,minorTickColor:'#999999',lineColor:'#ccd6eb',lineWidth:1,gridLineColor:'#e6e6e6',tickColor:'#ccd6eb'},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:'Values'},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return i.numberFormat(this.total,-1)},style:{fontSize:'11px',fontWeight:'bold',color:'#000000',textOutline:'1px contrast'}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(e,t){var i=t.isX,o=this;o.chart=e,o.horiz=e.inverted&&!o.isZAxis?!i:i,o.isXAxis=i,o.coll=o.coll||(i?'xAxis':'yAxis'),f(this,'init',{userOptions:t}),o.opposite=t.opposite,o.side=t.side||(o.horiz?o.opposite?0:2:o.opposite?1:3),o.setOptions(t);var r=this.options,a=r.type;o.labelFormatter=r.labels.formatter||o.defaultLabelFormatter,o.userOptions=t,o.minPixelPadding=0,o.reversed=r.reversed,o.visible=!1!==r.visible,o.zoomEnabled=!1!==r.zoomEnabled,o.hasNames='category'===a||!0===r.categories,o.categories=r.categories||o.hasNames,o.names||(o.names=[],o.names.keys={}),o.plotLinesAndBandsGroups={},o.isLog='logarithmic'===a,o.isDatetimeAxis='datetime'===a,o.positiveValuesOnly=o.isLog&&!o.allowNegativeLog,o.isLinked=R(r.linkedTo),o.ticks={},o.labelEdge=[],o.minorTicks={},o.plotLinesAndBands=[],o.alternateBands={},o.len=0,o.minRange=o.userMinRange=r.minRange||r.maxZoom,o.range=r.range,o.offset=r.offset||0,o.stacks={},o.oldStacks={},o.stacksTouched=0,o.max=null,o.min=null,o.crosshair=j(r.crosshair,A(e.options.tooltip.crosshairs)[i?0:1],!1),t=o.options.events,-1===l(o,e.axes)&&(i?e.axes.splice(e.xAxis.length,0,o):e.axes.push(o),e[o.coll].push(o)),o.series=o.series||[],e.inverted&&!o.isZAxis&&i&&void 0===o.reversed&&(o.reversed=!0),F(t,function(e,t){S(o,t,e)}),o.lin2log=r.linearToLogConverter||o.lin2log,o.isLog&&(o.val2lin=o.log2lin,o.lin2val=o.lin2log),f(this,'afterInit')},setOptions:function(e){this.options=p(this.defaultOptions,'yAxis'===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],p(h[this.coll],e)),f(this,'afterSetOptions',{userOptions:e})},defaultLabelFormatter:function(){var e,t=this.axis,o=this.value,r=t.chart.time,a=t.categories,n=this.dateTimeLabelFormat,s=h.lang,c=s.numericSymbols,s=s.numericSymbolMagnitude||1E3,m=c&&c.length,u=t.options.labels.format,t=t.isLog?P(o):t.tickInterval;if(u)e=w(u,this,r);else if(a)e=o;else if(n)e=r.dateFormat(n,o);else if(m&&1E3<=t)for(;m--&&void 0===e;)r=v(s,m+1),t>=r&&0==10*o%r&&null!==c[m]&&0!==o&&(e=i.numberFormat(o/r,-1)+c[m]);return void 0===e&&(e=1E4<=P(o)?i.numberFormat(o,-1):i.numberFormat(o,-1,void 0,'')),e},getSeriesExtremes:function(){var e=this,t=e.chart;f(this,'getSeriesExtremes',null,function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),y(e.series,function(i){if(i.visible||!t.options.chart.ignoreHiddenSeries){var o,a=i.options,n=a.threshold;e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=n&&(n=null),e.isXAxis?(a=i.xData,a.length&&(i=z(a),o=C(a),N(i)||i instanceof Date||(a=r(a,N),i=z(a),o=C(a)),a.length&&(e.dataMin=W(j(e.dataMin,a[0],i),i),e.dataMax=T(j(e.dataMax,a[0],o),o)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,R(i)&&R(o)&&(e.dataMin=W(j(e.dataMin,i),i),e.dataMax=T(j(e.dataMax,o),o)),R(n)&&(e.threshold=n),!a.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}})}),f(this,'afterGetSeriesExtremes')},translate:function(e,t,i,o,r,n){var s=this.linkedParent||this,l=1,d=0,h=o?s.oldTransA:s.transA;o=o?s.oldMin:s.min;var p=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,h||(h=s.transA),i&&(l*=-1,d=s.len),s.reversed&&(l*=-1,d-=l*(s.sector||s.len)),t?(e=(e*l+d-p)/h+o,r&&(e=s.lin2val(e))):(r&&(e=s.val2lin(e)),e=N(o)?l*(e-o)*h+d+l*p+(N(n)?h*n:0):void 0),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,i,o,r,n){var s,h,p,u=this.chart,g=this.left,x=this.top,l=o&&u.oldChartHeight||u.chartHeight,y=o&&u.oldChartWidth||u.chartWidth;s=this.transB;var b=function(e,t,i){return(e<t||e>i)&&(r?e=W(T(t,e),i):p=!0),e};return n=j(n,this.translate(t,null,null,o)),n=W(T(-1E5,n),1E5),t=o=L(n+s),s=h=L(l-n-s),N(n)?this.horiz?(s=x,h=l-this.bottom,t=o=b(t,g,g+this.width)):(t=g,o=y-this.right,s=h=b(s,x,x+this.height)):(p=!0,r=!1),p&&!r?null:u.renderer.crispLine(['M',t,s,'L',o,h],i||1)},getLinearTickPositions:function(e,t,i){var o,r=E(O(t/e)*e);i=E(s(i/e)*e);var a,n=[];if(E(r+e)===r&&(a=20),this.single)return[t];for(t=r;t<=i&&(n.push(t),t=E(t+e,a),t!==o);)o=t;return n},getMinorTickInterval:function(){var e=this.options;return!0===e.minorTicks?j(e.minorTickInterval,'auto'):!1===e.minorTicks?null:e.minorTickInterval},getMinorTickPositions:function(){var e=this,t=e.options,i=e.tickPositions,o=e.minorTickInterval,r=[],a=e.pointRangePadding||0,n=e.min-a,a=e.max+a,s=a-n;if(s&&s/o<e.len/3)if(e.isLog)y(this.paddedTicks,function(t,i,a){i&&r.push.apply(r,e.getLogTickPositions(o,a[i-1],a[i],!0))});else if(e.isDatetimeAxis&&'auto'===this.getMinorTickInterval())r=r.concat(e.getTimeTicks(e.normalizeTimeTickInterval(o),n,a,t.startOfWeek));else for(t=n+(i[0]-n)%o;t<=a&&t!==r[0];t+=o)r.push(t);return 0!==r.length&&e.trimTicks(r),r},adjustForMinRange:function(){var t,i,o,r,n,s,h,g,u=this.options,a=this.min,x=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(R(u.min)||R(u.max)?this.minRange=null:(y(this.series,function(e){for(s=e.xData,r=h=e.xIncrement?1:s.length-1;0<r;r--)(n=s[r]-s[r-1],null==o||n<o)&&(o=n)}),this.minRange=W(5*o,this.dataMax-this.dataMin))),x-a<this.minRange&&(i=this.dataMax-this.dataMin>=this.minRange,g=this.minRange,t=(g-x+a)/2,t=[a-t,j(u.min,a-t)],i&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),a=C(t),x=[a+g,j(u.max,a+g)],i&&(x[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),x=z(x),x-a<g&&(t[0]=x-g,t[1]=j(u.min,x-g),a=C(t))),this.min=a,this.max=x},getClosest:function(){var e;return this.categories?e=1:y(this.series,function(t){var i=t.closestPointRange,o=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&R(i)&&o&&(e=R(e)?W(e,i):i)}),e},nameToX:function(e){var t,i=b(this.categories),o=i?this.categories:this.names,r=e.options.x;return e.series.requireSorting=!1,R(r)||(r=!1===this.options.uniqueNames?e.series.autoIncrement():i?l(e.name,o):j(o.keys[e.name],-1)),-1===r?i||(t=o.length):t=r,void 0!==t&&(this.names[t]=e.name,this.names.keys[e.name]=t),t},updateNames:function(){var e=this,t=this.names;0<t.length&&(y(i.keys(t.keys),function(e){delete t.keys[e]}),t.length=0,this.minRange=this.userMinRange,y(this.series||[],function(t){t.xIncrement=null,(!t.points||t.isDirtyData)&&(t.processData(),t.generatePoints()),y(t.points,function(i,o){var r;i.options&&(r=e.nameToX(i),void 0!==r&&r!==i.x&&(i.x=r,t.xData[o]=r))})}))},setAxisTranslation:function(t){var i,o=this,r=o.max-o.min,n=o.axisPointRange||0,s=0,h=0,a=o.linkedParent,u=!!o.categories,g=o.transA,x=o.isXAxis;(x||u||n)&&(i=o.getClosest(),a?(s=a.minPointOffset,h=a.pointRangePadding):y(o.series,function(e){var t=u?1:x?j(e.options.pointRange,i,0):o.axisPointRange||0;e=e.options.pointPlacement,n=T(n,t),o.single||(s=T(s,X(e)?0:t/2),h=T(h,'on'===e?0:t))}),a=o.ordinalSlope&&i?o.ordinalSlope/i:1,o.minPointOffset=s*=a,o.pointRangePadding=h*=a,o.pointRange=W(n,r),x&&(o.closestPointRange=i)),t&&(o.oldTransA=g),o.translationSlope=o.transA=g=o.options.staticScale||o.len/(r+h||1),o.transB=o.horiz?o.left:o.bottom,o.minPixelPadding=g*s,f(this,'afterSetAxisTranslation')},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var o,a,s,l,p=this,g=p.chart,w=p.options,c=p.isLog,m=p.isDatetimeAxis,v=p.isXAxis,S=p.isLinked,t=w.maxPadding,C=w.minPadding,P=w.tickInterval,L=w.tickPixelInterval,A=p.categories,O=N(p.threshold)?p.threshold:null,z=p.softThreshold;m||A||S||this.getTickAmount(),s=j(p.userMin,w.min),l=j(p.userMax,w.max),S?(p.linkedParent=g[p.coll][w.linkedTo],g=p.linkedParent.getExtremes(),p.min=j(g.min,g.dataMin),p.max=j(g.max,g.dataMax),w.type!==p.linkedParent.options.type&&i.error(11,1)):(!z&&R(O)&&(p.dataMin>=O?(o=O,C=0):p.dataMax<=O&&(a=O,t=0)),p.min=j(s,o,p.dataMin),p.max=j(l,a,p.dataMax)),c&&(p.positiveValuesOnly&&!e&&0>=W(p.min,j(p.dataMin,p.min))&&i.error(10,1),p.min=E(p.log2lin(p.min),15),p.max=E(p.log2lin(p.max),15)),p.range&&R(p.max)&&(p.userMin=p.min=s=T(p.dataMin,p.minFromRange()),p.userMax=l=p.max,p.range=null),f(p,'foundExtremes'),p.beforePadding&&p.beforePadding(),p.adjustForMinRange(),!(A||p.axisPointRange||p.usePercentage||S)&&R(p.min)&&R(p.max)&&(g=p.max-p.min)&&(!R(s)&&C&&(p.min-=g*C),!R(l)&&t&&(p.max+=g*t)),N(w.softMin)&&!N(p.userMin)&&(p.min=W(p.min,w.softMin)),N(w.softMax)&&!N(p.userMax)&&(p.max=T(p.max,w.softMax)),N(w.floor)&&(p.min=T(p.min,w.floor)),N(w.ceiling)&&(p.max=W(p.max,w.ceiling)),z&&R(p.dataMin)&&(O=O||0,!R(s)&&p.min<O&&p.dataMin>=O?p.min=O:!R(l)&&p.max>O&&p.dataMax<=O&&(p.max=O)),p.tickInterval=p.min===p.max||void 0===p.min||void 0===p.max?1:S&&!P&&L===p.linkedParent.options.tickPixelInterval?P=p.linkedParent.tickInterval:j(P,this.tickAmount?(p.max-p.min)/T(this.tickAmount-1,1):void 0,A?1:(p.max-p.min)*L/T(p.len,L)),v&&!e&&y(p.series,function(e){e.processData(p.min!==p.oldMin||p.max!==p.oldMax)}),p.setAxisTranslation(!0),p.beforeSetTickPositions&&p.beforeSetTickPositions(),p.postProcessTickInterval&&(p.tickInterval=p.postProcessTickInterval(p.tickInterval)),p.pointRange&&!P&&(p.tickInterval=T(p.pointRange,p.tickInterval)),e=j(w.minTickInterval,p.isDatetimeAxis&&p.closestPointRange),!P&&p.tickInterval<e&&(p.tickInterval=e),m||c||P||(p.tickInterval=Y(p.tickInterval,null,k(p.tickInterval),j(w.allowDecimals,!(.5<p.tickInterval&&5>p.tickInterval&&1E3<p.max&&9999>p.max)),!!this.tickAmount)),this.tickAmount||(p.tickInterval=p.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t=this.options,i=t.tickPositions;e=this.getMinorTickInterval();var o=t.tickPositioner,r=t.startOnTick,a=t.endOnTick;this.tickmarkOffset=this.categories&&'between'===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval='auto'===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&R(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),this.tickPositions=e=i&&i.slice(),!e&&(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()],e[0]===e[1]&&(e.length=1)),this.tickPositions=e,o&&(o=o.apply(this,[this.min,this.max])))&&(this.tickPositions=e=o),this.paddedTicks=e.slice(0),this.trimTicks(e,r,a),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),i||o||this.adjustTickAmount()),f(this,'afterSetTickPositions')},trimTicks:function(e,t,i){var o=e[0],r=e[e.length-1],a=this.minPointOffset||0;if(!this.isLinked){if(t&&-Infinity!==o)this.min=o;else for(;this.min-a>e[0];)e.shift();if(i)this.max=r;else for(;this.max+a<e[e.length-1];)e.pop();0===e.length&&R(o)&&!this.options.tickPositions&&e.push((r+o)/2)}},alignToOthers:function(){var e,t={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||!1===i.startOnTick||!1===i.endOnTick||this.isLog||y(this.chart[this.coll],function(i){var o=i.options,o=[i.horiz?o.left:o.top,o.width,o.height,o.pane].join();i.series.length&&(t[o]?e=!0:t[o]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,i=e.tickPixelInterval;!R(e.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=s(this.len/i)+1),4>t&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,i=this.tickAmount,o=this.finalTickAmt,r=t&&t.length,n=j(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<i){for(;t.length<i;)t.length%2||this.min===n?t.push(E(t[t.length-1]+e)):t.unshift(E(t[0]-e));this.transA*=(r-1)/(i-1),this.min=t[0],this.max=t[t.length-1]}else r>i&&(this.tickInterval*=2,this.setTickPositions());if(R(o)){for(e=i=t.length;e--;)(3===o&&1==e%2||2>=o&&0<e&&e<i-1)&&t.splice(e,1);this.finalTickAmt=void 0}}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,y(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),f(this,'afterSetScale')},setExtremes:function(e,t,i,o,r){var a=this,n=a.chart;i=j(i,!0),y(a.series,function(e){delete e.kdTree}),r=x(r,{min:e,max:t}),f(a,'setExtremes',r,function(){a.userMin=e,a.userMax=t,a.eventArgs=r,i&&n.redraw(o)})},zoom:function(e,t){var i=this.dataMin,o=this.dataMax,r=this.options,n=W(i,j(r.min,i)),r=T(o,j(r.max,o));return(e!==this.min||t!==this.max)&&(this.allowZoomOutside||(R(i)&&(e<n&&(e=n),e>r&&(e=r)),R(o)&&(t<n&&(t=n),t>r&&(t=r))),this.displayBtn=void 0!==e||void 0!==t,this.setExtremes(e,t,!1,void 0,{trigger:'zoom'})),!0},setAxisSize:function(){var e=this.chart,t=this.options,o=t.offsets||[0,0,0,0],r=this.horiz,a=this.width=L(i.relativeLength(j(t.width,e.plotWidth-o[3]+o[1]),e.plotWidth)),n=this.height=L(i.relativeLength(j(t.height,e.plotHeight-o[0]+o[2]),e.plotHeight)),s=this.top=L(i.relativeLength(j(t.top,e.plotTop+o[0]),e.plotHeight,e.plotTop)),t=this.left=L(i.relativeLength(j(t.left,e.plotLeft+o[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-n-s,this.right=e.chartWidth-a-t,this.len=T(r?a:n,0),this.pos=r?t:s},getExtremes:function(){var e=this.isLog;return{min:e?E(this.lin2log(this.min)):this.min,max:e?E(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,i=t?this.lin2log(this.min):this.min,t=t?this.lin2log(this.max):this.max;return null===e||-Infinity===e?e=i:1/0===e?e=t:i>e?e=i:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(j(e,0)-90*this.side+720)%360,15<e&&165>e?'right':195<e&&345>e?'left':'center'},tickSize:function(e){var t=this.options,i=t[e+'Length'],o=j(t[e+'Width'],'tick'===e&&this.isXAxis?1:0);if(o&&i)return'inside'===t[e+'Position']&&(i=-i),[i,o]},labelMetrics:function(){var e=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[e]&&this.ticks[e].label)},unsquish:function(){var i,n,h,u=this.options.labels,a=this.horiz,x=this.tickInterval,d=x,f=this.len/(((this.categories?1:0)+this.max-this.min)/x),m=u.rotation,p=this.labelMetrics(),k=o,w=function(e){return e/=f||1,e=1<e?s(e):1,E(e*x)};return a?(h=!u.staggerLines&&!u.step&&(R(m)?[m]:f<j(u.autoRotationLimit,80)&&u.autoRotation))&&y(h,function(t){var o;(t===m||t&&-90<=t&&90>=t)&&(n=w(P(p.h/e(g*t))),o=n+P(t/360),o<k&&(k=o,i=t,d=n))}):u.step||(d=w(p.h)),this.autoRotation=h,this.labelRotation=j(i,m),d},getSlotWidth:function(){var e=this.chart,t=this.horiz,i=this.options.labels,o=T(this.tickPositions.length-(this.categories?0:1),1),r=e.margin[3];return t&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/o||!t&&(i.style&&parseInt(i.style.width,10)||r&&r-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var i,o,n,s=this.chart,a=s.renderer,g=this.tickPositions,u=this.ticks,d=this.options.labels,c=d&&d.style||{},l=this.horiz,p=this.getSlotWidth(),m=T(1,L(p-2*(d.padding||5))),x={},f=this.labelMetrics(),e=d.style&&d.style.textOverflow,t=0;if(X(d.rotation)||(x.rotation=d.rotation||0),y(g,function(e){(e=u[e])&&e.label&&e.label.textPxLength>t&&(t=e.label.textPxLength)}),this.maxLabelLength=t,this.autoRotation)t>m&&t>f.h?x.rotation=this.labelRotation:this.labelRotation=0;else if(p&&(i=m,!e))for(o='clip',m=g.length;!l&&m--;)(n=g[m],n=u[n].label)&&(n.styles&&'ellipsis'===n.styles.textOverflow?n.css({textOverflow:'clip'}):n.textPxLength>p&&n.css({width:p+'px'}),n.getBBox().height>this.len/g.length-(f.h-f.f)&&(n.specificTextOverflow='ellipsis'));x.rotation&&(i=t>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight,e||(o='ellipsis')),(this.labelAlign=d.align||this.autoLabelAlign(this.labelRotation))&&(x.align=this.labelAlign),y(g,function(t){var r=(t=u[t])&&t.label,n=c.width,s={};r&&(r.attr(x),i&&!n&&'nowrap'!==c.whiteSpace&&(i<r.textPxLength||'SPAN'===r.element.tagName)?(s.width=i,e||(s.textOverflow=r.specificTextOverflow||o),r.css(s)):r.styles&&r.styles.width&&!s.width&&!n&&r.css({width:null}),delete r.specificTextOverflow,t.rotation=x.rotation)}),this.tickRotCorr=a.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||R(this.min)&&R(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(e){var t,i=this.chart.renderer,o=this.horiz,r=this.opposite,a=this.options.title;this.axisTitle||((t=a.textAlign)||(t=(o?{low:'left',middle:'center',high:'right'}:{low:r?'right':'left',middle:'center',high:r?'left':'right'})[a.align]),this.axisTitle=i.text(a.text,0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation||0,align:t}).addClass('highcharts-axis-title').css(p(a.style)).add(this.axisGroup),this.axisTitle.isNew=!0),a.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[e?'show':'hide'](!0)},generateTick:function(e){var t=this.ticks;t[e]?t[e].addLabel():t[e]=new B(this,e)},getOffset:function(){var i,o,s,f=this,a=f.chart,g=a.renderer,w=f.options,S=f.tickPositions,m=f.ticks,l=f.horiz,p=f.side,k=a.inverted&&!f.isZAxis?[1,0,3,2][p]:p,v=0,A=0,C=w.title,h=w.labels,L=0,z=a.axisOffset,a=a.clipOffset,x=[-1,1,1,-1][p],E=w.className,M=f.axisParent,u=this.tickSize('tick');i=f.hasData(),f.showAxis=o=i||j(w.showEmpty,!0),f.staggerLines=f.horiz&&h.staggerLines,f.axisGroup||(f.gridGroup=g.g('grid').attr({zIndex:w.gridZIndex||1}).addClass('highcharts-'+this.coll.toLowerCase()+'-grid '+(E||'')).add(M),f.axisGroup=g.g('axis').attr({zIndex:w.zIndex||2}).addClass('highcharts-'+this.coll.toLowerCase()+' '+(E||'')).add(M),f.labelGroup=g.g('axis-labels').attr({zIndex:h.zIndex||7}).addClass('highcharts-'+f.coll.toLowerCase()+'-labels '+(E||'')).add(M)),i||f.isLinked?(y(S,function(e,t){f.generateTick(e,t)}),f.renderUnsquish(),f.reserveSpaceDefault=0===p||2===p||{1:'left',3:'right'}[p]===f.labelAlign,j(h.reserveSpace,'center'===f.labelAlign||null,f.reserveSpaceDefault)&&y(S,function(e){L=T(m[e].getLabelSize(),L)}),f.staggerLines&&(L*=f.staggerLines),f.labelOffset=L*(f.opposite?-1:1)):F(m,function(e,t){e.destroy(),delete m[t]}),C&&C.text&&!1!==C.enabled&&(f.addTitle(o),o&&!1!==C.reserveSpace&&(f.titleOffset=v=f.axisTitle.getBBox()[l?'height':'width'],s=C.offset,A=R(s)?0:j(C.margin,l?5:10))),f.renderLine(),f.offset=x*j(w.offset,z[p]),f.tickRotCorr=f.tickRotCorr||{x:0,y:0},g=0===p?-f.labelMetrics().h:2===p?f.tickRotCorr.y:0,A=P(L)+A,L&&(A=A-g+x*(l?j(h.y,f.tickRotCorr.y+8*x):h.x)),f.axisTitleMargin=j(s,A),z[p]=T(z[p],f.axisTitleMargin+v+x*f.offset,A,i&&S.length&&u?u[0]+x*f.offset:0),w=w.offset?0:2*O(f.axisLine.strokeWidth()/2),a[k]=T(a[k],w)},getLinePath:function(e){var t=this.chart,i=this.opposite,o=this.offset,r=this.horiz,n=this.left+(i?this.width:0)+o,o=t.chartHeight-this.bottom-(i?this.height:0)+o;return i&&(e*=-1),t.renderer.crispLine(['M',r?this.left:n,r?o:this.top,'L',r?t.chartWidth-this.right:n,r?o:t.chartHeight-this.bottom],e)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass('highcharts-axis-line').add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,i=this.left,o=this.top,r=this.len,a=this.options.title,n=t?i:o,s=this.opposite,l=this.offset,d=a.x||0,h=a.y||0,p=this.axisTitle,g=this.chart.renderer.fontMetrics(a.style&&a.style.fontSize,p),p=T(p.getBBox(null,0).height-g.h-1,0),r={low:n+(t?0:r),middle:n+r/2,high:n+(t?r:0)}[a.align],i=(t?o+this.height:i)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-p,p,g.f,-p][this.side];return{x:t?r+d:i+(s?this.width:0)+l+d,y:t?i+h-(s?this.height:0)+l:r+h}},renderMinorTick:function(e){var t=this.chart.hasRendered&&N(this.oldMin),i=this.minorTicks;i[e]||(i[e]=new B(this,e,'minor')),t&&i[e].isNew&&i[e].render(null,!0),i[e].render(null,!1,1)},renderTick:function(e,t){var i=this.isLinked,o=this.ticks,r=this.chart.hasRendered&&N(this.oldMin);(!i||e>=this.min&&e<=this.max)&&(o[e]||(o[e]=new B(this,e)),r&&o[e].isNew&&o[e].render(t,!0,.1),o[e].render(t))},render:function(){var o,s,p=this,k=p.chart,d=p.options,b=p.isLog,g=p.isLinked,l=p.tickPositions,v=p.axisTitle,e=p.ticks,t=p.minorTicks,r=p.alternateBands,w=d.stackLabels,h=d.alternateGridColor,S=p.tickmarkOffset,T=p.axisLine,x=p.showAxis,A=a(k.renderer.globalAnimation);p.labelEdge.length=0,p.overlap=!1,y([e,t,r],function(e){F(e,function(e){e.isActive=!1})}),(p.hasData()||g)&&(p.minorTickInterval&&!p.categories&&y(p.getMinorTickPositions(),function(e){p.renderMinorTick(e)}),l.length&&(y(l,function(e,t){p.renderTick(e,t)}),S&&(0===p.min||p.single)&&(e[-1]||(e[-1]=new B(p,-1,null,!0)),e[-1].render(-1))),h&&y(l,function(e,t){s=void 0===l[t+1]?p.max-S:l[t+1]+S,0==t%2&&e<p.max&&s<=p.max+(k.polar?-S:S)&&(r[e]||(r[e]=new i.PlotLineOrBand(p)),o=e+S,r[e].options={from:b?p.lin2log(o):o,to:b?p.lin2log(s):s,color:h},r[e].render(),r[e].isActive=!0)}),p._addedPlotLB||(y((d.plotLines||[]).concat(d.plotBands||[]),function(e){p.addPlotBandOrLine(e)}),p._addedPlotLB=!0)),y([e,t,r],function(e){var t,i=[],o=A.duration;F(e,function(e,t){e.isActive||(e.render(t,!1,0),e.isActive=!1,i.push(t))}),m(function(){for(t=i.length;t--;)e[i[t]]&&!e[i[t]].isActive&&(e[i[t]].destroy(),delete e[i[t]])},e!==r&&k.hasRendered&&o?o:0)}),T&&(T[T.isPlaced?'animate':'attr']({d:this.getLinePath(T.strokeWidth())}),T.isPlaced=!0,T[x?'show':'hide'](!0)),v&&x&&(d=p.getTitlePosition(),N(d.y)?(v[v.isNew?'attr':'animate'](d),v.isNew=!1):(v.attr('y',-9999),v.isNew=!0)),w&&w.enabled&&p.renderStackTotals(),p.isDirty=!1,f(this,'afterRender')},redraw:function(){this.visible&&(this.render(),y(this.plotLinesAndBands,function(e){e.render()})),y(this.series,function(e){e.isDirty=!0})},keepProps:['extKey','hcEvents','names','series','userMax','userMin'],destroy:function(e){var i,o=this,r=o.stacks,n=o.plotLinesAndBands;if(f(this,'destroy',{keepEvents:e}),e||t(o),F(r,function(e,t){u(e),r[t]=null}),y([o.ticks,o.minorTicks,o.alternateBands],function(e){u(e)}),n)for(e=n.length;e--;)n[e].destroy();for(i in y(['stackTotalGroup','axisLine','axisTitle','axisGroup','gridGroup','labelGroup','cross'],function(e){o[e]&&(o[e]=o[e].destroy())}),o.plotLinesAndBandsGroups)o.plotLinesAndBandsGroups[i]=o.plotLinesAndBandsGroups[i].destroy();F(o,function(e,t){-1===l(t,o.keepProps)&&delete o[t]})},drawCrosshair:function(e,t){var i,o,r=this.crosshair,s=j(r.snap,!0),h=this.cross;if(f(this,'drawCrosshair',{e:e,point:t}),e||(e=this.cross&&this.cross.e),this.crosshair&&!1!==(R(t)||!s)){if(s?R(t)&&(o=j(t.crosshairPos,this.isXAxis?t.plotX:this.len-t.plotY)):o=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),R(o)&&(i=this.getPlotLinePath(t&&(this.isXAxis?t.x:j(t.stackY,t.y)),null,null,null,o)||null),!R(i))return void this.hideCrosshair();s=this.categories&&!this.isRadial,h||(this.cross=h=this.chart.renderer.path().addClass('highcharts-crosshair highcharts-crosshair-'+(s?'category ':'thin ')+r.className).attr({zIndex:j(r.zIndex,2)}).add(),h.attr({stroke:r.color||(s?n('#ccd6eb').setOpacity(.25).get():'#cccccc'),"stroke-width":j(r.width,1)}).css({"pointer-events":'none'}),r.dashStyle&&h.attr({dashstyle:r.dashStyle})),h.show().attr({d:i}),s&&!r.width&&h.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair();f(this,'afterDrawCrosshair',{e:e,point:t})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),i.Axis=d}(a);return function(e){var t=e.Axis,i=e.getMagnitude,o=e.normalizeTickInterval,r=e.timeUnits;t.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},t.prototype.normalizeTimeTickInterval=function(t,n){var s=n||[['millisecond',[1,2,5,10,20,25,50,100,200,500]],['second',[1,2,5,10,15,30]],['minute',[1,2,5,10,15,30]],['hour',[1,2,3,4,6,8,12]],['day',[1,2]],['week',[1,2]],['month',[1,2,3,4,6]],['year',null]];n=s[s.length-1];var l,d=r[n[0]],h=n[1];for(l=0;l<s.length&&(n=s[l],d=r[n[0]],h=n[1],!(s[l+1]&&t<=(d*h[h.length-1]+r[s[l+1][0]])/2));l++);return d===r.year&&t<5*d&&(h=[1,2,5]),t=o(t/d,h,'year'===n[0]?T(i(t/d),1):1),{unitRange:d,count:t,unitName:n[0]}}}(a),function(e){var t=e.Axis,i=e.getMagnitude,o=e.map,s=e.normalizeTickInterval,p=e.pick;t.prototype.getLogTickPositions=function(t,n,h,g){var m=this.options,x=this.len,v=[];if(g||(this._minorAutoInterval=null),.5<=t)t=L(t),v=this.getLinearTickPositions(t,n,h);else if(.08<=t)for(var w,S,T,A,C,x=O(n),m=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];x<h+1&&!C;x++)for(S=m.length,w=0;w<S&&!C;w++)T=this.log2lin(this.lin2log(x)*m[w]),T>n&&(!g||A<=h)&&void 0!==A&&v.push(A),A>h&&(C=!0),A=T;else n=this.lin2log(n),h=this.lin2log(h),t=g?this.getMinorTickInterval():m.tickInterval,t=p('auto'===t?null:t,this._minorAutoInterval,m.tickPixelInterval/(g?5:1)*(h-n)/((g?x/this.tickPositions.length:x)||1)),t=s(t,null,i(t)),v=o(this.getLinearTickPositions(t,n,h),this.log2lin),g||(this._minorAutoInterval=t/5);return g||(this.tickInterval=t),v},t.prototype.log2lin=function(e){return n(e)/r},t.prototype.lin2log=function(e){return v(10,e)}}(a),function(i,t){var o=i.arrayMax,r=i.arrayMin,a=i.defined,n=i.destroyObjectProperties,s=i.each,e=i.erase,g=i.merge,x=i.pick;i.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},i.PlotLineOrBand.prototype={render:function(){var o=this,e=o.axis,n=e.horiz,s=o.options,c=s.label,f=o.label,y=s.to,k=s.from,w=s.value,S=a(k)&&a(y),p=a(w),h=o.svgElem,T=!h,u=[],C=s.color,P=x(s.zIndex,0),m=s.events,u={class:'highcharts-plot-'+(S?'band ':'line ')+(s.className||'')},L={},O=e.chart.renderer,M=S?'bands':'lines';if(e.isLog&&(k=e.log2lin(k),y=e.log2lin(y),w=e.log2lin(w)),p?(u.stroke=C,u['stroke-width']=s.width,s.dashStyle&&(u.dashstyle=s.dashStyle)):S&&(C&&(u.fill=C),s.borderWidth&&(u.stroke=s.borderColor,u['stroke-width']=s.borderWidth)),L.zIndex=P,M+='-'+P,(C=e.plotLinesAndBandsGroups[M])||(e.plotLinesAndBandsGroups[M]=C=O.g('plot-'+M).attr(L).add()),T&&(o.svgElem=h=O.path().attr(u).add(C)),p)u=e.getPlotLinePath(w,h.strokeWidth());else if(S)u=e.getPlotBandPath(k,y,s);else return;return T&&u&&u.length?(h.attr({d:u}),m&&i.objectEach(m,function(e,t){h.on(t,function(e){m[t].apply(o,[e])})})):h&&(u?(h.show(),h.animate({d:u})):(h.hide(),f&&(o.label=f=f.destroy()))),c&&a(c.text)&&u&&u.length&&0<e.width&&0<e.height&&!u.isFlat?(c=g({align:n&&S&&'center',x:n?!S&&4:10,verticalAlign:!n&&S&&'middle',y:n?S?16:10:S?6:-4,rotation:n&&!S&&90},c),this.renderLabel(c,u,S,P)):f&&f.hide(),o},renderLabel:function(t,i,a,n){var s=this.label,d=this.axis.chart.renderer;s||(s={align:t.textAlign||t.align,rotation:t.rotation,class:'highcharts-plot-'+(a?'band':'line')+'-label '+(t.className||'')},s.zIndex=n,this.label=s=d.text(t.text,0,0,t.useHTML).attr(s).add(),s.css(t.style)),n=i.xBounds||[i[1],i[4],a?i[6]:i[1]],i=i.yBounds||[i[2],i[5],a?i[7]:i[2]],a=r(n),d=r(i),s.align(t,!1,{x:a,y:d,width:o(n)-a,height:o(i)-d}),s.show()},destroy:function(){e(this.axis.plotLinesAndBands,this),delete this.axis,n(this)}},i.extend(t.prototype,{getPlotBandPath:function(t,i){var o,r=this.getPlotLinePath(i,null,null,!0),n=this.getPlotLinePath(t,null,null,!0),s=[],e=this.horiz,l=1;if(t=t<this.min&&i<this.min||t>this.max&&i>this.max,n&&r)for(t&&(o=n.toString()===r.toString(),l=0),t=0;t<n.length;t+=6)e&&r[t+1]===n[t+1]?(r[t+1]+=l,r[t+4]+=l):e||r[t+2]!==n[t+2]||(r[t+2]+=l,r[t+5]+=l),s.push('M',n[t+1],n[t+2],'L',n[t+4],n[t+5],r[t+4],r[t+5],r[t+1],r[t+2],'z'),s.isFlat=o;return s},addPlotBand:function(e){return this.addPlotBandOrLine(e,'plotBands')},addPlotLine:function(e){return this.addPlotBandOrLine(e,'plotLines')},addPlotBandOrLine:function(t,e){var o=new i.PlotLineOrBand(this,t).render(),r=this.userOptions;return o&&(e&&(r[e]=r[e]||[],r[e].push(t)),this.plotLinesAndBands.push(o)),o},removePlotBandOrLine:function(t){for(var i=this.plotLinesAndBands,o=this.options,a=this.userOptions,n=i.length;n--;)i[n].id===t&&i[n].destroy();s([o.plotLines||[],a.plotLines||[],o.plotBands||[],a.plotBands||[]],function(i){for(n=i.length;n--;)i[n].id===t&&e(i,i[n])})},removePlotBand:function(e){this.removePlotBandOrLine(e)},removePlotLine:function(e){this.removePlotBandOrLine(e)}})}(a,l),function(i){var o=i.doc,r=i.each,t=i.extend,s=i.format,n=i.isNumber,g=i.map,e=i.merge,u=i.pick,m=i.splat,a=i.syncTimeout,l=i.timeUnits;i.Tooltip=function(){this.init.apply(this,arguments)},i.Tooltip.prototype={init:function(e,t){this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=t.split&&!e.inverted,this.shared=t.shared||this.split,this.outside=t.outside&&!this.split},cleanSplit:function(e){r(this.chart.series,function(t){var i=t&&t.tt;i&&(!i.isActive||e?t.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t,o=this.chart.renderer,r=this.options;return this.label||(this.outside&&(this.container=t=i.doc.createElement('div'),t.className='highcharts-tooltip-container',i.css(t,{position:'absolute',top:'1px',pointerEvents:'none'}),i.doc.body.appendChild(t),this.renderer=o=new i.Renderer(t,0,0)),this.split?this.label=o.g('tooltip'):(this.label=o.label('',0,0,r.shape||'callout',null,null,r.useHTML,null,'tooltip').attr({padding:r.padding,r:r.borderRadius}),this.label.attr({fill:r.backgroundColor,"stroke-width":r.borderWidth}).css(r.style).shadow(r.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(e){t.style.left=e+'px'},this.label.ySetter=function(e){t.style.top=e+'px'}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),e(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,e(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),i.discardElement(this.container)),i.clearTimeout(this.hideTimer),i.clearTimeout(this.tooltipTimeout)},move:function(o,r,a,e){var n=this,s=n.now,l=!1!==n.options.animation&&!n.isHidden&&(1<P(o-s.x)||1<P(r-s.y)),d=n.followPointer||1<n.len;t(s,{x:l?(2*s.x+o)/3:o,y:l?(s.y+r)/2:r,anchorX:d?void 0:l?(2*s.anchorX+a)/3:a,anchorY:d?void 0:l?(s.anchorY+e)/2:e}),n.getLabel().attr(s),l&&(i.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){n&&n.move(o,r,a,e)},32))},hide:function(e){var t=this;i.clearTimeout(this.hideTimer),e=u(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=a(function(){t.getLabel()[e?'fadeOut':'hide'](),t.isHidden=!0},e))},getAnchor:function(e,i){var o,n,s,u=this.chart,l=u.inverted,d=u.plotTop,x=u.plotLeft,y=0,b=0;return e=m(e),o=e[0].tooltipPos,this.followPointer&&i&&(void 0===i.chartX&&(i=u.pointer.normalize(i)),o=[i.chartX-u.plotLeft,i.chartY-d]),o||(r(e,function(e){n=e.series.yAxis,s=e.series.xAxis,y+=e.plotX+(!l&&s?s.left-x:0),b+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!l&&n?n.top-d:0)}),y/=e.length,b/=e.length,o=[l?u.plotWidth-b:y,this.shared&&!l&&1<e.length&&i?i.chartY-d:l?u.plotHeight-y:b]),g(o,Math.round)},getPosition:function(i,a,n){var e,s=this.chart,x=this.distance,d={},y=s.inverted&&n.h||0,l=this.outside,c=l?o.documentElement.clientWidth-2*x:s.chartWidth,t=l?T(o.body.scrollHeight,o.documentElement.scrollHeight,o.body.offsetHeight,o.documentElement.offsetHeight,o.documentElement.clientHeight):s.chartHeight,h=s.pointer.chartPosition,f=['y',t,a,(l?h.top-x:0)+n.plotY+s.plotTop,l?0:s.plotTop,l?t:s.plotTop+s.plotHeight],v=['x',c,i,(l?h.left-x:0)+n.plotX+s.plotLeft,l?0:s.plotLeft,l?c:s.plotLeft+s.plotWidth],b=!this.followPointer&&u(n.ttBelow,!s.inverted==!!n.negative),k=function(t,i,o,r,a,n){var s=o<r-x,l=r+x+o<i,e=r-x-o;if(r+=x,b&&l)d[t]=r;else if(!b&&s)d[t]=e;else if(s)d[t]=W(n-o,0>e-y?e:e-y);else if(l)d[t]=T(a,r+y+o>i?r:r+y);else return!1},w=function(e,t,i,o){var r;return o<x||o>t-x?r=!1:d[e]=o<i/2?1:o>t-i/2?t-i-2:o-i/2,r},S=function(t){var i=f;f=v,v=i,e=t},A=function t(){!1===k.apply(0,f)?e?d.x=d.y=0:(S(!0),t()):!1!==w.apply(0,v)||e||(S(!0),t())};return(s.inverted||1<this.len)&&S(),A(),d},defaultFormatter:function(e){var t,i=this.points||m(this);return t=[e.tooltipFooterHeaderFormatter(i[0])],t=t.concat(e.bodyFormatter(i)),t.push(e.tooltipFooterHeaderFormatter(i[0],!0)),t},refresh:function(o,a){var n,s,h,c=this.options,l=o,g={},x=[];n=c.formatter||this.defaultFormatter;var y,g=this.shared;c.enabled&&(i.clearTimeout(this.hideTimer),this.followPointer=m(l)[0].series.tooltipOptions.followPointer,h=this.getAnchor(l,a),a=h[0],s=h[1],!g||l.series&&l.series.noSharedTooltip?g=l.getLabelConfig():(r(l,function(e){e.setState('hover'),x.push(e.getLabelConfig())}),g={x:l[0].category,y:l[0].y},g.points=x,l=l[0]),this.len=x.length,g=n.call(g,this),y=l.series,this.distance=u(y.tooltipOptions.distance,16),!1===g?this.hide():(n=this.getLabel(),this.isHidden&&n.attr({opacity:1}).show(),this.split?this.renderSplit(g,m(o)):(c.style.width||n.css({width:this.chart.spacingBox.width}),n.attr({text:g&&g.join?g.join(''):g}),n.removeClass(/highcharts-color-[\d]+/g).addClass('highcharts-color-'+u(l.colorIndex,y.colorIndex)),n.attr({stroke:c.borderColor||l.color||y.color||'#666666'}),this.updatePosition({plotX:a,plotY:s,negative:l.negative,ttBelow:l.ttBelow,h:h[2]||0})),this.isHidden=!1))},renderSplit:function(o,n){var s=this,e=[],l=this.chart,d=l.renderer,g=!0,x=this.options,p=0,f=this.getLabel();i.isString(o)&&(o=[!1,o]),r(o.slice(0,n.length+1),function(t,i){if(!1!==t){i=n[i-1]||{isHeader:!0,plotX:n[0].plotX};var o=i.series||s,r=o.tt,h=i.series||{},y='highcharts-color-'+u(i.colorIndex,h.colorIndex,'none');r||(o.tt=r=d.label(null,null,null,'callout',null,null,x.useHTML).addClass('highcharts-tooltip-box '+y).attr({padding:x.padding,r:x.borderRadius,fill:x.backgroundColor,stroke:x.borderColor||i.color||h.color||'#333333',"stroke-width":x.borderWidth}).add(f)),r.isActive=!0,r.attr({text:t}),r.css(x.style).shadow(x.shadow),t=r.getBBox(),h=t.width+r.strokeWidth(),i.isHeader?(p=t.height,h=T(0,W(i.plotX+l.plotLeft-h/2,l.chartWidth-h))):h=i.plotX+l.plotLeft-u(x.distance,16)-h,0>h&&(g=!1),t=(i.series&&i.series.yAxis&&i.series.yAxis.pos)+(i.plotY||0),t-=l.plotTop,e.push({target:i.isHeader?l.plotHeight+p:t,rank:i.isHeader?1:0,size:o.tt.getBBox().height+1,point:i,x:h,tt:r})}}),this.cleanSplit(),i.distribute(e,l.plotHeight+p),r(e,function(e){var t=e.point,i=t.series;e.tt.attr({visibility:void 0===e.pos?'hidden':'inherit',x:g||t.isHeader?e.x:t.plotX+l.plotLeft+u(x.distance,16),y:e.pos+l.plotTop,anchorX:t.isHeader?t.plotX+l.plotLeft:t.plotX+i.xAxis.pos,anchorY:t.isHeader?e.pos+l.plotTop-15:t.plotY+i.yAxis.pos})})},updatePosition:function(e){var t=this.chart,i=this.getLabel(),o=(this.options.positioner||this.getPosition).call(this,i.width,i.height,e),r=e.plotX+t.plotLeft;e=e.plotY+t.plotTop;var n;this.outside&&(n=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(i.width+n,i.height+n,!1),r+=t.pointer.chartPosition.left-o.x,e+=t.pointer.chartPosition.top-o.y),this.move(L(o.x),L(o.y||0),r,e)},getDateFormat:function(i,o,e,r){var a,n,s=this.chart.time,d=s.dateFormat('%m-%d %H:%M:%S.%L',o),h={millisecond:15,second:12,minute:9,hour:6,day:3},g='millisecond';for(n in l){if(i===l.week&&+s.dateFormat('%w',o)===e&&'00:00:00.000'===d.substr(6)){n='week';break}if(l[n]>i){n=g;break}if(h[n]&&d.substr(h[n])!=='01-01 00:00:00.000'.substr(h[n]))break;'week'!==n&&(g=n)}return n&&(a=r[n]),a},getXDateFormat:function(t,i,o){i=i.dateTimeLabelFormats;var e=o&&o.closestPointRange;return(e?this.getDateFormat(e,t.x,o.options.startOfWeek,i):i.day)||i.year},tooltipFooterHeaderFormatter:function(t,i){i=i?'footer':'header';var o=t.series,a=o.tooltipOptions,l=a.xDateFormat,h=o.xAxis,c=h&&'datetime'===h.options.type&&n(t.key),e=a[i+'Format'];return c&&!l&&(l=this.getXDateFormat(t,a,h)),c&&l&&r(t.point&&t.point.tooltipDateKeys||['key'],function(t){e=e.replace('{point.'+t+'}','{point.'+t+':'+l+'}')}),s(e,{point:t,series:o},this.chart.time)},bodyFormatter:function(e){return g(e,function(e){var t=e.series.tooltipOptions;return(t[(e.point.formatPrefix||'point')+'Formatter']||e.point.tooltipFormatter).call(e.point,t[(e.point.formatPrefix||'point')+'Format'])})}}}(a),function(t){var o=t.addEvent,s=t.attr,a=t.charts,p=t.color,n=t.css,h=t.defined,g=t.each,e=t.extend,u=t.find,y=t.fireEvent,x=t.isNumber,w=t.isObject,m=t.offset,k=t.pick,r=t.splat,l=t.Tooltip;t.Pointer=function(e,t){this.init(e,t)},t.Pointer.prototype={init:function(e,t){this.options=t,this.chart=e,this.runChartClick=t.chart.events&&!!t.chart.events.click,this.pinchDown=[],this.lastValidTouch={},l&&(e.tooltip=new l(e,t.tooltip),this.followTouchMove=k(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(e){var t=this.chart,i=t.options.chart,o=i.zoomType||'',t=t.inverted;/touch/.test(e.type)&&(o=k(i.pinchType,o)),this.zoomX=e=/x/.test(o),this.zoomY=o=/y/.test(o),this.zoomHor=e&&!t||o&&t,this.zoomVert=o&&!t||e&&t,this.hasZoom=e||o},normalize:function(t,i){var o;return o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,i||(this.chartPosition=i=m(this.chart.container)),e(t,{chartX:L(o.pageX-i.left),chartY:L(o.pageY-i.top)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return g(this.chart.axes,function(i){t[i.isXAxis?'xAxis':'yAxis'].push({axis:i,value:i.toValue(e[i.horiz?'chartX':'chartY'])})}),t},findNearestKDPoint:function(e,t,i){var o;return g(e,function(r){var n=!(r.noSharedTooltip&&t)&&0>r.options.findNearestPointBy.indexOf('y');if(r=r.searchPoint(i,n),(n=w(r,!0))&&!(n=!w(o,!0)))var n=o.distX-r.distX,s=o.dist-r.dist,e=(r.series.group&&r.series.group.zIndex)-(o.series.group&&o.series.group.zIndex),n=0<(0!==n&&t?n:0==s?0==e?o.series.index>r.series.index?-1:1:e:s);n&&(o=r)}),o},getPointFromEvent:function(e){e=e.target;for(var t;e&&!t;)t=e.point,e=e.parentNode;return t},getChartCoordinatesFromPoint:function(e,t){var i=e.series,o=i.xAxis,i=i.yAxis,r=k(e.clientX,e.plotX),a=e.shapeArgs;return o&&i?t?{chartX:o.len+o.pos-r,chartY:i.len+i.pos-e.plotY}:{chartX:r+o.pos,chartY:e.plotY+i.pos}:a&&a.x&&a.y?{chartX:a.x,chartY:a.y}:void 0},getHoverData:function(i,o,r,a,n,e,s){var c,x=[],m=s&&s.isBoosting;return a=a&&i,s=o&&!o.stickyTracking?[o]:t.grep(r,function(e){return e.visible&&(n||!e.directTouch)&&k(e.options.enableMouseTracking,!0)&&e.stickyTracking}),o=(c=a?i:this.findNearestKDPoint(s,n,e))&&c.series,c&&(n&&!o.noSharedTooltip?(s=t.grep(r,function(e){return e.visible&&(n||!e.directTouch)&&k(e.options.enableMouseTracking,!0)&&!e.noSharedTooltip}),g(s,function(e){var t=u(e.points,function(e){return e.x===c.x&&!e.isNull});w(t)&&(m&&(t=e.getPoint(t)),x.push(t))})):x.push(c)),{hoverPoint:c,hoverSeries:o,hoverPoints:x}},runPointActions:function(i,r){var n,s=this.chart,p=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,c=!!p&&p.shared,m=r||s.hoverPoint,u=m&&m.series||s.hoverSeries,u=this.getHoverData(m,u,s.series,!!r||u&&u.directTouch&&this.isDirectTouch,c,i,{isBoosting:s.isBoosting}),m=u.hoverPoint;if(n=u.hoverPoints,r=(u=u.hoverSeries)&&u.tooltipOptions.followPointer,c=c&&u&&!u.noSharedTooltip,m&&(m!==s.hoverPoint||p&&p.isHidden)){if(g(s.hoverPoints||[],function(e){-1===t.inArray(e,n)&&e.setState()}),g(n||[],function(e){e.setState('hover')}),s.hoverSeries!==u&&u.onMouseOver(),s.hoverPoint&&s.hoverPoint.firePointEvent('mouseOut'),!m.series)return;m.firePointEvent('mouseOver'),s.hoverPoints=n,s.hoverPoint=m,p&&p.refresh(c?n:m,i)}else r&&p&&!p.isHidden&&(m=p.getAnchor([{}],i),p.updatePosition({plotX:m[0],plotY:m[1]}));this.unDocMouseMove||(this.unDocMouseMove=o(s.container.ownerDocument,'mousemove',function(e){var i=a[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)})),g(s.axes,function(e){var o=k(e.crosshair.snap,!0),r=o?t.find(n,function(t){return t.series[e.coll]===e}):void 0;r||!o?e.drawCrosshair(i,r):e.hideCrosshair()})},reset:function(t,i){var o=this.chart,n=o.hoverSeries,s=o.hoverPoint,l=o.hoverPoints,e=o.tooltip,d=e&&e.shared?l:s;t&&d&&g(r(d),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?e&&d&&(e.refresh(d),s&&(s.setState(s.state,!0),g(o.axes,function(e){e.crosshair&&e.drawCrosshair(null,s)}))):(s&&s.onMouseOut(),l&&g(l,function(e){e.setState()}),n&&n.onMouseOut(),e&&e.hide(i),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),g(o.axes,function(e){e.hideCrosshair()}),this.hoverX=o.hoverPoints=o.hoverPoint=null)},scaleGroups:function(e,t){var i,o=this.chart;g(o.series,function(r){i=e||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(t?o.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),o.clipRect.attr(t||o.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(t){var o,a=this.chart,n=a.options.chart,s=t.chartX,c=t.chartY,u=this.zoomHor,l=this.zoomVert,e=a.plotLeft,x=a.plotTop,m=a.plotWidth,h=a.plotHeight,y=this.selectionMarker,b=this.mouseDownX,g=this.mouseDownY,k=n.panKey&&t[n.panKey+'Key'];y&&y.touch||(s<e?s=e:s>e+m&&(s=e+m),c<x?c=x:c>x+h&&(c=x+h),this.hasDragged=i(v(b-s,2)+v(g-c,2)),10<this.hasDragged&&(o=a.isInsidePlot(b-e,g-x),a.hasCartesianSeries&&(this.zoomX||this.zoomY)&&o&&!k&&!y&&(this.selectionMarker=y=a.renderer.rect(e,x,u?1:m,l?1:h,0).attr({fill:n.selectionMarkerFill||p('#335cad').setOpacity(.25).get(),class:'highcharts-selection-marker',zIndex:7}).add()),y&&u&&(s-=b,y.attr({width:P(s),x:(0<s?0:s)+b})),y&&l&&(s=c-g,y.attr({height:P(s),y:(0<s?0:s)+g})),o&&!y&&n.panning&&a.pan(t,n.panning)))},drop:function(t){var i=this,o=this.chart,s=this.hasPinched;if(this.selectionMarker){var a,d={originalEvent:t,xAxis:[],yAxis:[]},l=this.selectionMarker,p=l.attr?l.attr('x'):l.x,r=l.attr?l.attr('y'):l.y,u=l.attr?l.attr('width'):l.width,m=l.attr?l.attr('height'):l.height;(this.hasDragged||s)&&(g(o.axes,function(e){if(e.zoomEnabled&&h(e.min)&&(s||i[{xAxis:'zoomX',yAxis:'zoomY'}[e.coll]])){var o=e.horiz,n='touchend'===t.type?e.minPixelPadding:0,l=e.toValue((o?p:r)+n),o=e.toValue((o?p+u:r+m)-n);d[e.coll].push({axis:e,min:W(l,o),max:T(l,o)}),a=!0}}),a&&y(o,'selection',d,function(t){o.zoom(e(t,s?{animation:!1}:null))})),x(o.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}o&&x(o.index)&&(n(o.container,{cursor:o._cursor}),o.cancelClick=10<this.hasDragged,o.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),2!==e.button&&(this.zoomOption(e),e.preventDefault&&e.preventDefault(),this.dragStart(e))},onDocumentMouseUp:function(e){a[t.hoverChartIndex]&&a[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,i=this.chartPosition;e=this.normalize(e,i),!i||this.inClass(e.target,'highcharts-tracker')||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=a[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;h(t.hoverChartIndex)&&a[t.hoverChartIndex]&&a[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,'mousedown'===i.mouseIsDown&&this.drag(e),(this.inClass(e.target,'highcharts-tracker')||i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop))&&!i.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var i;e;){if(i=s(e,'class')){if(-1!==i.indexOf(t))return!0;if(-1!==i.indexOf('highcharts-container'))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;e=e.relatedTarget||e.toElement,this.isDirectTouch=!1,!t||!e||t.stickyTracking||this.inClass(e,'highcharts-tooltip')||this.inClass(e,'highcharts-series-'+t.index)&&this.inClass(e,'highcharts-tracker')||t.onMouseOut()},onContainerClick:function(t){var i=this.chart,o=i.hoverPoint,r=i.plotLeft,n=i.plotTop;t=this.normalize(t),i.cancelClick||(o&&this.inClass(t.target,'highcharts-tracker')?(y(o.series,'click',e(t,{point:o})),i.hoverPoint&&o.firePointEvent('click',t)):(e(t,this.getCoordinates(t)),i.isInsidePlot(t.chartX-r,t.chartY-n)&&y(i,'click',t)))},setDOMEvents:function(){var e=this,i=e.chart.container,r=i.ownerDocument;i.onmousedown=function(t){e.onContainerMouseDown(t)},i.onmousemove=function(t){e.onContainerMouseMove(t)},i.onclick=function(t){e.onContainerClick(t)},this.unbindContainerMouseLeave=o(i,'mouseleave',e.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=o(r,'mouseup',e.onDocumentMouseUp)),t.hasTouch&&(i.ontouchstart=function(t){e.onContainerTouchStart(t)},i.ontouchmove=function(t){e.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=o(r,'touchend',e.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,i){e[i]=null})}}}(a),function(t){var o=t.charts,s=t.each,p=t.extend,g=t.map,n=t.noop,r=t.pick;p(t.Pointer.prototype,{pinchTranslate:function(t,i,e,o,r,a){this.zoomHor&&this.pinchTranslateDirection(!0,t,i,e,o,r,a),this.zoomVert&&this.pinchTranslateDirection(!1,t,i,e,o,r,a)},pinchTranslateDirection:function(i,o,a,s,n,x,f,k){var r,S,T,C=this.chart,l=i?'x':'y',d=i?'X':'Y',b='chart'+d,v=i?'width':'height',p=C['plot'+(i?'Left':'Top')],L=k||1,O=C.inverted,y=C.bounds[i?'h':'v'],m=1===o.length,D=o[0][b],I=a[0][b],z=!m&&o[1][b],B=!m&&a[1][b];a=function(){!m&&20<P(D-z)&&(L=k||P(I-B)/P(D-z)),S=(p-I)/L+D,r=C['plot'+(i?'Width':'Height')]/L},a(),o=S,o<y.min?(o=y.min,T=!0):o+r>y.max&&(o=y.max-r,T=!0),T?(I-=.8*(I-f[l][0]),m||(B-=.8*(B-f[l][1])),a()):f[l]=[I,B],O||(x[l]=S-p,x[v]=r),x=O?1/L:L,n[v]=r,n[l]=o,s[O?i?'scaleY':'scaleX':'scale'+d]=L,s['translate'+d]=x*p+(I-x*D)},pinch:function(e){var t=this,i=t.chart,o=t.pinchDown,a=e.touches,h=a.length,c=t.lastValidTouch,m=t.hasZoom,u=t.selectionMarker,x={},d=1===h&&(t.inClass(e.target,'highcharts-tracker')&&i.runTrackerClick||t.runChartClick),f={};1<h&&(t.initiated=!0),m&&t.initiated&&!d&&e.preventDefault(),g(a,function(e){return t.normalize(e)}),'touchstart'===e.type?(s(a,function(e,t){o[t]={chartX:e.chartX,chartY:e.chartY}}),c.x=[o[0].chartX,o[1]&&o[1].chartX],c.y=[o[0].chartY,o[1]&&o[1].chartY],s(i.axes,function(e){if(e.zoomEnabled){var t=i.bounds[e.horiz?'h':'v'],o=e.minPixelPadding,a=e.toPixels(r(e.options.min,e.dataMin)),n=e.toPixels(r(e.options.max,e.dataMax)),s=T(a,n);t.min=W(e.pos,W(a,n)-o),t.max=T(e.pos+e.len,s+o)}}),t.res=!0):t.followTouchMove&&1===h?this.runPointActions(t.normalize(e)):o.length&&(u||(t.selectionMarker=u=p({destroy:n,touch:!0},i.plotBox)),t.pinchTranslate(o,a,x,u,f,c),t.hasPinched=m,t.scaleGroups(x,f),t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(e,o){var a,s,l=this.chart;l.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=l.index,1===e.touches.length?(e=this.normalize(e),(s=l.isInsidePlot(e.chartX-l.plotLeft,e.chartY-l.plotTop))&&!l.openMenu?(o&&this.runPointActions(e),'touchmove'===e.type&&(o=this.pinchDown,a=!!o[0]&&4<=i(v(o[0].chartX-e.chartX,2)+v(o[0].chartY-e.chartY,2))),r(a,!0)&&this.pinch(e)):o&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.zoomOption(e),this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(i){o[t.hoverChartIndex]&&o[t.hoverChartIndex].pointer.drop(i)}})}(a),function(t){var i=t.addEvent,o=t.charts,s=t.css,l=t.doc,a=t.extend,n=t.noop,e=t.Pointer,d=t.removeEvent,h=t.win,p=t.wrap;if(!t.hasTouch&&(h.PointerEvent||h.MSPointerEvent)){var g={},m=!!h.PointerEvent,u=function(){var e=[];return e.item=function(e){return this[e]},t.objectEach(g,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},c=function(e,i,r,a){('touch'===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&o[t.hoverChartIndex]&&(a(e),a=o[t.hoverChartIndex].pointer,a[i]({type:r,target:e.currentTarget,preventDefault:n,touches:u()}))};a(e.prototype,{onContainerPointerDown:function(e){c(e,'onContainerTouchStart','touchstart',function(e){g[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){c(e,'onContainerTouchMove','touchmove',function(e){g[e.pointerId]={pageX:e.pageX,pageY:e.pageY},g[e.pointerId].target||(g[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){c(e,'onDocumentTouchEnd','touchend',function(e){delete g[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,m?'pointerdown':'MSPointerDown',this.onContainerPointerDown),e(this.chart.container,m?'pointermove':'MSPointerMove',this.onContainerPointerMove),e(l,m?'pointerup':'MSPointerUp',this.onDocumentPointerUp)}}),p(e.prototype,'init',function(e,t,i){e.call(this,t,i),this.hasZoom&&s(t.container,{"-ms-touch-action":'none',"touch-action":'none'})}),p(e.prototype,'setDOMEvents',function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(i)}),p(e.prototype,'destroy',function(e){this.batchMSEvents(d),e.call(this)})}}(a),function(t){var i=t.addEvent,o=t.css,s=t.discardElement,p=t.defined,v=t.each,n=t.fireEvent,e=t.isFirefox,h=t.marginNames,y=t.merge,S=t.pick,g=t.setAnimation,l=t.stableSort,a=t.win,d=t.wrap;t.Legend=function(e,t){this.init(e,t)},t.Legend.prototype={init:function(e,t){this.chart=e,this.setOptions(t),t.enabled&&(this.render(),i(this.chart,'endResize',function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=i(this.chart,'render',function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(e){var t=S(e.padding,8);this.options=e,this.itemStyle=e.itemStyle,this.itemHiddenStyle=y(this.itemStyle,e.itemHiddenStyle),this.itemMarginTop=e.itemMarginTop||0,this.padding=t,this.initialItemY=t-5,this.symbolWidth=S(e.symbolWidth,16),this.pages=[],this.proximate='proximate'===e.layout&&!this.chart.inverted},update:function(e,t){var i=this.chart;this.setOptions(y(!0,this.options,e)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,S(t,!0)&&i.redraw(),n(this,'afterUpdate')},colorizeItem:function(e,t){e.legendGroup[t?'removeClass':'addClass']('highcharts-legend-item-hidden');var i=this.options,o=e.legendItem,a=e.legendLine,s=e.legendSymbol,l=this.itemHiddenStyle.color,i=t?i.itemStyle.color:l,d=t?e.color||l:l,h=e.options&&e.options.marker,r={fill:d};o&&o.css({fill:i,color:i}),a&&a.attr({stroke:d}),s&&(h&&s.isMarker&&(r=e.pointAttribs(),t||(r.stroke=r.fill=l)),s.attr(r)),n(this,'afterColorizeItem',{item:e,visible:t})},positionItems:function(){v(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var i=this.options,o=i.symbolPadding,i=!i.rtl,r=t._legendItemPos,n=r[0],r=r[1],s=t.checkbox;(t=t.legendGroup)&&t.element&&t[p(t.translateY)?'animate':'attr']({translateX:i?n:this.legendWidth-n-2*o-4,translateY:r}),s&&(s.x=n,s.y=r)},destroyItem:function(e){var t=e.checkbox;v(['legendItem','legendLine','legendSymbol','legendGroup'],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&s(e.checkbox)},destroy:function(){function e(e){this[e]&&(this[e]=this[e].destroy())}v(this.getAllItems(),function(t){v(['legendItem','legendGroup'],e,t)}),v(['clipRect','up','down','pager','nav','box','title','group'],e,this),this.display=null},positionCheckboxes:function(){var t,i=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,a=this.titleHeight;i&&(t=i.translateY,v(this.allItems,function(n){var s,d=n.checkbox;d&&(s=t+a+d.y+(this.scrollOffset||0)+3,o(d,{left:i.translateX+n.checkboxOffset+d.x-20+'px',top:s+'px',display:s>t-6&&s<t+r-6?'':'none'}))},this))},renderTitle:function(){var e=this.options,t=this.padding,i=e.title,o=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,t-3,t-4,null,null,null,e.useHTML,null,'legend-title').attr({zIndex:1}).css(i.style).add(this.group)),e=this.title.getBBox(),o=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e,this.chart.time):i.labelFormatter.call(e)})},renderItem:function(t){var i=this.chart,o=i.renderer,a=this.options,s=this.symbolWidth,d=a.symbolPadding,l=this.itemStyle,p=this.itemHiddenStyle,h='horizontal'===a.layout?S(a.itemDistance,20):0,x=!a.rtl,n=t.legendItem,f=!t.series,b=!f&&t.series.drawLegendSymbol?t.series:t,v=b.options,v=this.createCheckboxForItem&&v&&v.showCheckbox,h=s+d+h+(v?20:0),k=a.useHTML,w=t.options.className;n||(t.legendGroup=o.g('legend-item').addClass('highcharts-'+b.type+'-series highcharts-color-'+t.colorIndex+(w?' '+w:'')+(f?' highcharts-series-'+t.index:'')).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=n=o.text('',x?s+d:-d,this.baseline||0,k).css(y(t.visible?l:p)).attr({align:x?'left':'right',zIndex:2}).add(t.legendGroup),this.baseline||(s=l.fontSize,this.fontMetrics=o.fontMetrics(s,n),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,n.attr('y',this.baseline)),this.symbolHeight=a.symbolHeight||this.fontMetrics.f,b.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,n,k),v&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),l.width||n.css({width:(a.itemWidth||a.width||i.spacingBox.width)-h}),this.setText(t),i=n.getBBox(),t.itemWidth=t.checkboxOffset=a.itemWidth||t.legendItemWidth||i.width+h,this.maxItemWidth=T(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=L(t.legendItemHeight||i.height||this.symbolHeight)},layoutItem:function(t){var i=this.options,o=this.padding,a='horizontal'===i.layout,n=t.itemHeight,e=i.itemMarginBottom||0,s=this.itemMarginTop,l=a?S(i.itemDistance,20):0,d=i.width,r=d||this.chart.spacingBox.width-2*o-i.x,i=i.alignColumns&&this.totalItemWidth>r?this.maxItemWidth:t.itemWidth;a&&this.itemX-o+i>r&&(this.itemX=o,this.itemY+=s+this.lastLineHeight+e,this.lastLineHeight=0),this.lastItemY=s+this.itemY+e,this.lastLineHeight=T(n,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=i:(this.itemY+=s+n+e,this.lastLineHeight=n),this.offsetWidth=d||T((a?this.itemX-o-(t.checkbox?0:l):i)+o,this.offsetWidth)},getAllItems:function(){var e=[];return v(this.chart.series,function(t){var i=t&&t.options;t&&S(i.showInLegend,!p(i.linkedTo)&&void 0,!0)&&(e=e.concat(t.legendItems||('point'===i.legendType?t.data:t)))}),n(this,'afterGetAllItems',{allItems:e}),e},getAlignment:function(){var e=this.options;return this.proximate?e.align.charAt(0)+'tv':e.floating?'':e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0)},adjustMargins:function(t,i){var o=this.chart,r=this.options,a=this.getAlignment();a&&v([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(n,e){n.test(a)&&!p(t[e])&&(o[h[e]]=T(o[h[e]],o.legend[(e+1)%2?'legendHeight':'legendWidth']+[1,-1,-1,1][e]*r[e%2?'x':'y']+S(r.margin,12)+i[e]+(0===e&&void 0!==o.options.title.margin?o.titleOffset+o.options.title.margin:0)))})},proximatePositions:function(){var i=this.chart,o=[],r='left'===this.options.align;v(this.allItems,function(a){var n,s;n=r,a.xAxis&&a.points&&(a.xAxis.options.reversed&&(n=!n),n=t.find(n?a.points:a.points.slice(0).reverse(),function(e){return t.isNumber(e.plotY)}),s=a.legendGroup.getBBox().height,o.push({target:a.visible?n.plotY-.3*s:i.plotHeight,size:s,item:a}))},this),t.distribute(o,i.plotHeight),v(o,function(e){e.item._legendItemPos[1]=i.plotTop-i.spacing[0]+e.pos})},render:function(){var t,i,o,s=this.chart,a=s.renderer,h=this.group,p=this.box,c=this.options,n=this.padding;this.itemX=n,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,h||(this.group=h=a.g('legend').attr({zIndex:7}).add(),this.contentGroup=a.g().attr({zIndex:1}).add(h),this.scrollGroup=a.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),l(t,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&t.reverse(),this.allItems=t,this.display=i=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,v(t,this.renderItem,this),v(t,this.layoutItem,this),t=(c.width||this.offsetWidth)+n,o=this.lastItemY+this.lastLineHeight+this.titleHeight,o=this.handleOverflow(o),o+=n,p||(this.box=p=a.rect().addClass('highcharts-legend-box').attr({r:c.borderRadius}).add(h),p.isNew=!0),p.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||'none'}).shadow(c.shadow),0<t&&0<o&&(p[p.isNew?'attr':'animate'](p.crisp.call({},{x:0,y:0,width:t,height:o},p.strokeWidth())),p.isNew=!1),p[i?'show':'hide'](),this.legendWidth=t,this.legendHeight=o,i&&(a=s.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(a=y(a,{y:a.y+s.titleOffset+s.options.title.margin})),h.align(y(c,{width:t,height:o,verticalAlign:this.proximate?'top':c.verticalAlign}),!0,a)),this.proximate||this.positionItems()},handleOverflow:function(t){var i,o,s=this,d=this.chart,h=d.renderer,p=this.options,e=p.y,c=this.padding,d=d.spacingBox.height+('top'===p.verticalAlign?-e:e)-c,e=p.maxHeight,u=this.clipRect,x=p.navigation,f=S(x.animation,!0),m=x.arrowSize||12,y=this.nav,k=this.pages,n=this.allItems,g=function(e){'number'==typeof e?u.attr({height:e}):u&&(s.clipRect=u.destroy(),s.contentGroup.clip()),s.contentGroup.div&&(s.contentGroup.div.style.clip=e?'rect('+c+'px,9999px,'+(c+e)+'px,0)':'auto')};return'horizontal'!==p.layout||'middle'===p.verticalAlign||p.floating||(d/=2),e&&(d=W(d,e)),k.length=0,t>d&&!1!==x.enabled?(this.clipHeight=i=T(d-20-this.titleHeight-c,0),this.currentPage=S(this.currentPage,1),this.fullHeight=t,v(n,function(e,t){var r=e._legendItemPos[1],a=L(e.legendItem.getBBox().height),s=k.length;(!s||r-k[s-1]>i&&(o||r)!==k[s-1])&&(k.push(o||r),s++),e.pageIx=s-1,o&&(n[t-1].pageIx=s-1),t==n.length-1&&r+a-k[s-1]>i&&(k.push(r),e.pageIx=s),r!==o&&(o=r)}),u||(u=s.clipRect=h.clipRect(0,c,9999,0),s.contentGroup.clip(u)),g(i),y||(this.nav=y=h.g().attr({zIndex:1}).add(this.group),this.up=h.symbol('triangle',0,0,m,m).on('click',function(){s.scroll(-1,f)}).add(y),this.pager=h.text('',15,10).addClass('highcharts-legend-navigation').css(x.style).add(y),this.down=h.symbol('triangle-down',0,0,m,m).on('click',function(){s.scroll(1,f)}).add(y)),s.scroll(0),t=d):y&&(g(),this.nav=y.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,i){var o=this.pages,r=o.length;t=this.currentPage+t;var n=this.clipHeight,e=this.options.navigation,s=this.pager,l=this.padding;t>r&&(t=r),0<t&&(void 0!==i&&g(i,this.chart),this.nav.attr({translateX:l,translateY:n+this.padding+7+this.titleHeight,visibility:'visible'}),this.up.attr({class:1===t?'highcharts-legend-nav-inactive':'highcharts-legend-nav-active'}),s.attr({text:t+'/'+r}),this.down.attr({x:18+this.pager.getBBox().width,class:t===r?'highcharts-legend-nav-inactive':'highcharts-legend-nav-active'}),this.up.attr({fill:1===t?e.inactiveColor:e.activeColor}).css({cursor:1===t?'default':'pointer'}),this.down.attr({fill:t===r?e.inactiveColor:e.activeColor}).css({cursor:t===r?'default':'pointer'}),this.scrollOffset=-o[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(e,t){var i=e.symbolHeight,o=e.options.squareSymbol;t.legendSymbol=this.chart.renderer.rect(o?(e.symbolWidth-i)/2:0,e.baseline-i+1,o?i:e.symbolWidth,i,S(e.options.symbolRadius,i/2)).addClass('highcharts-point').attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(t){var i=this.options,o=i.marker,n=t.symbolWidth,s=t.symbolHeight,e=s/2,d=this.chart.renderer,l=this.legendGroup;t=t.baseline-L(.3*t.fontMetrics.b);var h;h={"stroke-width":i.lineWidth||0},i.dashStyle&&(h.dashstyle=i.dashStyle),this.legendLine=d.path(['M',0,t,'L',n,t]).addClass('highcharts-graph').attr(h).add(l),o&&!1!==o.enabled&&n&&(i=W(S(o.radius,e),e),0===this.symbol.indexOf('url')&&(o=y(o,{width:s,height:s}),i=0),this.legendSymbol=o=d.symbol(this.symbol,n/2-i,t-i,2*i,2*i,o).addClass('highcharts-point').add(l),o.isMarker=!0)}},(/Trident\/7\.0/.test(a.navigator.userAgent)||e)&&d(t.Legend.prototype,'positionItem',function(e,t){var i=this,o=function(){t._legendItemPos&&e.call(i,t)};o(),setTimeout(o)})}(a),function(i){var o=i.addEvent,a=i.animate,S=i.animObject,C=i.attr,n=i.doc,h=i.Axis,z=i.createElement,u=i.defaultOptions,y=i.discardElement,E=i.charts,x=i.css,R=i.defined,W=i.each,N=i.extend,e=i.find,X=i.fireEvent,r=i.grep,l=i.isNumber,f=i.isObject,d=i.isString,p=i.Legend,t=i.marginNames,v=i.merge,A=i.objectEach,c=i.Pointer,m=i.pick,D=i.pInt,k=i.removeEvent,M=i.seriesTypes,I=i.splat,B=i.syncTimeout,w=i.win,g=i.Chart=function(){this.getArgs.apply(this,arguments)};i.chart=function(e,t,i){return new g(e,t,i)},N(g.prototype,{callbacks:[],getArgs:function(){var e=[].slice.call(arguments);(d(e[0])||e[0].nodeName)&&(this.renderTo=e.shift()),this.init(e[0],e[1])},init:function(t,r){var a,n,s=t.series,l=t.plotOptions||{};X(this,'init',{args:arguments},function(){for(n in t.series=null,a=v(u,t),a.plotOptions)a.plotOptions[n].tooltip=l[n]&&v(l[n].tooltip)||void 0;a.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,a.series=t.series=s,this.userOptions=t;var e=a.chart,d=e.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=r,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.time=t.time&&i.keys(t.time).length?new i.Time(t.time):i.time,this.hasCartesianSeries=e.showAxes;var p=this;p.index=E.length,E.push(p),i.chartCount++,d&&A(d,function(e,t){o(p,t,e)}),p.xAxis=[],p.yAxis=[],p.pointCount=p.colorCounter=p.symbolCounter=0,X(p,'afterInit'),p.firstRender()})},initSeries:function(e){var t=this.options.chart;return(t=M[e.type||t.type||t.defaultSeriesType])||i.error(17,!0),t=new t,t.init(this,e),t},orderSeries:function(e){var t=this.series;for(e=e||0;e<t.length;e++)t[e]&&(t[e].index=e,t[e].name=t[e].getName())},isInsidePlot:function(e,t,i){var o=i?t:e;return e=i?e:t,0<=o&&o<=this.plotWidth&&0<=e&&e<=this.plotHeight},redraw:function(o){X(this,'beforeRedraw');var r,a,n,s=this.axes,d=this.series,c=this.pointer,g=this.legend,m=this.isDirtyLegend,u=this.hasCartesianSeries,x=this.isDirtyBox,f=this.renderer,p=f.isHidden(),t=[];for(this.setResponsive&&this.setResponsive(!1),i.setAnimation(o,this),p&&this.temporaryDisplay(),this.layOutTitles(),o=d.length;o--;)if(n=d[o],n.options.stacking&&(r=!0,n.isDirty)){a=!0;break}if(a)for(o=d.length;o--;)n=d[o],n.options.stacking&&(n.isDirty=!0);W(d,function(e){e.isDirty&&'point'===e.options.legendType&&(e.updateTotals&&e.updateTotals(),m=!0),e.isDirtyData&&X(e,'updatedData')}),m&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1),r&&this.getStacks(),u&&W(s,function(e){e.updateNames(),e.setScale()}),this.getMargins(),u&&(W(s,function(e){e.isDirty&&(x=!0)}),W(s,function(e){var i=e.min+','+e.max;e.extKey!==i&&(e.extKey=i,t.push(function(){X(e,'afterSetExtremes',N(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(x||r)&&e.redraw()})),x&&this.drawChartBox(),X(this,'predraw'),W(d,function(e){(x||e.isDirty)&&e.visible&&e.redraw(),e.isDirtyData=!1}),c&&c.reset(!0),f.draw(),X(this,'redraw'),X(this,'render'),p&&this.temporaryDisplay(!0),W(t,function(e){e.call()})},get:function(t){function i(e){return e.id===t||e.options&&e.options.id===t}var o,r,a=this.series;for(o=e(this.axes,i)||e(this.series,i),r=0;!o&&r<a.length;r++)o=e(a[r].points||[],i);return o},getAxes:function(){var e=this,t=this.options,i=t.xAxis=I(t.xAxis||{}),t=t.yAxis=I(t.yAxis||{});X(this,'getAxes'),W(i,function(e,t){e.index=t,e.isX=!0}),W(t,function(e,t){e.index=t}),i=i.concat(t),W(i,function(t){new h(e,t)}),X(this,'afterGetAxes')},getSelectedPoints:function(){var e=[];return W(this.series,function(t){e=e.concat(r(t.data||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return r(this.series,function(e){return e.selected})},setTitle:function(e,t,i){var o,r=this,a=r.options;o=a.title=v({style:{color:'#333333',fontSize:a.isStock?'16px':'18px'}},a.title,e),a=a.subtitle=v({style:{color:'#666666'}},a.subtitle,t),W([['title',e,o],['subtitle',t,a]],function(e,t){var i=e[0],o=r[i],n=e[1];e=e[2],o&&n&&(r[i]=o=o.destroy()),e&&!o&&(r[i]=r.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:'highcharts-'+i,zIndex:e.zIndex||4}).add(),r[i].update=function(e){r.setTitle(!t&&e,t&&e)},r[i].css(e.style))}),r.layOutTitles(i)},layOutTitles:function(e){var t,i=0,o=this.renderer,r=this.spacingBox;W(['title','subtitle'],function(e){var t=this[e],n=this.options[e];e='title'===e?-3:n.verticalAlign?0:i+2;var l;t&&(l=n.style.fontSize,l=o.fontMetrics(l,t).b,t.css({width:(n.width||r.width+n.widthAdjust)+'px'}).align(N({y:e+l},n),!1,'spacingBox'),n.floating||n.verticalAlign||(i=s(i+t.getBBox(n.useHTML).height)))},this),t=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&t&&(this.isDirtyBox=this.isDirtyLegend=t,this.hasRendered&&m(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,o=this.renderTo;R(t)||(this.containerWidth=i.getStyle(o,'width')),R(e)||(this.containerHeight=i.getStyle(o,'height')),this.chartWidth=T(0,t||this.containerWidth||600),this.chartHeight=T(0,i.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var t=this.renderTo;if(e)for(;t&&t.style;)t.hcOrigStyle&&(i.css(t,t.hcOrigStyle),delete t.hcOrigStyle),t.hcOrigDetached&&(n.body.removeChild(t),t.hcOrigDetached=!1),t=t.parentNode;else for(;t&&t.style&&(n.body.contains(t)||t.parentNode||(t.hcOrigDetached=!0,n.body.appendChild(t)),('none'===i.getStyle(t,'display',!1)||t.hcOricDetached)&&(t.hcOrigStyle={display:t.style.display,height:t.style.height,overflow:t.style.overflow},e={display:'block',overflow:'hidden'},t!==this.renderTo&&(e.height=0),i.css(t,e),t.offsetWidth||t.style.setProperty('display','block','important')),t=t.parentNode,t!==n.body););},setClassName:function(e){this.container.className='highcharts-container '+(e||'')},getContainer:function(){var t,o,r,a=this.options,s=a.chart;t=this.renderTo;var h,p=i.uniqueKey();t||(this.renderTo=t=s.renderTo),d(t)&&(this.renderTo=t=n.getElementById(t)),t||i.error(13,!0),o=D(C(t,'data-highcharts-chart')),l(o)&&E[o]&&E[o].hasRendered&&E[o].destroy(),C(t,'data-highcharts-chart',this.index),t.innerHTML='',s.skipClone||t.offsetWidth||this.temporaryDisplay(),this.getChartSize(),o=this.chartWidth,r=this.chartHeight,h=N({position:'relative',overflow:'hidden',width:o+'px',height:r+'px',textAlign:'left',lineHeight:'normal',zIndex:0,"-webkit-tap-highlight-color":'rgba(0,0,0,0)'},s.style),this.container=t=z('div',{id:p},h,t),this._cursor=t.style.cursor,this.renderer=new(i[s.renderer]||i.Renderer)(t,o,r,null,s.forExport,a.exporting&&a.exporting.allowHTML),this.setClassName(s.className),this.renderer.setStyle(s.style),this.renderer.chartIndex=this.index,X(this,'afterGetContainer')},getMargins:function(e){var t=this.spacing,i=this.margin,o=this.titleOffset;this.resetMargins(),o&&!R(i[0])&&(this.plotTop=T(this.plotTop,o+this.options.title.margin+t[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,t),X(this,'getMargins'),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,i=e.axisOffset=[0,0,0,0],o=e.margin;e.hasCartesianSeries&&W(e.axes,function(e){e.visible&&e.getOffset()}),W(t,function(t,r){R(o[r])||(e[t]+=i[r])}),e.setChartSize()},reflow:function(t){var o=this,r=o.options.chart,a=o.renderTo,s=R(r.width)&&R(r.height),l=r.width||i.getStyle(a,'width'),r=r.height||i.getStyle(a,'height'),a=t?t.target:w;!s&&!o.isPrinting&&l&&r&&(a===w||a===n)&&((l!==o.containerWidth||r!==o.containerHeight)&&(i.clearTimeout(o.reflowTimeout),o.reflowTimeout=B(function(){o.container&&o.setSize(void 0,void 0,!1)},t?100:0)),o.containerWidth=l,o.containerHeight=r)},setReflow:function(e){var t=this;!1===e||this.unbindReflow?!1==e&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=o(w,'resize',function(e){t.reflow(e)}),o(this,'destroy',this.unbindReflow))},setSize:function(t,o,r){var n=this,s=n.renderer;n.isResizing+=1,i.setAnimation(r,n),n.oldChartHeight=n.chartHeight,n.oldChartWidth=n.chartWidth,void 0!==t&&(n.options.chart.width=t),void 0!==o&&(n.options.chart.height=o),n.getChartSize(),t=s.globalAnimation,(t?a:x)(n.container,{width:n.chartWidth+'px',height:n.chartHeight+'px'},t),n.setChartSize(!0),s.setSize(n.chartWidth,n.chartHeight,r),W(n.axes,function(e){e.isDirty=!0,e.setScale()}),n.isDirtyLegend=!0,n.isDirtyBox=!0,n.layOutTitles(),n.getMargins(),n.redraw(r),n.oldChartHeight=null,X(n,'resize'),B(function(){n&&X(n,'endResize',null,function(){--n.isResizing})},S(t).duration)},setChartSize:function(t){var i,o,a,n,d=this.inverted,p=this.renderer,u=this.chartWidth,x=this.chartHeight,f=this.options.chart,m=this.spacing,e=this.clipOffset;this.plotLeft=i=L(this.plotLeft),this.plotTop=o=L(this.plotTop),this.plotWidth=a=T(0,L(u-i-this.marginRight)),this.plotHeight=n=T(0,L(x-o-this.marginBottom)),this.plotSizeX=d?n:a,this.plotSizeY=d?a:n,this.plotBorderWidth=f.plotBorderWidth||0,this.spacingBox=p.spacingBox={x:m[3],y:m[0],width:u-m[3]-m[1],height:x-m[0]-m[2]},this.plotBox=p.plotBox={x:i,y:o,width:a,height:n},u=2*O(this.plotBorderWidth/2),d=s(T(u,e[3])/2),p=s(T(u,e[0])/2),this.clipBox={x:d,y:p,width:O(this.plotSizeX-T(u,e[1])/2-d),height:T(0,O(this.plotSizeY-T(u,e[2])/2-p))},t||W(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()}),X(this,'afterSetChartSize',{skipAxes:t})},resetMargins:function(){var e=this,i=e.options.chart;W(['margin','spacing'],function(t){var o=i[t],r=f(o)?o:[o,o,o,o];W(['Top','Right','Bottom','Left'],function(o,a){e[t][a]=m(i[t+o],r[a])})}),W(t,function(t,i){e[t]=m(e.margin[i],e.spacing[i])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var i,o,s=this.options.chart,a=this.renderer,d=this.chartWidth,c=this.chartHeight,g=this.chartBackground,u=this.plotBackground,x=this.plotBorder,y=this.plotBGImage,l=s.backgroundColor,b=s.plotBackgroundColor,S=s.plotBackgroundImage,T=this.plotLeft,w=this.plotTop,p=this.plotWidth,t=this.plotHeight,C=this.plotBox,A=this.clipRect,n=this.clipBox,P='animate';g||(this.chartBackground=g=a.rect().addClass('highcharts-background').add(),P='attr'),i=s.borderWidth||0,o=i+(s.shadow?8:0),l={fill:l||'none'},(i||g['stroke-width'])&&(l.stroke=s.borderColor,l['stroke-width']=i),g.attr(l).shadow(s.shadow),g[P]({x:o/2,y:o/2,width:d-o-i%2,height:c-o-i%2,r:s.borderRadius}),P='animate',u||(P='attr',this.plotBackground=u=a.rect().addClass('highcharts-plot-background').add()),u[P](C),u.attr({fill:b||'none'}).shadow(s.plotShadow),S&&(y?y.animate(C):this.plotBGImage=a.image(S,T,w,p,t).add()),A?A.animate({width:n.width,height:n.height}):this.clipRect=a.clipRect(n),P='animate',x||(P='attr',this.plotBorder=x=a.rect().addClass('highcharts-plot-border').attr({zIndex:1}).add()),x.attr({stroke:s.plotBorderColor,"stroke-width":s.plotBorderWidth||0,fill:'none'}),x[P](x.crisp({x:T,y:w,width:p,height:t},-x.strokeWidth())),this.isDirtyBox=!1,X(this,'afterDrawChartBox')},propFromSeries:function(){var e,t,i,o=this,r=o.options.chart,a=o.options.series;W(['inverted','angular','polar'],function(n){for(e=M[r.type||r.defaultSeriesType],i=r[n]||e&&e.prototype[n],t=a&&a.length;!i&&t--;)(e=M[a[t].type])&&e.prototype[n]&&(i=!0);o[n]=i})},linkSeries:function(){var e=this,t=e.series;W(t,function(e){e.linkedSeries.length=0}),W(t,function(t){var i=t.options.linkedTo;d(i)&&(i=':previous'===i?e.series[t.index-1]:e.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,t.visible=m(t.options.visible,i.options.visible,t.visible))}),X(this,'afterLinkSeries')},renderSeries:function(){W(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&W(t.items,function(i){var o=N(t.style,i.style),r=D(o.left)+e.plotLeft,a=D(o.top)+e.plotTop+12;delete o.left,delete o.top,e.renderer.text(i.html,r,a).attr({zIndex:2}).css(o).add()})},render:function(){var e,t,i,o=this.axes,r=this.renderer,a=this.options;this.setTitle(),this.legend=new p(this,a.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),a=this.plotWidth,e=this.plotHeight=T(this.plotHeight-21,0),W(o,function(e){e.setScale()}),this.getAxisMargins(),t=1.1<a/this.plotWidth,i=1.05<e/this.plotHeight,(t||i)&&(W(o,function(e){(e.horiz&&t||!e.horiz&&i)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&W(o,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=r.g('series-group').attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(e){var t=this;e=v(!0,this.options.credits,e),e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text+(this.mapCredits||''),0,0).addClass('highcharts-credits').on('click',function(){e.href&&(w.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position),this.credits.update=function(e){t.credits=t.credits.destroy(),t.addCredits(e)})},destroy:function(){var t,o=this,r=o.axes,a=o.series,n=o.container,s=n&&n.parentNode;for(X(o,'destroy'),o.renderer.forExport?i.erase(E,o):E[o.index]=void 0,i.chartCount--,o.renderTo.removeAttribute('data-highcharts-chart'),k(o),t=r.length;t--;)r[t]=r[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=a.length;t--;)a[t]=a[t].destroy();W(['title','subtitle','chartBackground','plotBackground','plotBGImage','plotBorder','seriesGroup','clipRect','credits','pointer','rangeSelector','legend','resetZoomButton','tooltip','renderer'],function(e){var t=o[e];t&&t.destroy&&(o[e]=t.destroy())}),n&&(n.innerHTML='',k(n),s&&y(n)),A(o,function(e,t){delete o[t]})},firstRender:function(){var e=this,t=e.options;(!e.isReadyToRender||e.isReadyToRender())&&(e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),W(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),X(e,'beforeRender'),c&&(e.pointer=new c(e,t)),e.render(),!e.renderer.imgCount&&e.onload&&e.onload(),e.temporaryDisplay(!0))},onload:function(){W([this.callback].concat(this.callbacks),function(e){e&&void 0!==this.index&&e.apply(this,[this])},this),X(this,'load'),X(this,'render'),R(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(a),function(t){var e=t.addEvent,i=t.Chart,o=t.each;e(i,'afterSetChartSize',function(e){var i=this.options.chart.scrollablePlotArea;(i=i&&i.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=i=T(0,i-this.chartWidth))&&(this.plotWidth+=i,this.clipBox.width+=i,e.skipAxes||o(this.axes,function(i){1===i.side?i.getPlotLinePath=function(){var e,o=this.right;return this.right=o-i.chart.scrollablePixels,e=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=o,e}:(i.setAxisSize(),i.setAxisTranslation())}))}),e(i,'render',function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),i.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement('div',{className:'highcharts-scrolling'},{overflowX:'auto',WebkitOverflowScrolling:'touch'},this.renderTo),this.innerContainer=t.createElement('div',{className:'highcharts-inner-container'},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.applyFixed=function(){var i,o,r=this.container,a=!this.fixedDiv;a&&(this.fixedDiv=t.createElement('div',{className:'highcharts-fixed'},{position:'absolute',overflow:'hidden',pointerEvents:'none',zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=i=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=i.path().attr({fill:t.color(this.options.chart.backgroundColor||'#fff').setOpacity(.85).get(),zIndex:-1}).addClass('highcharts-scrollable-mask').add(),t.each([this.inverted?'.highcharts-xaxis':'.highcharts-yaxis',this.inverted?'.highcharts-xaxis-labels':'.highcharts-yaxis-labels','.highcharts-contextbutton','.highcharts-credits','.highcharts-legend','.highcharts-subtitle','.highcharts-title'],function(o){t.each(r.querySelectorAll(o),function(e){i.box.appendChild(e),e.style.pointerEvents='auto'})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),o=this.chartWidth+this.scrollablePixels,this.container.style.width=o+'px',this.renderer.boxWrapper.attr({width:o,height:this.chartHeight,viewBox:[0,0,o,this.chartHeight].join(' ')}),a&&(o=this.options.chart.scrollablePlotArea,o.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*o.scrollPositionX)),a=this.axisOffset,o=this.plotTop-a[0]-1;var a=this.plotTop+this.plotHeight+a[2],n=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?['M',0,o,'L',this.plotLeft-1,o,'L',this.plotLeft-1,a,'L',0,a,'Z','M',n,o,'L',this.chartWidth,o,'L',this.chartWidth,a,'L',n,a,'Z']:['M',0,0]})}}(a),function(t){var i,o=t.each,r=t.extend,s=t.erase,n=t.fireEvent,p=t.format,a=t.isArray,g=t.isNumber,m=t.pick,l=t.removeEvent;t.Point=i=function(){},t.Point.prototype={init:function(t,i,o){return this.series=t,this.color=t.color,this.applyOptions(i,o),t.options.colorByPoint?(i=t.options.colors||t.chart.options.colors,this.color=this.color||i[t.colorCounter],i=i.length,o=t.colorCounter,t.colorCounter++,t.colorCounter===i&&(t.colorCounter=0)):o=t.colorIndex,this.colorIndex=m(this.colorIndex,o),t.chart.pointCount++,n(this,'afterInit'),this},applyOptions:function(t,o){var n=this.series,s=n.options.pointValKey||n.pointValKey;return t=i.prototype.optionsToObject.call(this,t),r(this,t),this.options=this.options?r(this.options,t):t,t.group&&delete this.group,s&&(this.y=this[s]),this.isNull=m(this.isValid&&!this.isValid(),null===this.x||!g(this.y,!0)),this.selected&&(this.state='select'),'name'in this&&void 0===o&&n.xAxis&&n.xAxis.hasNames&&(this.x=n.xAxis.nameToX(this)),void 0===this.x&&n&&(this.x=void 0===o?n.autoIncrement(this):o),this},setNestedProperty:function(i,o,r){return r=r.split('.'),t.reduce(r,function(i,r,e,a){return i[r]=a.length-1===e?o:t.isObject(i[r],!0)?i[r]:{},i[r]},i),i},optionsToObject:function(i){var o={},r=this.series,s=r.options.keys,h=s||r.pointArrayMap||['y'],l=h.length,d=0,p=0;if(g(i)||null===i)o[h[0]]=i;else if(a(i))for(!s&&i.length>l&&(r=_typeof(i[0]),'string'===r?o.name=i[0]:'number'===r&&(o.x=i[0]),d++);p<l;)s&&void 0===i[d]||(0<h[p].indexOf('.')?t.Point.prototype.setNestedProperty(o,i[d],h[p]):o[h[p]]=i[d]),d++,p++;else'object'===('undefined'==typeof i?'undefined':_typeof(i))&&(o=i,i.dataLabels&&(r._hasPointLabels=!0),i.marker&&(r._hasPointMarkers=!0));return o},getClassName:function(){return'highcharts-point'+(this.selected?' highcharts-point-select':'')+(this.negative?' highcharts-negative':'')+(this.isNull?' highcharts-null-point':'')+(void 0===this.colorIndex?'':' highcharts-color-'+this.colorIndex)+(this.options.className?' '+this.options.className:'')+(this.zone&&this.zone.className?' '+this.zone.className.replace('highcharts-negative',''):'')},getZone:function(){var t,i=this.series,o=i.zones,i=i.zoneAxis||'y',r=0;for(t=o[r];this[i]>=t.value;)t=o[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,i=this.series.chart,o=i.hoverPoints;for(t in i.pointCount--,o&&(this.setState(),s(o,this),o.length||(i.hoverPoints=null)),this===i.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(l(this),this.destroyElements()),this.legendItem&&i.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,i=['graphic','dataLabel','dataLabelUpper','connector','shadowGroup'],o=6;o--;)t=i[o],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,r=m(i.valueDecimals,''),n=i.valuePrefix||'',s=i.valueSuffix||'';return o(t.pointArrayMap||['y'],function(t){t='{point.'+t,(n||s)&&(e=e.replace(RegExp(t+'}','g'),n+t+'}'+s)),e=e.replace(RegExp(t+'}','g'),t+':,.'+r+'f}')}),p(e,{point:this,series:this.series},t.chart.time)},firePointEvent:function(t,i,o){var r=this,a=this.series.options;(a.point.events[t]||r.options&&r.options.events&&r.options.events[t])&&this.importEvents(),'click'===t&&a.allowPointSelect&&(o=function(e){r.select&&r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),n(this,t,i,o)},visible:!0}}(a),function(s){var g=s.addEvent,m=s.animObject,w=s.arrayMax,S=s.arrayMin,M=s.correctFloat,n=s.defaultOptions,e=s.defaultPlotOptions,D=s.defined,C=s.each,u=s.erase,h=s.extend,y=s.fireEvent,x=s.grep,z=s.isArray,B=s.isNumber,r=s.isString,l=s.merge,c=s.objectEach,R=s.pick,a=s.removeEvent,d=s.splat,t=s.SVGElement,p=s.syncTimeout,A=s.win;s.Series=s.seriesType('line',null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},marker:{lineWidth:0,lineColor:'#ffffff',enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:'#cccccc',lineColor:'#000000',lineWidth:2}}},point:{events:{}},dataLabels:{align:'center',formatter:function(){return null===this.y?'':s.numberFormat(this.y,-1)},style:{fontSize:'11px',fontWeight:'bold',color:'contrast',textOutline:'1px contrast'},verticalAlign:'bottom',x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1E3,findNearestPointBy:'x'},{isCartesian:!0,pointClass:s.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:['xAxis','yAxis'],colorCounter:0,parallelArrays:['x','y'],coll:'series',init:function(t,i){var o,r,n=this,a=t.series;n.chart=t,n.options=i=n.setOptions(i),n.linkedSeries=[],n.bindAxes(),h(n,{name:i.name,state:'',visible:!1!==i.visible,selected:!0===i.selected}),o=i.events,c(o,function(e,t){g(n,t,e)}),(o&&o.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),n.getColor(),n.getSymbol(),C(n.parallelArrays,function(e){n[e+'Data']=[]}),n.setData(i.data,!1),n.isCartesian&&(t.hasCartesianSeries=!0),a.length&&(r=a[a.length-1]),n._i=R(r&&r._i,-1)+1,t.orderSeries(this.insert(a)),y(this,'afterInit')},insert:function(e){var t,i=this.options.index;if(B(i)){for(t=e.length;t--;)if(i>=R(e[t].options.index,e[t]._i)){e.splice(t+1,0,this);break}-1===t&&e.unshift(this),t+=1}else e.push(this);return R(t,e.length-1)},bindAxes:function(){var e,t=this,i=t.options,o=t.chart;C(t.axisTypes||[],function(r){C(o[r],function(o){e=o.options,(i[r]===e.index||void 0!==i[r]&&i[r]===e.id||void 0===i[r]&&0===e.index)&&(t.insert(o.series),t[r]=o,o.isDirty=!0)}),t[r]||t.optionalAxis===r||s.error(18,!0)})},updateParallelArrays:function(e,t){var i=e.series,o=arguments,r=B(t)?function(o){var r='y'===o&&i.toYData?i.toYData(e):e[o];i[o+'Data'][t]=r}:function(e){Array.prototype[t].apply(i[e+'Data'],Array.prototype.slice.call(o,2))};C(i.parallelArrays,r)},autoIncrement:function(){var e,t=this.options,i=this.xIncrement,o=t.pointIntervalUnit,r=this.chart.time,i=R(i,t.pointStart,0);return this.pointInterval=e=R(this.pointInterval,t.pointInterval,1),o&&(t=new r.Date(i),'day'===o?r.set('Date',t,r.get('Date',t)+e):'month'===o?r.set('Month',t,r.get('Month',t)+e):'year'===o&&r.set('FullYear',t,r.get('FullYear',t)+e),e=t.getTime()-i),this.xIncrement=i+e,i},setOptions:function(e){var t=this.chart,i=t.options,o=i.plotOptions,r=(t.userOptions||{}).plotOptions||{},s=o[this.type];return this.userOptions=e,t=l(s,o.series,e),this.tooltipOptions=l(n.tooltip,n.plotOptions.series&&n.plotOptions.series.tooltip,n.plotOptions[this.type].tooltip,i.tooltip.userOptions,o.series&&o.series.tooltip,o[this.type].tooltip,e.tooltip),this.stickyTracking=R(e.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip||t.stickyTracking),null===s.marker&&delete t.marker,this.zoneAxis=t.zoneAxis,e=this.zones=(t.zones||[]).slice(),(t.negativeColor||t.negativeFillColor)&&!t.zones&&e.push({value:t[this.zoneAxis+'Threshold']||t.threshold||0,className:'highcharts-negative',color:t.negativeColor,fillColor:t.negativeFillColor}),e.length&&D(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),y(this,'afterSetOptions',{options:t}),t},getName:function(){return this.name||'Series '+(this.index+1)},getCyclic:function(t,i,o){var r,a=this.chart,n=this.userOptions,s=t+'Index',l=t+'Counter',e=o?o.length:R(a.options.chart[t+'Count'],a[t+'Count']);i||(r=R(n[s],n['_'+s]),D(r)||(a.series.length||(a[l]=0),n['_'+s]=r=a[l]%e,a[l]+=1),o&&(i=o[r])),void 0!==r&&(this[s]=r),this[t]=i},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic('color',this.options.color||e[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic('symbol',this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:s.LegendSymbolMixin.drawLineMarker,updateData:function(t){var i,o,r,n=this.options,l=this.points,a=[],d=this.requireSorting;if(C(t,function(e){var t;t=s.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,B(t)&&(t=s.inArray(t,this.xData,r),-1===t?a.push(e):e===n.data[t]?l[t]&&(l[t].touched=!0):(l[t].update(e,!1,null,!1),l[t].touched=!0,d&&(r=t)),i=!0)},this),i)for(t=l.length;t--;)o=l[t],o.touched||o.remove(!1),o.touched=!1;else if(t.length===l.length)C(t,function(e,t){l[t].update&&e!==n.data[t]&&l[t].update(e,!1,null,!1)});else return!1;return C(a,function(e){this.addPoint(e,!1)},this),!0},setData:function(i,o,a,l){var e,d,p=this,m=p.points,g=m&&m.length||0,h=p.options,x=p.chart,w=null,S=p.xAxis,T=h.turboThreshold,n=this.xData,v=this.yData,u=(e=p.pointArrayMap)&&e.length;if(i=i||[],e=i.length,o=R(o,!0),!1!==l&&e&&g&&!p.cropped&&!p.hasGroupedData&&p.visible&&(d=this.updateData(i)),!d){if(p.xIncrement=null,p.colorCounter=0,C(this.parallelArrays,function(e){p[e+'Data'].length=0}),T&&e>T){for(a=0;null===w&&a<e;)w=i[a],a++;if(B(w))for(a=0;a<e;a++)n[a]=this.autoIncrement(),v[a]=i[a];else if(!z(w))s.error(12);else if(u)for(a=0;a<e;a++)w=i[a],n[a]=w[0],v[a]=w.slice(1,u+1);else for(a=0;a<e;a++)w=i[a],n[a]=w[0],v[a]=w[1]}else for(a=0;a<e;a++)void 0!==i[a]&&(w={series:p},p.pointClass.prototype.applyOptions.apply(w,[i[a]]),p.updateParallelArrays(w,a));for(v&&r(v[0])&&s.error(14,!0),p.data=[],p.options.data=p.userOptions.data=i,a=g;a--;)m[a]&&m[a].destroy&&m[a].destroy();S&&(S.minRange=S.userMinRange),p.isDirty=x.isDirtyBox=!0,p.isDirtyData=!!m,a=!1}'point'===h.legendType&&(this.processData(),this.generatePoints()),o&&x.redraw(a)},processData:function(i){var o,a=this.xData,u=this.yData,x=a.length;o=0;var y,v,w,S=this.xAxis,h=this.options;w=h.cropThreshold;var T,C,P=this.getExtremesFromAll||h.getExtremesFromAll,p=this.isCartesian,h=S&&S.val2lin,r=S&&S.isLog,t=this.requireSorting;if(p&&!this.isDirty&&!S.isDirty&&!this.yAxis.isDirty&&!i)return!1;for(S&&(i=S.getExtremes(),T=i.min,C=i.max),p&&this.sorted&&!P&&(!w||x>w||this.forceCrop)&&(a[x-1]<T||a[0]>C?(a=[],u=[]):(a[0]<T||a[x-1]>C)&&(o=this.cropData(this.xData,this.yData,T,C),a=o.xData,u=o.yData,o=o.start,y=!0)),w=a.length||1;--w;)x=r?h(a[w])-h(a[w-1]):a[w]-a[w-1],0<x&&(null==v||x<v)?v=x:0>x&&t&&(s.error(15),t=!1);this.cropped=y,this.cropStart=o,this.processedXData=a,this.processedYData=u,this.closestPointRange=v},cropData:function(t,i,o,r,a){var n,s=t.length,l=0,d=s;for(a=R(a,this.cropShoulder,1),n=0;n<s;n++)if(t[n]>=o){l=T(0,n-a);break}for(o=n;o<s;o++)if(t[o]>r){d=o+a;break}return{xData:t.slice(l,d),yData:i.slice(l,d),start:l,end:d}},generatePoints:function(){var t,i,o,s,m=this.options,u=m.data,x=this.data,y=this.processedXData,f=this.processedYData,g=this.pointClass,e=y.length,h=this.cropStart||0,l=this.hasGroupedData,m=m.keys,p=[];for(x||l||(x=[],x.length=u.length,x=this.data=x),m&&l&&(this.options.keys=!1),s=0;s<e;s++)i=h+s,l?(o=new g().init(this,[y[s]].concat(d(f[s]))),o.dataGroup=this.groupMap[s]):(o=x[i])||void 0===u[i]||(x[i]=o=new g().init(this,u[i],y[s])),o&&(o.index=i,p[s]=o);if(this.options.keys=m,x&&(e!==(t=x.length)||l))for(s=0;s<t;s++)s!==h||l||(s+=e),x[s]&&(x[s].destroyElements(),x[s].plotX=void 0);this.data=x,this.points=p},getExtremes:function(i){var o,r=this.yAxis,n=this.processedXData,s=[],l=0;o=this.xAxis.getExtremes();var c,u,x,f,y=o.min,m=o.max,e=this.requireSorting?1:0;for(i=i||this.stackedYData||this.processedYData||[],o=i.length,f=0;f<o;f++)if(u=n[f],x=i[f],c=(B(x,!0)||z(x))&&(!r.positiveValuesOnly||x.length||0<x),u=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(n[f+e]||u)>=y&&(n[f-e]||u)<=m,c&&u)if(c=x.length)for(;c--;)'number'==typeof x[c]&&(s[l++]=x[c]);else s[l++]=x;this.dataMin=S(s),this.dataMax=w(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var i,s,l,h,p=this.options,c=p.stacking,m=this.xAxis,d=m.categories,f=this.yAxis,e=this.points,g=e.length,b=!!this.modifyValue,r=p.pointPlacement,k='between'===r||B(r),w=p.threshold,n=p.startFromThreshold?w:0,S=o;for('between'===r&&(r=.5),B(r)&&(r*=R(p.pointRange||m.pointRange)),p=0;p<g;p++){var A=e[p],L=A.x,C=A.y;s=A.low;var O,z=c&&f.stacks[(this.negStacks&&C<(n?0:w)?'-':'')+this.stackKey];f.positiveValuesOnly&&null!==C&&0>=C&&(A.isNull=!0),A.plotX=i=M(W(T(-1E5,m.translate(L,0,0,0,1,r,'flags'===this.type)),1E5)),c&&this.visible&&!A.isNull&&z&&z[L]&&(h=this.getStackIndicator(h,L,this.index),O=z[L],C=O.points[h.key],s=C[0],C=C[1],s===n&&h.key===z[L].base&&(s=R(B(w)&&w,f.min)),f.positiveValuesOnly&&0>=s&&(s=null),A.total=A.stackTotal=O.total,A.percentage=O.total&&100*(A.y/O.total),A.stackY=C,O.setOffset(this.pointXOffset||0,this.barW||0)),A.yBottom=D(s)?W(T(-1E5,f.translate(s,0,1,0,1)),1E5):null,b&&(C=this.modifyValue(C,A)),A.plotY=s='number'==typeof C&&1/0!==C?W(T(-1E5,f.translate(C,0,1,0,1)),1E5):void 0,A.isInside=void 0!==s&&0<=s&&s<=f.len&&0<=i&&i<=m.len,A.clientX=k?M(m.translate(L,0,0,0,1,r)):i,A.negative=A.y<(w||0),A.category=d&&void 0!==d[A.x]?d[A.x]:A.x,A.isNull||(void 0!==l&&(S=W(S,P(i-l))),l=i),A.zone=this.zones.length&&A.getZone()}this.closestPointRangePx=S,y(this,'afterTranslate')},getValidPoints:function(e,t){var i=this.chart;return x(e||this.points||[],function(e){return(!t||i.isInsidePlot(e.plotX,e.plotY,i.inverted))&&!e.isNull})},setClip:function(t){var i=this.chart,o=this.options,r=i.renderer,a=i.inverted,n=this.clipBox,s=n||i.clipBox,e=this.sharedClipKey||['_sharedClip',t&&t.duration,t&&t.easing,s.height,o.xAxis,o.yAxis].join(),d=i[e],p=i[e+'m'];d||(t&&(s.width=0,a&&(s.x=i.plotSizeX),i[e+'m']=p=r.clipRect(a?i.plotSizeX+99:-99,a?-i.plotLeft:-i.plotTop,99,a?i.chartWidth:i.chartHeight)),i[e]=d=r.clipRect(s),d.count={length:0}),t&&!d.count[this.index]&&(d.count[this.index]=!0,d.count.length+=1),!1!==o.clip&&(this.group.clip(t||n?d:i.clipRect),this.markerGroup.clip(p),this.sharedClipKey=e),t||(d.count[this.index]&&(delete d.count[this.index],--d.count.length),0===d.count.length&&e&&i[e]&&(n||(i[e]=i[e].destroy()),i[e+'m']&&(i[e+'m']=i[e+'m'].destroy())))},animate:function(e){var t,i=this.chart,o=m(this.options.animation);e?this.setClip(o):(t=this.sharedClipKey,(e=i[t])&&e.animate({width:i.plotSizeX,x:0},o),i[t+'m']&&i[t+'m'].animate({width:i.plotSizeX+99,x:0},o),this.animate=null)},afterAnimate:function(){this.setClip(),y(this,'afterAnimate'),this.finishedAnimating=!0},drawPoints:function(){var i,o,n,s,p,m,u,x,y=this.points,a=this.chart,b=this.options.marker,e=this[this.specialGroup]||this.markerGroup,r=R(b.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=b.enabledThreshold*b.radius);if(!1!==b.enabled||this._hasPointMarkers)for(i=0;i<y.length;i++)o=y[i],s=o.graphic,p=o.marker||{},m=!!o.marker,n=r&&void 0===p.enabled||p.enabled,u=o.isInside,n&&!o.isNull?(n=R(p.symbol,this.symbol),x=this.markerAttribs(o,o.selected&&'select'),s?s[u?'show':'hide'](!0).animate(x):u&&(0<x.width||o.hasImage)&&(o.graphic=s=a.renderer.symbol(n,x.x,x.y,x.width,x.height,m?p:b).add(e)),s&&s.attr(this.pointAttribs(o,o.selected&&'select')),s&&s.addClass(o.getClassName(),!0)):s&&(o.graphic=s.destroy())},markerAttribs:function(e,t){var i=this.options.marker,o=e.marker||{},r=o.symbol||i.symbol,n=R(o.radius,i.radius);return t&&(i=i.states[t],t=o.states&&o.states[t],n=R(t&&t.radius,i&&i.radius,n+(i&&i.radiusPlus||0))),e.hasImage=r&&0===r.indexOf('url'),e.hasImage&&(n=0),e={x:O(e.plotX)-n,y:e.plotY-n},n&&(e.width=e.height=2*n),e},pointAttribs:function(t,i){var o=this.options.marker,r=t&&t.options,n=r&&r.marker||{},s=this.color,l=r&&r.color,e=t&&t.color,r=R(n.lineWidth,o.lineWidth);return t=t&&t.zone&&t.zone.color,s=l||t||e||s,t=n.fillColor||o.fillColor||s,s=n.lineColor||o.lineColor||s,i&&(o=o.states[i],i=n.states&&n.states[i]||{},r=R(i.lineWidth,o.lineWidth,r+R(i.lineWidthPlus,o.lineWidthPlus,0)),t=i.fillColor||o.fillColor||t,s=i.lineColor||o.lineColor||s),{stroke:s,"stroke-width":r,fill:t}},destroy:function(){var i,o,r,n,p=this,m=p.chart,d=/AppleWebKit\/533/.test(A.navigator.userAgent),x=p.data||[];for(y(p,'destroy'),a(p),C(p.axisTypes||[],function(e){(n=p[e])&&n.series&&(u(n.series,p),n.isDirty=n.forceRedraw=!0)}),p.legendItem&&p.chart.legend.destroyItem(p),o=x.length;o--;)(r=x[o])&&r.destroy&&r.destroy();p.points=null,s.clearTimeout(p.animationTimeout),c(p,function(e,o){e instanceof t&&!e.survive&&(i=d&&'group'===o?'hide':'destroy',e[i]())}),m.hoverSeries===p&&(m.hoverSeries=null),u(m.series,p),m.orderSeries(),c(p,function(e,t){delete p[t]})},getGraphPath:function(i,o,n){var t,s,c=this,d=c.options,u=d.step,x=[],m=[];return i=i||c.points,(t=i.reversed)&&i.reverse(),(u={right:1,center:2}[u]||u&&3)&&t&&(u=4-u),!d.connectNulls||o||n||(i=this.getValidPoints(i)),C(i,function(a,e){var l=a.plotX,h=a.plotY,r=i[e-1];(a.leftCliff||r&&r.rightCliff)&&!n&&(s=!0),a.isNull&&!D(o)&&0<e?s=!d.connectNulls:a.isNull&&!o?s=!0:(0===e||s?e=['M',a.plotX,a.plotY]:c.getPointSpline?e=c.getPointSpline(i,a,e):u?(e=1===u?['L',r.plotX,h]:2===u?['L',(r.plotX+l)/2,r.plotY,'L',(r.plotX+l)/2,h]:['L',l,r.plotY],e.push('L',l,h)):e=['L',l,h],m.push(a.x),u&&(m.push(a.x),2===u&&m.push(a.x)),x.push.apply(x,e),s=!1)}),x.xMap=m,c.graphPath=x},drawGraph:function(){var t=this,i=this.options,o=(this.gappedPath||this.getGraphPath).call(this),e=[['graph','highcharts-graph',i.lineColor||this.color,i.dashStyle]],e=t.getZonesGraphs(e);C(e,function(r,a){var n=r[0],s=t[n];s?(s.endX=t.preventGraphAnimation?null:o.xMap,s.animate({d:o})):o.length&&(t[n]=t.chart.renderer.path(o).addClass(r[1]).attr({zIndex:1}).add(t.group),s={stroke:r[2],"stroke-width":i.lineWidth,fill:t.fillGraph&&t.color||'none'},r[3]?s.dashstyle=r[3]:'square'!==i.linecap&&(s['stroke-linecap']=s['stroke-linejoin']='round'),s=t[n].attr(s).shadow(2>a&&i.shadow)),s&&(s.startX=o.xMap,s.isArea=o.isArea)})},getZonesGraphs:function(e){return C(this.zones,function(t,i){e.push(['zone-graph-'+i,'highcharts-graph highcharts-zone-graph-'+i+' '+(t.className||''),t.color||this.color,t.dashStyle||this.options.dashStyle])},this),e},applyZones:function(){var i,o,s,p,w,S,O,M,D,z=this,a=this.chart,b=a.renderer,c=this.zones,B=this.clips||[],e=this.graph,l=this.area,k=T(a.chartWidth,a.chartHeight),r=this[(this.zoneAxis||'y')+'Axis'],t=a.inverted,v=!1;c.length&&(e||l)&&r&&void 0!==r.min&&(w=r.reversed,S=r.horiz,e&&!this.showLine&&e.hide(),l&&l.hide(),p=r.getExtremes(),C(c,function(n,d){i=w?S?a.plotWidth:0:S?0:r.toPixels(p.min),i=W(T(R(o,i),0),k),o=W(T(L(r.toPixels(R(n.value,p.max),!0)),0),k),v&&(i=o=r.toPixels(p.max)),O=P(i-o),M=W(i,o),D=T(i,o),r.isXAxis?(s={x:t?D:M,y:0,width:O,height:k},S||(s.x=a.plotHeight-s.x)):(s={x:0,y:t?D:M,width:k,height:O},S&&(s.y=a.plotWidth-s.y)),t&&b.isVML&&(s=r.isXAxis?{x:0,y:w?M:D,height:s.width,width:a.chartWidth}:{x:s.y-a.plotLeft-a.spacingBox.x,y:0,width:s.height,height:a.chartHeight}),B[d]?B[d].animate(s):(B[d]=b.clipRect(s),e&&z['zone-graph-'+d].clip(B[d]),l&&z['zone-area-'+d].clip(B[d])),v=n.value>p.max,z.resetZones&&0===o&&(o=void 0)}),this.clips=B)},invertGroups:function(e){function t(){C(['group','markerGroup'],function(t){o[t]&&(r.renderer.isVML&&o[t].attr({width:o.yAxis.len,height:o.xAxis.len}),o[t].width=o.yAxis.len,o[t].height=o.xAxis.len,o[t].invert(e))})}var i,o=this,r=o.chart;o.xAxis&&(i=g(r,'resize',t),g(o,'destroy',i),t(e),o.invertGroups=t)},plotGroup:function(t,i,o,r,a){var n=this[t],s=!n;return s&&(this[t]=n=this.chart.renderer.g().attr({zIndex:r||.1}).add(a)),n.addClass('highcharts-'+i+' highcharts-series-'+this.index+' highcharts-'+this.type+'-series '+(D(this.colorIndex)?'highcharts-color-'+this.colorIndex+' ':'')+(this.options.className||'')+(n.hasClass('highcharts-tracker')?' highcharts-tracker':''),!0),n.attr({visibility:o})[s?'attr':'animate'](this.getPlotBox()),n},getPlotBox:function(){var e=this.chart,t=this.xAxis,i=this.yAxis;return e.inverted&&(t=i,i=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:i?i.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var t,i=this,o=i.chart,a=i.options,n=!!i.animate&&o.renderer.isSVG&&m(a.animation).duration,e=i.visible?'inherit':'hidden',s=a.zIndex,h=i.hasRendered,l=o.seriesGroup,c=o.inverted;t=i.plotGroup('group','series',e,s,l),i.markerGroup=i.plotGroup('markerGroup','markers',e,s,l),n&&i.animate(!0),t.inverted=!!i.isCartesian&&c,i.drawGraph&&(i.drawGraph(),i.applyZones()),i.drawDataLabels&&i.drawDataLabels(),i.visible&&i.drawPoints(),i.drawTracker&&!1!==i.options.enableMouseTracking&&i.drawTracker(),i.invertGroups(c),!1===a.clip||i.sharedClipKey||h||t.clip(o.clipRect),n&&i.animate(),h||(i.animationTimeout=p(function(){i.afterAnimate()},n)),i.isDirty=!1,i.hasRendered=!0,y(i,'afterRender')},redraw:function(){var e=this.chart,t=this.isDirty||this.isDirtyData,i=this.group,o=this.xAxis,r=this.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:R(o&&o.left,e.plotLeft),translateY:R(r&&r.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},kdAxisArray:['clientX','plotY'],searchPoint:function(e,t){var i=this.xAxis,o=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-e.chartY+i.pos:e.chartX-i.pos,plotY:r?o.len-e.chartX+o.pos:e.chartY-o.pos},t)},buildKDTree:function(){function t(o,r,a){var n,s;if(s=o&&o.length)return n=i.kdAxisArray[r%a],o.sort(function(e,t){return e[n]-t[n]}),s=O(s/2),{point:o[s],left:t(o.slice(0,s),r+1,a),right:t(o.slice(s+1),r+1,a)}}this.buildingKdTree=!0;var i=this,e=-1<i.options.findNearestPointBy.indexOf('y')?2:1;delete i.kdTree,p(function(){i.kdTree=t(i.getValidPoints(null,!i.directTouch),e,e),i.buildingKdTree=!1},i.options.kdNow?0:1)},searchKDTree:function(t,r){function n(e,u,x,h){var m,f,y=u.point,l=s.kdAxisArray[x%h],b=y;return f=D(e[d])&&D(y[d])?v(e[d]-y[d],2):null,m=D(e[c])&&D(y[c])?v(e[c]-y[c],2):null,m=(f||0)+(m||0),y.dist=D(m)?i(m):o,y.distX=D(f)?i(f):o,l=e[l]-y[l],m=0>l?'left':'right',f=0>l?'right':'left',u[m]&&(m=n(e,u[m],x+1,h),b=m[g]<b[g]?m:y),u[f]&&i(l*l)<b[g]&&(e=n(e,u[f],x+1,h),b=e[g]<b[g]?e:b),b}var s=this,d=this.kdAxisArray[0],c=this.kdAxisArray[1],g=r?'distX':'dist';if(r=-1<s.options.findNearestPointBy.indexOf('y')?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return n(t,this.kdTree,r,r)}})}(a),function(i){var t=i.Axis,o=i.Chart,r=i.correctFloat,s=i.defined,a=i.destroyObjectProperties,n=i.each,l=i.format,d=i.objectEach,k=i.pick,e=i.Series;i.StackItem=function(t,i,o,e,r){var a=t.chart.inverted;this.axis=t,this.isNegative=o,this.options=i,this.x=e,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:i.align||(a?o?'left':'right':'center'),verticalAlign:i.verticalAlign||(a?'middle':o?'bottom':'top'),y:k(i.y,a?4:o?14:-6),x:k(i.x,a?o?-6:6:0)},this.textAlign=i.textAlign||(a?o?'right':'left':'center')},i.StackItem.prototype={destroy:function(){a(this,this.axis)},render:function(t){var i=this.axis.chart,o=this.options,r=o.format,r=r?l(r,this,i.time):o.formatter.call(this);this.label?this.label.attr({text:r,visibility:'hidden'}):this.label=i.renderer.text(r,null,null,o.useHTML).css(o.style).attr({align:this.textAlign,rotation:o.rotation,visibility:'hidden'}).add(t)},setOffset:function(t,i){var o=this.axis,r=o.chart,e=o.translate(o.usePercentage?100:this.total,0,0,0,1),n=o.translate(0),n=P(e-n);t=r.xAxis[0].translate(this.x)+t,o=this.getStackBox(r,this,t,e,i,n,o),(i=this.label)&&(i.align(this.alignOptions,null,o),o=i.alignAttr,i[!1===this.options.crop||r.isInsidePlot(o.x,o.y)?'show':'hide'](!0))},getStackBox:function(t,i,o,e,r,n,s){var l=i.axis.reversed,d=t.inverted;return t=s.height+s.pos-(d?t.plotLeft:t.plotTop),i=i.isNegative&&!l||!i.isNegative&&l,{x:d?i?e:e-n:o,y:d?t-o-r:i?t-e-n:t-e,width:d?n:r,height:d?r:n}}},o.prototype.getStacks=function(){var e=this;n(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),n(e.series,function(t){t.options.stacking&&(!0===t.visible||!1===e.options.chart.ignoreHiddenSeries)&&(t.stackKey=t.type+k(t.options.stack,''))})},t.prototype.buildStacks=function(){var t,i=this.series,o=k(this.options.reversedStacks,!0),r=i.length;if(!this.isXAxis){for(this.usePercentage=!1,t=r;t--;)i[o?t:r-t-1].setStackedPoints();for(t=0;t<r;t++)i[t].modifyStacks()}},t.prototype.renderStackTotals=function(){var t=this.chart,i=t.renderer,o=this.stacks,e=this.stackTotalGroup;e||(this.stackTotalGroup=e=i.g('stack-labels').attr({visibility:'visible',zIndex:6}).add()),e.translate(t.plotLeft,t.plotTop),d(o,function(t){d(t,function(t){t.render(e)})})},t.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||d(e,function(i){d(i,function(o,r){o.touched<t.stacksTouched?(o.destroy(),delete i[r]):(o.total=null,o.cumulative=null)})})},t.prototype.cleanStacks=function(){var e;this.isXAxis||(this.oldStacks&&(e=this.stacks=this.oldStacks),d(e,function(e){d(e,function(e){e.cumulative=e.total})}))},e.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var o,a,n,S,C,L,O,M=this.processedXData,f=this.processedYData,c=[],e=f.length,h=this.options,I=h.threshold,d=k(h.startFromThreshold&&I,0),b=h.stack,h=h.stacking,v=this.stackKey,p='-'+v,u=this.negStacks,t=this.yAxis,y=t.stacks,A=t.oldStacks;for(t.stacksTouched+=1,C=0;C<e;C++)L=M[C],O=f[C],o=this.getStackIndicator(o,L,this.index),S=o.key,n=(a=u&&O<(d?0:I))?p:v,y[n]||(y[n]={}),y[n][L]||(A[n]&&A[n][L]?(y[n][L]=A[n][L],y[n][L].total=null):y[n][L]=new i.StackItem(t,t.options.stackLabels,a,L,b)),n=y[n][L],null===O?n.points[S]=n.points[this.index]=null:(n.points[S]=n.points[this.index]=[k(n.cumulative,d)],s(n.cumulative)||(n.base=S),n.touched=t.stacksTouched,0<o.index&&!1===this.singleStacks&&(n.points[S][0]=n.points[this.index+','+L+',0'][0])),'percent'===h?(a=a?v:p,u&&y[a]&&y[a][L]?(a=y[a][L],n.total=a.total=T(a.total,n.total)+P(O)||0):n.total=r(n.total+(P(O)||0))):n.total=r(n.total+(O||0)),n.cumulative=k(n.cumulative,d)+(O||0),null!==O&&(n.points[S].push(n.cumulative),c[C]=n.cumulative);'percent'===h&&(t.usePercentage=!0),this.stackedYData=c,t.oldStacks={}}},e.prototype.modifyStacks=function(){var t,i=this,e=i.stackKey,o=i.yAxis.stacks,a=i.processedXData,r=i.options.stacking;i[r+'Stacker']&&n([e,'-'+e],function(n){for(var s,l,d=a.length;d--;)(s=a[d],t=i.getStackIndicator(t,s,i.index,n),l=(s=o[n]&&o[n][s])&&s.points[t.key])&&i[r+'Stacker'](l,s,d)})},e.prototype.percentStacker=function(t,i,o){i=i.total?100/i.total:0,t[0]=r(t[0]*i),t[1]=r(t[1]*i),this.stackedYData[o]=t[1]},e.prototype.getStackIndicator=function(t,i,o,e){return!s(t)||t.x!==i||e&&t.key!==e?t={x:i,index:0,key:e}:t.index++,t.key=[o,i,t.index].join(),t}}(a),function(i){var o=i.addEvent,s=i.animate,g=i.Axis,m=i.createElement,n=i.css,h=i.defined,w=i.each,u=i.erase,y=i.extend,S=i.fireEvent,e=i.inArray,x=i.isNumber,f=i.isObject,k=i.isArray,T=i.merge,l=i.objectEach,C=i.pick,r=i.Point,a=i.Series,b=i.seriesTypes,p=i.setAnimation,v=i.splat;y(i.Chart.prototype,{addSeries:function(t,i,o){var r,a=this;return t&&(i=C(i,!0),S(a,'addSeries',{options:t},function(){r=a.initSeries(t),a.isDirtyLegend=!0,a.linkSeries(),S(a,'afterAddSeries'),i&&a.redraw(o)})),r},addAxis:function(t,i,o,r){var n=i?'xAxis':'yAxis',e=this.options;return t=T(t,{index:this[n].length,isX:i}),i=new g(this,t),e[n]=v(e[n]||{}),e[n].push(t),C(o,!0)&&this.redraw(r),i},showLoading:function(t){var i=this,r=i.options,a=i.loadingDiv,l=r.loading,h=function(){a&&n(a,{left:i.plotLeft+'px',top:i.plotTop+'px',width:i.plotWidth+'px',height:i.plotHeight+'px'})};a||(i.loadingDiv=a=m('div',{className:'highcharts-loading highcharts-loading-hidden'},null,i.container),i.loadingSpan=m('span',{className:'highcharts-loading-inner'},null,a),o(i,'redraw',h)),a.className='highcharts-loading',i.loadingSpan.innerHTML=t||r.lang.loading,n(a,y(l.style,{zIndex:10})),n(i.loadingSpan,l.labelStyle),i.loadingShown||(n(a,{opacity:0,display:''}),s(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,h()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&(t.className='highcharts-loading highcharts-loading-hidden',s(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){n(t,{display:'none'})}})),this.loadingShown=!1},propsRequireDirtyBox:['backgroundColor','borderColor','borderWidth','margin','marginTop','marginRight','marginBottom','marginLeft','spacing','spacingTop','spacingRight','spacingBottom','spacingLeft','borderRadius','plotBackgroundColor','plotBackgroundImage','plotBorderColor','plotBorderWidth','plotShadow','shadow'],propsRequireUpdateSeries:['chart.inverted','chart.polar','chart.ignoreHiddenSeries','chart.type','colors','plotOptions','time','tooltip'],update:function(i,o,s,a){var d,c,m=this,t={credits:'addCredits',title:'setTitle',subtitle:'setSubtitle'},p=i.chart,u=[];S(m,'update',{options:i}),p&&(T(!0,m.options.chart,p),'className'in p&&m.setClassName(p.className),'reflow'in p&&m.setReflow(p.reflow),('inverted'in p||'polar'in p||'type'in p)&&(m.propFromSeries(),d=!0),'alignTicks'in p&&(d=!0),l(p,function(t,i){-1!==e('chart.'+i,m.propsRequireUpdateSeries)&&(c=!0),-1!==e(i,m.propsRequireDirtyBox)&&(m.isDirtyBox=!0)}),'style'in p&&m.renderer.setStyle(p.style)),i.colors&&(this.options.colors=i.colors),i.plotOptions&&T(!0,this.options.plotOptions,i.plotOptions),l(i,function(i,o){m[o]&&'function'==typeof m[o].update?m[o].update(i,!1):'function'==typeof m[t[o]]&&m[t[o]](i),'chart'!==o&&-1!==e(o,m.propsRequireUpdateSeries)&&(c=!0)}),w(['xAxis','yAxis','zAxis','series','colorAxis','pane'],function(e){var t;i[e]&&('series'===e&&(t=[],w(m[e],function(e,i){e.options.isInternal||t.push(i)})),w(v(i[e]),function(i,o){(o=h(i.id)&&m.get(i.id)||m[e][t?t[o]:o])&&o.coll===e&&(o.update(i,!1),s&&(o.touched=!0)),!o&&s&&('series'===e?m.addSeries(i,!1).touched=!0:('xAxis'==e||'yAxis'==e)&&(m.addAxis(i,'xAxis'==e,!1).touched=!0))}),s&&w(m[e],function(e){e.touched||e.options.isInternal?delete e.touched:u.push(e)}))}),w(u,function(e){e.remove(!1)}),d&&w(m.axes,function(e){e.update({},!1)}),c&&w(m.series,function(e){e.update({},!1)}),i.loading&&T(!0,m.options.loading,i.loading),d=p&&p.width,p=p&&p.height,x(d)&&d!==m.chartWidth||x(p)&&p!==m.chartHeight?m.setSize(d,p,a):C(o,!0)&&m.redraw(a),S(m,'afterUpdate',{options:i})},setSubtitle:function(e){this.setTitle(void 0,e)}}),y(r.prototype,{update:function(i,o,r,a){function n(){s.applyOptions(i),null===s.y&&h&&(s.graphic=h.destroy()),f(i,!0)&&(h&&h.element&&i&&i.marker&&void 0!==i.marker.symbol&&(s.graphic=h.destroy()),i&&i.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),e=s.index,d.updateParallelArrays(s,e),t.data[e]=f(t.data[e],!0)||f(i,!0)?s.options:C(i,t.data[e]),d.isDirty=d.isDirtyData=!0,!d.fixedBox&&d.hasCartesianSeries&&(g.isDirtyBox=!0),'point'===t.legendType&&(g.isDirtyLegend=!0),o&&g.redraw(r)}var e,s=this,d=s.series,h=s.graphic,g=d.chart,t=d.options;o=C(o,!0),!1===a?n():s.firePointEvent('update',{options:i},n)},remove:function(t,i){this.series.removePoint(e(this,this.series.data),t,i)}}),y(a.prototype,{addPoint:function(i,o,a,s){var d,u,x,f,y=this.options,e=this.data,h=this.chart,m=this.xAxis,m=m&&m.hasNames&&m.names,b=y.data,l=this.xData;if(o=C(o,!0),d={series:this},this.pointClass.prototype.applyOptions.apply(d,[i]),f=d.x,x=l.length,this.requireSorting&&f<l[x-1])for(u=!0;x&&l[x-1]>f;)x--;this.updateParallelArrays(d,'splice',x,0,0),this.updateParallelArrays(d,x),m&&d.name&&(m[f]=d.name),b.splice(x,0,i),u&&(this.data.splice(x,0,null),this.processData()),'point'===y.legendType&&this.generatePoints(),a&&(e[0]&&e[0].remove?e[0].remove(!1):(e.shift(),this.updateParallelArrays(d,'shift'),b.shift())),this.isDirtyData=this.isDirty=!0,o&&h.redraw(s)},removePoint:function(t,i,o){var r=this,a=r.data,e=a[t],n=r.points,s=r.chart,d=function(){n&&n.length===a.length&&n.splice(t,1),a.splice(t,1),r.options.data.splice(t,1),r.updateParallelArrays(e||{series:r},'splice',t,1),e&&e.destroy(),r.isDirty=!0,r.isDirtyData=!0,i&&s.redraw()};p(o,s),i=C(i,!0),e?e.firePointEvent('remove',null,d):d()},remove:function(t,i,o){function r(){a.destroy(),e.isDirtyLegend=e.isDirtyBox=!0,e.linkSeries(),C(t,!0)&&e.redraw(i)}var a=this,e=a.chart;!1===o?r():S(a,'remove',null,r)},update:function(o,a){var s,l=this,d=l.chart,h=l.userOptions,m=l.oldType||l.type,t=o.type||h.type||d.options.chart.type,p=b[m].prototype,g=['group','markerGroup','dataLabelsGroup'],n=['navigatorSeries','baseSeries'],u=l.finishedAnimating&&{animation:!1},x=['data','name','turboThreshold'],f=i.keys(o),k=0<f.length;if(w(f,function(t){-1===e(t,x)&&(k=!1)}),k)o.data&&this.setData(o.data,!1),o.name&&this.setName(o.name,!1);else{for(s in n=g.concat(n),w(n,function(e){n[e]=l[e],delete l[e]}),o=T(h,u,{index:l.index,pointStart:C(h.pointStart,l.xData[0])},{data:l.options.data},o),l.remove(!1,null,!1),p)l[s]=void 0;b[t||m]?y(l,b[t||m].prototype):i.error(17,!0),w(n,function(e){l[e]=n[e]}),l.init(d,o),o.zIndex!==h.zIndex&&w(g,function(e){l[e]&&l[e].attr({zIndex:o.zIndex})}),l.oldType=m,d.linkSeries()}S(this,'afterUpdate'),C(a,!0)&&d.redraw(!1)},setName:function(e){this.name=this.options.name=this.userOptions.name=e,this.chart.isDirtyLegend=!0}}),y(g.prototype,{update:function(t,i){var o=this.chart,r=t&&t.events||{};t=T(this.userOptions,t),o.options[this.coll].indexOf&&(o.options[this.coll][o.options[this.coll].indexOf(this.userOptions)]=t),l(o.options[this.coll].events,function(e,t){'undefined'==typeof r[t]&&(r[t]=void 0)}),this.destroy(!0),this.init(o,y(t,{events:r})),o.isDirtyBox=!0,C(i,!0)&&o.redraw()},remove:function(t){for(var i=this.chart,o=this.coll,r=this.series,a=r.length;a--;)r[a]&&r[a].remove(!1);u(i.axes,this),u(i[o],this),k(i.options[o])?i.options[o].splice(this.options.index,1):delete i.options[o],w(i[o],function(e,t){e.options.index=e.userOptions.index=t}),this.destroy(),i.isDirtyBox=!0,C(t,!0)&&i.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}})}(a),function(t){var i=t.color,o=t.each,a=t.map,s=t.pick,n=t.Series,r=t.seriesType;r('area','line',{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(i){var g,x,m=[],y=[],n=this.xAxis,h=this.yAxis,u=h.stacks[this.stackKey],c={},f=this.index,r=h.series,l=r.length,d=s(h.options.reversedStacks,!0)?1:-1;if(i=i||this.points,this.options.stacking){for(x=0;x<i.length;x++)i[x].leftNull=i[x].rightNull=null,c[i[x].x]=i[x];t.objectEach(u,function(e,t){null!==e.total&&y.push(t)}),y.sort(function(e,t){return e-t}),g=a(r,function(){return this.visible}),o(y,function(i,r){var e,a,s=0;if(c[i]&&!c[i].isNull)m.push(c[i]),o([-1,1],function(t){var o=1===t?'rightNull':'leftNull',n=0,s=u[y[r+t]];if(s)for(x=f;0<=x&&x<l;)e=s.points[x],e||(x===f?c[i][o]=!0:g[x]&&(a=u[i].points[x])&&(n-=a[1]-a[0])),x+=d;c[i][1===t?'rightCliff':'leftCliff']=n});else{for(x=f;0<=x&&x<l;){if(e=u[i].points[x]){s=e[1];break}x+=d}s=h.translate(s,0,1,0,1),m.push({isNull:!0,plotX:n.translate(i,0,0,0,1),x:i,plotY:s,yBottom:s})}})}return m},getGraphPath:function(i){var o,h,g,m,x=n.prototype.getGraphPath,y=this.options,w=y.stacking,u=this.yAxis,f=[],r=[],l=this.index,d=u.stacks[this.stackKey],v=y.threshold,p=u.getThreshold(y.threshold),y=y.connectNulls||'percent'===w,S=function(o,a,e){var s=i[o];o=w&&d[s.x].points[l];var x=s[e+'Null']||0;e=s[e+'Cliff']||0;var y,b,s=!0;e||x?(y=(x?o[0]:o[1])+e,b=o[0]+e,s=!!x):!w&&i[a]&&i[a].isNull&&(y=b=v),void 0!==y&&(r.push({plotX:g,plotY:null===y?p:u.getThreshold(y),isNull:s,isCliff:!0}),f.push({plotX:g,plotY:null===b?p:u.getThreshold(b),doCurve:!1}))};for(i=i||this.points,w&&(i=this.getStackPoints(i)),o=0;o<i.length;o++)(h=i[o].isNull,g=s(i[o].rectPlotX,i[o].plotX),m=s(i[o].yBottom,p),!h||y)&&(y||S(o,o-1,'left'),h&&!w&&y||(r.push(i[o]),f.push({x:o,plotX:g,plotY:m})),y||S(o,o+1,'right'));return o=x.call(this,r,!0,!0),f.reversed=!0,h=x.call(this,f,!0,!0),h.length&&(h[0]='L'),h=o.concat(h),x=x.call(this,r,!1,y),h.xMap=o.xMap,this.areaPath=h,x},drawGraph:function(){this.areaPath=[],n.prototype.drawGraph.apply(this);var t=this,r=this.areaPath,e=this.options,a=[['area','highcharts-area',this.color,e.fillColor]];o(this.zones,function(i,o){a.push(['zone-area-'+o,'highcharts-area highcharts-zone-area-'+o+' '+i.className,i.color||t.color,i.fillColor||e.fillColor])}),o(a,function(o){var a=o[0],n=t[a];n?(n.endX=t.preventGraphAnimation?null:r.xMap,n.animate({d:r})):(n=t[a]=t.chart.renderer.path(r).addClass(o[1]).attr({fill:s(o[3],i(o[2]).setOpacity(s(e.fillOpacity,.75)).get()),zIndex:0}).add(t.group),n.isArea=!0),n.startX=r.xMap,n.shiftUnit=e.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(a),function(e){var t=e.pick;e=e.seriesType,e('spline','line',{},{getPointSpline:function(i,o,r){var s=o.plotX,l=o.plotY,e=i[r-1];r=i[r+1];var d,h,p,g;if(e&&!e.isNull&&!1!==e.doCurve&&!o.isCliff&&r&&!r.isNull&&!1!==r.doCurve&&!o.isCliff){i=e.plotY,p=r.plotX,r=r.plotY;var m=0;d=(1.5*s+e.plotX)/2.5,h=(1.5*l+i)/2.5,p=(1.5*s+p)/2.5,g=(1.5*l+r)/2.5,p!==d&&(m=(g-h)*(p-s)/(p-d)+l-g),h+=m,g+=m,h>i&&h>l?(h=T(i,l),g=2*l-h):h<i&&h<l&&(h=W(i,l),g=2*l-h),g>r&&g>l?(g=T(r,l),h=2*l-g):g<r&&g<l&&(g=W(r,l),h=2*l-g),o.rightContX=p,o.rightContY=g}return o=['C',t(e.rightContX,e.plotX),t(e.rightContY,e.plotY),t(d,s),t(h,l),s,l],e.rightContX=e.rightContY=null,o}})}(a),function(e){var t=e.seriesTypes.area.prototype,i=e.seriesType;i('areaspline','spline',e.defaultPlotOptions.area,{getStackPoints:t.getStackPoints,getGraphPath:t.getGraphPath,drawGraph:t.drawGraph,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle})}(a),function(t){var i=t.animObject,o=t.color,g=t.each,r=t.extend,n=t.isNumber,m=t.merge,w=t.pick,u=t.Series,e=t.seriesType,l=t.svg;e('column','line',{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:'#cccccc',borderColor:'#000000'}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:'#ffffff'},{cropShoulder:0,directTouch:!0,trackerGroups:['group','dataLabelsGroup'],negStacks:!0,init:function(){u.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&g(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var i,o=this,r=o.options,a=o.xAxis,s=o.yAxis,e=a.options.reversedStacks,e=a.reversed&&!e||!a.reversed&&e,h={},m=0;!1===r.grouping?m=1:g(o.chart.series,function(t){var r,a=t.options,n=t.yAxis;t.type!==o.type||!t.visible&&o.chart.options.chart.ignoreHiddenSeries||s.len!==n.len||s.pos!==n.pos||(a.stacking?(i=t.stackKey,void 0===h[i]&&(h[i]=m++),r=h[i]):!1!==a.grouping&&(r=m++),t.columnIndex=r)});var u=W(P(a.transA)*(a.ordinalSlope||r.pointRange||a.closestPointRange||a.tickInterval||1),a.len),p=u*r.groupPadding,x=(u-2*p)/(m||1),r=W(r.maxPointWidth||a.len,w(r.pointWidth,x*(1-2*r.pointPadding)));return o.columnMetrics={width:r,offset:(x-r)/2+(p+((o.columnIndex||0)+(e?1:0))*x-u/2)*(e?-1:1)},o.columnMetrics},crispCol:function(t,i,o,r){var n=this.chart,s=this.borderWidth,l=-(s%2?.5:0),s=s%2?.5:1;return n.inverted&&n.renderer.isVML&&(s+=1),this.options.crisp&&(o=L(t+o)+l,t=L(t)+l,o-=t),r=L(i+r)+s,l=.5>=P(i)&&.5<r,i=L(i)+s,r-=i,l&&r&&(--i,r+=1),{x:t,y:i,width:o,height:r}},translate:function(){var i=this,o=i.chart,r=i.options,e=i.dense=2>i.closestPointRange*i.xAxis.transA,e=i.borderWidth=w(r.borderWidth,e?0:1),a=i.yAxis,l=r.threshold,d=i.translatedThreshold=a.getThreshold(l),c=w(r.minPointLength,5),n=i.getColumnMetrics(),m=n.width,y=i.barW=T(m,1+2*e),S=i.pointXOffset=n.offset;o.inverted&&(d-=.5),r.pointPadding&&(y=s(y)),u.prototype.translate.apply(i),g(i.points,function(t){var n,s=w(t.yBottom,d),e=999+P(s),e=W(T(-e,t.plotY),a.len+e),u=t.plotX+S,x=y,p=W(e,s),f=T(e,s)-p;c&&P(f)<c&&(f=c,n=!a.reversed&&!t.negative||a.reversed&&t.negative,t.y===l&&i.dataMax<=l&&a.min<l&&(n=!n),p=P(p-d)>c?s-c:d-(n?c:0)),t.barX=u,t.pointWidth=m,t.tooltipPos=o.inverted?[a.len+a.pos-o.plotLeft-e,i.xAxis.len-u-x/2,f]:[u+x/2,e+a.pos-o.plotTop,f],t.shapeType='rect',t.shapeArgs=i.crispCol.apply(i,t.isNull?[u,d,x,0]:[u,p,x,f])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?'addClass':'removeClass']('highcharts-dense-data')},pointAttribs:function(e,t){var i,r=this.options,s=this.pointAttrToOptions||{};i=s.stroke||'borderColor';var g=s['stroke-width']||'borderWidth',d=e&&e.color||this.color,u=e&&e[i]||r[i]||this.color||d,x=e&&e[g]||r[g]||this[g]||0,s=r.dashStyle;return e&&this.zones.length&&(d=e.getZone(),d=e.options.color||d&&d.color||this.color),t&&(e=m(r.states[t],e.options.states&&e.options.states[t]||{}),t=e.brightness,d=e.color||void 0!==t&&o(d).brighten(e.brightness).get()||d,u=e[i]||u,x=e[g]||x,s=e.dashStyle||s),i={fill:d,stroke:u,"stroke-width":x},s&&(i.dashstyle=s),i},drawPoints:function(){var e,t=this,i=this.chart,o=t.options,a=i.renderer,r=o.animationLimit||250;g(t.points,function(s){var l=s.graphic,d=l&&i.pointCount<r?'animate':'attr';n(s.plotY)&&null!==s.y?(e=s.shapeArgs,l?l[d](m(e)):s.graphic=l=a[s.shapeType](e).add(s.group||t.group),o.borderRadius&&l.attr({r:o.borderRadius}),l[d](t.pointAttribs(s,s.selected&&'select')).shadow(o.shadow,null,o.stacking&&!o.borderRadius),l.addClass(s.getClassName(),!0)):l&&(s.graphic=l.destroy())})},animate:function(t){var o,n=this,s=this.yAxis,p=n.options,e=this.chart.inverted,h={},d=e?'translateX':'translateY';l&&(t?(h.scaleY=.001,t=W(s.pos+s.len,T(s.pos,s.toPixels(p.threshold))),e?h.translateX=t-s.len:h.translateY=t,n.group.attr(h)):(o=n.group.attr(d),n.group.animate({scaleY:1},r(i(n.options.animation),{step:function(t,i){h[d]=o+i.pos*(s.pos-o),n.group.attr(h)}})),n.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&g(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),u.prototype.remove.apply(e,arguments)}})}(a),function(e){e=e.seriesType,e('bar','column',null,{inverted:!0})}(a),function(e){var t=e.Series;e=e.seriesType,e('scatter','line',{lineWidth:0,findNearestPointBy:'xy',marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:'x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>'}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:['group','markerGroup','dataLabelsGroup'],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&t.prototype.drawGraph.call(this)}})}(a),function(e){var t=e.deg2rad,i=e.isNumber,o=e.pick,r=e.relativeLength;e.CenteredSeriesMixin={getCenter:function(){var t,i,n=this.options,s=this.chart,l=2*(n.slicedOffset||0),d=s.plotWidth-2*l,s=s.plotHeight-2*l,h=n.center,h=[o(h[0],'50%'),o(h[1],'50%'),n.size||'100%',n.innerSize||0],p=W(d,s);for(t=0;4>t;++t)i=h[t],n=2>t||2===t&&/%$/.test(i),h[t]=r(i,[d,s,p,h[2]][t])+(n?l:0);return h[3]>h[2]&&(h[3]=h[2]),h},getStartAndEndRadians:function(o,r){return o=i(o)?o:0,r=i(r)&&r>o&&360>r-o?r:o+360,{start:t*(o+-90),end:t*(r+-90)}}}}(a),function(t){var i=t.addEvent,o=t.CenteredSeriesMixin,r=t.defined,s=t.each,n=t.extend,l=o.getStartAndEndRadians,h=t.inArray,a=t.noop,g=t.pick,d=t.Point,m=t.Series,u=t.seriesType,x=t.setAnimation;u('pie','line',{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:'point',marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:'#ffffff',borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:['group','dataLabelsGroup'],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(e){var t=this,i=t.points,o=t.startAngleRad;e||(s(i,function(e){var i=e.graphic,r=e.shapeArgs;i&&(i.attr({r:e.startR||t.center[3]/2,start:o,end:o}),i.animate({r:r.r,start:r.start,end:r.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var t,i,o=0,r=this.points,n=r.length,s=this.options.ignoreHiddenPoint;for(t=0;t<n;t++)i=r[t],o+=s&&!i.visible?0:i.isNull?0:i.y;for(this.total=o,t=0;t<n;t++)i=r[t],i.percentage=0<o&&(i.visible||!s)?100*(i.y/o):0,i.total=o},generatePoints:function(){m.prototype.generatePoints.call(this),this.updateTotals()},translate:function(i){this.generatePoints();var o,s,v,w,A,P,O=0,M=this.options,D=M.slicedOffset,b=D+(M.borderWidth||0),f=l(M.startAngle,M.endAngle),I=this.startAngleRad=f.start,f=(this.endAngleRad=f.end)-I,r=this.points,u=M.dataLabels.distance,M=M.ignoreHiddenPoint,x=r.length;for(i||(this.center=i=this.getCenter()),this.getX=function(e,t,o){return v=Math.asin(W((e-i[1])/(i[2]/2+o.labelDistance),1)),i[0]+(t?-1:1)*S(v)*(i[2]/2+o.labelDistance)},A=0;A<x;A++)P=r[A],P.labelDistance=g(P.options.dataLabels&&P.options.dataLabels.distance,u),this.maxLabelDistance=T(this.maxLabelDistance||0,P.labelDistance),o=I+O*f,(!M||P.visible)&&(O+=P.percentage/100),s=I+O*f,P.shapeType='arc',P.shapeArgs={x:i[0],y:i[1],r:i[2]/2,innerR:i[3]/2,start:L(1E3*o)/1E3,end:L(1E3*s)/1E3},v=(s+o)/2,v>1.5*p?v-=2*p:v<-p/2&&(v+=2*p),P.slicedTranslation={translateX:L(S(v)*D),translateY:L(e(v)*D)},s=S(v)*i[2]/2,w=e(v)*i[2]/2,P.tooltipPos=[i[0]+.7*s,i[1]+.7*w],P.half=v<-p/2||v>p/2?1:0,P.angle=v,o=W(b,P.labelDistance/5),P.labelPos=[i[0]+s+S(v)*P.labelDistance,i[1]+w+e(v)*P.labelDistance,i[0]+s+S(v)*o,i[1]+w+e(v)*o,i[0]+s,i[1]+w,0>P.labelDistance?'center':P.half?'right':'left',v]},drawGraph:null,drawPoints:function(){var i,o,r,h,p=this,a=p.chart.renderer,c=p.options.shadow;c&&!p.shadowGroup&&(p.shadowGroup=a.g('shadow').add(p.group)),s(p.points,function(e){if(o=e.graphic,e.isNull)o&&(e.graphic=o.destroy());else{h=e.shapeArgs,i=e.getTranslate();var s=e.shadowGroup;c&&!s&&(s=e.shadowGroup=a.g('shadow').add(p.shadowGroup)),s&&s.attr(i),r=p.pointAttribs(e,e.selected&&'select'),o?o.setRadialReference(p.center).attr(r).animate(n(h,i)):(e.graphic=o=a[e.shapeType](h).setRadialReference(p.center).attr(i).add(p.group),o.attr(r).attr({"stroke-linejoin":'round'}).shadow(c,s)),o.attr({visibility:e.visible?'inherit':'hidden'}),o.addClass(e.getClassName())}})},searchPoint:a,sortByAngle:function(e,t){e.sort(function(e,i){return void 0!==e.angle&&(i.angle-e.angle)*t})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:o.getCenter,getSymbol:a},{init:function(){d.prototype.init.apply(this,arguments);var e,t=this;return t.name=g(t.name,'Slice'),e=function(e){t.slice('select'===e.type)},i(t,'select',e),i(t,'unselect',e),t},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,i){var o=this,r=o.series,n=r.chart,l=r.options.ignoreHiddenPoint;i=g(i,l),t!==o.visible&&(o.visible=o.options.visible=t=void 0===t?!o.visible:t,r.options.data[h(o,r.data)]=o.options,s(['graphic','dataLabel','connector','shadowGroup'],function(e){o[e]&&o[e][t?'show':'hide'](!0)}),o.legendItem&&n.legend.colorizeItem(o,t),t||'hover'!==o.state||o.setState(''),l&&(r.isDirty=!0),i&&n.redraw())},slice:function(e,t,i){var o=this.series;x(i,o.chart),g(t,!0),this.sliced=this.options.sliced=r(e)?e:!this.sliced,o.options.data[h(this,o.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(e){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r-1,start:t.start,end:t.end})}})}(a),function(i){var t=i.addEvent,o=i.arrayMax,s=i.defined,a=i.each,v=i.extend,w=i.format,n=i.map,S=i.merge,e=i.noop,A=i.pick,p=i.relativeLength,x=i.Series,d=i.seriesTypes,g=i.some,r=i.stableSort;i.distribute=function(t,o,s){function l(e,t){return e.target-t.target}var p,d,u=!0,x=t,f=[];d=0;var y=x.reducedLen||o;for(p=t.length;p--;)d+=t[p].size;if(d>y){for(r(t,function(e,t){return(t.rank||0)-(e.rank||0)}),d=p=0;d<=y;)d+=t[p].size,p++;f=t.splice(p-1,t.length)}for(r(t,l),t=n(t,function(e){return{size:e.size,targets:[e.target],align:A(e.align,.5)}});u;){for(p=t.length;p--;)u=t[p],d=(W.apply(0,u.targets)+T.apply(0,u.targets))/2,u.pos=W(T(0,d-u.size*u.align),o-u.size);for(p=t.length,u=!1;p--;)0<p&&t[p-1].pos+t[p-1].size>t[p].pos&&(t[p-1].size+=t[p].size,t[p-1].targets=t[p-1].targets.concat(t[p].targets),t[p-1].align=.5,t[p-1].pos+t[p-1].size>o&&(t[p-1].pos=o-t[p-1].size),t.splice(p,1),u=!0)}x.push.apply(x,f),p=0,g(t,function(e){var t=0;if(g(e.targets,function(){return x[p].pos=e.pos+t,P(x[p].pos-x[p].target)>s?(a(x.slice(0,p+1),function(e){delete e.pos}),x.reducedLen=(x.reducedLen||o)-.1*o,x.reducedLen>.1*o&&i.distribute(x,o,s),!0):void(t+=x[p].size,p++)}))return!0}),r(x,l)},x.prototype.drawDataLabels=function(){function e(e,t){var i=t.filter;return!i||(t=i.operator,e=e[i.property],i=i.value,!!('>'===t&&e>i||'<'===t&&e<i||'>='===t&&e>=i||'<='===t&&e<=i||'=='===t&&e==i||'==='===t&&e===i))}var o,c,x,y,T=this,b=T.chart,f=T.options,h=f.dataLabels,n=T.points,d=T.hasRendered||0,p=A(h.defer,!!f.animation),C=b.renderer;(h.enabled||T._hasPointLabels)&&(T.dlProcessOptions&&T.dlProcessOptions(h),y=T.plotGroup('dataLabelsGroup','data-labels',p&&!d?'hidden':'visible',h.zIndex||6),p&&(y.attr({opacity:+d}),d||t(T,'afterAnimate',function(){T.visible&&y.show(!0),y[f.animation?'animate':'attr']({opacity:1},{duration:200})})),c=h,a(n,function(r){var a,l,d,m,P=r.dataLabel,L=r.connector,n=!P;o=r.dlOptions||r.options&&r.options.dataLabels,(a=A(o&&o.enabled,c.enabled)&&!r.isNull)&&(a=!0===e(r,o||h)),a&&(h=S(c,o),l=r.getLabelConfig(),m=h[r.formatPrefix+'Format']||h.format,x=s(m)?w(m,l,b.time):(h[r.formatPrefix+'Formatter']||h.formatter).call(l,h),m=h.style,l=h.rotation,m.color=A(h.color,m.color,T.color,'#000000'),'contrast'===m.color&&(r.contrastColor=C.getContrast(r.color||T.color),m.color=h.inside||0>A(r.labelDistance,h.distance)||f.stacking?r.contrastColor:'#000000'),f.cursor&&(m.cursor=f.cursor),d={fill:h.backgroundColor,stroke:h.borderColor,"stroke-width":h.borderWidth,r:h.borderRadius||0,rotation:l,padding:h.padding,zIndex:1},i.objectEach(d,function(e,t){void 0===e&&delete d[t]})),!P||a&&s(x)?a&&s(x)&&(P?d.text=x:(P=r.dataLabel=l?C.text(x,0,-9999).addClass('highcharts-data-label'):C.label(x,0,-9999,h.shape,null,null,h.useHTML,null,'data-label'),P.addClass(' highcharts-data-label-color-'+r.colorIndex+' '+(h.className||'')+(h.useHTML?' highcharts-tracker':''))),P.attr(d),P.css(m).shadow(h.shadow),P.added||P.add(y),T.alignDataLabel(r,P,h,null,n)):(r.dataLabel=P=P.destroy(),L&&(r.connector=L.destroy()))})),i.fireEvent(this,'afterDrawDataLabels')},x.prototype.alignDataLabel=function(t,i,o,a,s){var h,c=this.chart,d=c.inverted,l=A(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),x=A(t.plotY,-9999),f=i.getBBox(),m=o.rotation,r=o.align,y=this.visible&&(t.series.forceDL||c.isInsidePlot(l,L(x),d)||a&&c.isInsidePlot(l,d?a.x+1:a.y+a.height-1,d)),b='justify'===A(o.overflow,'justify');y&&(h=o.style.fontSize,h=c.renderer.fontMetrics(h,i).b,a=v({x:d?this.yAxis.len-x:l,y:L(d?this.xAxis.len-l:x),width:0,height:0},a),v(o,{width:f.width,height:f.height}),m?(b=!1,l=c.renderer.rotCorr(h,m),l={x:a.x+o.x+a.width/2+l.x,y:a.y+o.y+{top:0,middle:.5,bottom:1}[o.verticalAlign]*a.height},i[s?'attr':'animate'](l).attr({align:r}),x=(m+720)%360,x=180<x&&360>x,'left'===r?l.y-=x?f.height:0:'center'===r?(l.x-=f.width/2,l.y-=f.height/2):'right'===r&&(l.x-=f.width,l.y-=x?0:f.height),i.placed=!0,i.alignAttr=l):(i.align(o,null,a),l=i.alignAttr),b?t.isLabelJustified=this.justifyDataLabel(i,o,l,f,a,s):A(o.crop,!0)&&(y=c.isInsidePlot(l.x,l.y)&&c.isInsidePlot(l.x+f.width,l.y+f.height)),o.shape&&!m)&&i[s?'attr':'animate']({anchorX:d?c.plotWidth-t.plotY:t.plotX,anchorY:d?c.plotHeight-t.plotX:t.plotY}),y||(i.attr({y:-9999}),i.placed=!1)},x.prototype.justifyDataLabel=function(i,o,r,a,e,s){var h,p,c=this.chart,d=o.align,l=o.verticalAlign,g=i.box?0:i.padding||0;return h=r.x+g,0>h&&('right'===d?o.align='left':o.x=-h,p=!0),h=r.x+a.width-g,h>c.plotWidth&&('left'===d?o.align='right':o.x=c.plotWidth-h,p=!0),h=r.y+g,0>h&&('bottom'===l?o.verticalAlign='top':o.y=-h,p=!0),h=r.y+a.height-g,h>c.plotHeight&&('top'===l?o.verticalAlign='bottom':o.y=c.plotHeight-h,p=!0),p&&(i.placed=!s,i.align(o,null,e)),p},d.pie&&(d.pie.prototype.drawDataLabels=function(){var n,t,v,P,M,D,I,B,E,H,X=this,d=X.data,Y=X.chart,f=X.options.dataLabels,h=A(f.connectorPadding,10),l=A(f.connectorWidth,1),F=Y.plotWidth,r=Y.plotHeight,p=L(Y.chartWidth/3),j=X.center,y=j[2]/2,C=j[1],c=[[],[]],G=[0,0,0,0];X.visible&&(f.enabled||X._hasPointLabels)&&(a(d,function(e){e.dataLabel&&e.visible&&e.dataLabel.shortened&&(e.dataLabel.attr({width:'auto'}).css({width:'auto',textOverflow:'clip'}),e.dataLabel.shortened=!1)}),x.prototype.drawDataLabels.apply(X),a(d,function(e){e.dataLabel&&(e.visible?(c[e.half].push(e),e.dataLabel._pos=null,!s(f.style.width)&&!s(e.options.dataLabels&&e.options.dataLabels.style&&e.options.dataLabels.style.width)&&e.dataLabel.getBBox().width>p&&(e.dataLabel.css({width:.7*p}),e.dataLabel.shortened=!0)):e.dataLabel=e.dataLabel.destroy())}),a(c,function(e,o){var l,d,c,g=e.length,t=[];if(g)for(X.sortByAngle(e,o-.5),0<X.maxLabelDistance&&(l=T(0,C-y-X.maxLabelDistance),d=W(C+y+X.maxLabelDistance,Y.plotHeight),a(e,function(e){0<e.labelDistance&&e.dataLabel&&(e.top=T(0,C-y-e.labelDistance),e.bottom=W(C+y+e.labelDistance,Y.plotHeight),c=e.dataLabel.getBBox().height||21,e.distributeBox={target:e.labelPos[1]-e.top+c/2,size:c,rank:e.y},t.push(e.distributeBox))}),l=d+c-l,i.distribute(t,l,l/5)),H=0;H<g;H++)n=e[H],M=n.labelPos,v=n.dataLabel,E=!1===n.visible?'hidden':'inherit',B=l=M[1],s(n.distributeBox)&&(void 0===n.distributeBox.pos?E='hidden':(D=n.distributeBox.size,B=n.top+n.distributeBox.pos)),delete n.positionIndex,I=f.justify?j[0]+(o?-1:1)*(y+n.labelDistance):X.getX(B<n.top+2||B>n.bottom-2?l:B,o,n),v._attr={visibility:E,align:M[6]},v._pos={x:I+f.x+({left:h,right:-h}[M[6]]||0),y:B+f.y-10},M.x=I,M.y=B,A(f.crop,!0)&&(P=v.getBBox().width,l=null,I-P<h&&1===o?(l=L(P-I+h),G[3]=T(l,G[3])):I+P>F-h&&0==o&&(l=L(I+P-F+h),G[1]=T(l,G[1])),0>B-D/2?G[0]=T(L(-B+D/2),G[0]):B+D/2>r&&(G[2]=T(L(B+D/2-r),G[2])),v.sideOverflow=l)}),0===o(G)||this.verifyDataLabelOverflow(G))&&(this.placeDataLabels(),l&&a(this.points,function(e){var i;t=e.connector,(v=e.dataLabel)&&v._pos&&e.visible&&0<e.labelDistance?(E=v._attr.visibility,(i=!t)&&(e.connector=t=Y.renderer.path().addClass('highcharts-data-label-connector  highcharts-color-'+e.colorIndex+(e.className?' '+e.className:'')).add(X.dataLabelsGroup),t.attr({"stroke-width":l,stroke:f.connectorColor||e.color||'#666666'})),t[i?'attr':'animate']({d:X.connectorPath(e.labelPos)}),t.attr('visibility',E)):t&&(e.connector=t.destroy())}))},d.pie.prototype.connectorPath=function(e){var t=e.x,i=e.y;return A(this.options.dataLabels.softConnector,!0)?['M',t+('left'===e[6]?5:-5),i,'C',t,i,2*e[2]-e[4],2*e[3]-e[5],e[2],e[3],'L',e[4],e[5]]:['M',t+('left'===e[6]?5:-5),i,'L',e[2],e[3],'L',e[4],e[5]]},d.pie.prototype.placeDataLabels=function(){a(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.sideOverflow&&(t._attr.width=t.getBBox().width-t.sideOverflow,t.css({width:t._attr.width+'px',textOverflow:this.options.dataLabels.style.textOverflow||'ellipsis'}),t.shortened=!0),t.attr(t._attr),t[t.moved?'animate':'attr'](e),t.moved=!0):t&&t.attr({y:-9999}))},this)},d.pie.prototype.alignDataLabel=e,d.pie.prototype.verifyDataLabelOverflow=function(t){var i,o=this.center,r=this.options,a=r.center,n=r.minSize||80,e=null!==r.size;return e||(null===a[0]?(i=T(o[2]-t[1]-t[3],n),o[0]+=(t[3]-t[1])/2):i=T(o[2]-T(t[1],t[3]),n),null===a[1]?(i=T(W(i,o[2]-t[0]-t[2]),n),o[1]+=(t[0]-t[2])/2):i=T(W(i,o[2]-T(t[0],t[2])),n),i<o[2]?(o[2]=i,o[3]=W(p(r.innerSize||0,i),i),this.translate(o),this.drawDataLabels&&this.drawDataLabels()):e=!0),e}),d.column&&(d.column.prototype.alignDataLabel=function(t,i,o,e,r){var a=this.chart.inverted,s=t.series,l=t.dlBox||t.shapeArgs,d=A(t.below,t.plotY>A(this.translatedThreshold,s.yAxis.len)),n=A(o.inside,!!this.options.stacking);l&&(e=S(l),0>e.y&&(e.height+=e.y,e.y=0),l=e.y+e.height-s.yAxis.len,0<l&&(e.height-=l),a&&(e={x:s.yAxis.len-e.y-e.height,y:s.xAxis.len-e.x-e.width,width:e.height,height:e.width}),n||(a?(e.x+=d?0:e.width,e.width=0):(e.y+=d?e.height:0,e.height=0))),o.align=A(o.align,!a||n?'center':d?'right':'left'),o.verticalAlign=A(o.verticalAlign,a||n?'middle':d?'top':'bottom'),x.prototype.alignDataLabel.call(this,t,i,o,e,r),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(a),function(e){var t=e.Chart,i=e.each,o=e.objectEach,r=e.pick;e=e.addEvent,e(t,'render',function(){var t=[];i(this.labelCollectors||[],function(i){t=t.concat(i())}),i(this.yAxis||[],function(i){i.options.stackLabels&&!i.options.stackLabels.allowOverlap&&o(i.stacks,function(i){o(i,function(i){t.push(i.label)})})}),i(this.series||[],function(o){var e=o.options.dataLabels,a=o.dataLabelCollections||['dataLabel'];(e.enabled||o._hasPointLabels)&&!e.allowOverlap&&o.visible&&i(a,function(a){i(o.points,function(i){i[a]&&(i[a].labelrank=r(i.labelrank,i.shapeArgs&&i.shapeArgs.height),t.push(i[a]))})})}),this.hideOverlappingLabels(t)}),t.prototype.hideOverlappingLabels=function(t){var o,r,a,s,l,d,p=t.length,e=function(t,i,o,r,a,e,n,s){return!(a>t+o||a+n<t||e>i+r||e+s<i)};for(a=function(t){var i,o,r,a=2*(t.box?0:t.padding||0);if(t&&(!t.alignAttr||t.placed))return i=t.alignAttr||{x:t.attr('x'),y:t.attr('y')},o=t.parentGroup,t.width||(r=t.getBBox(),t.width=r.width,t.height=r.height),{x:i.x+(o.translateX||0),y:i.y+(o.translateY||0),width:t.width-a,height:t.height-a}},r=0;r<p;r++)(o=t[r])&&(o.oldOpacity=o.opacity,o.newOpacity=1,o.absoluteBox=a(o));for(t.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),r=0;r<p;r++)for(d=(a=t[r])&&a.absoluteBox,o=r+1;o<p;++o)(l=(s=t[o])&&s.absoluteBox,d&&l&&a!==s&&0!==a.newOpacity&&0!==s.newOpacity&&(l=e(d.x,d.y,d.width,d.height,l.x,l.y,l.width,l.height)))&&((a.labelrank<s.labelrank?a:s).newOpacity=0);i(t,function(e){var t,i;e&&(i=e.newOpacity,e.oldOpacity!==i&&(e.alignAttr&&e.placed?(i?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=i,e[e.isOld?'animate':'attr'](e.alignAttr,null,t)):e.attr({opacity:i})),e.isOld=!0)})}}(a),function(t){var i,o=t.addEvent,a=t.Chart,s=t.createElement,g=t.css,n=t.defaultOptions,m=t.defaultPlotOptions,w=t.each,e=t.extend,y=t.fireEvent,u=t.hasTouch,h=t.inArray,x=t.isObject,c=t.Legend,k=t.merge,S=t.pick,r=t.Point,l=t.Series,d=t.seriesTypes,A=t.svg;i=t.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart.pointer,i=function(e){var i=t.getPointFromEvent(e);void 0!==i&&(t.isDirectTouch=!0,i.onMouseOver(e))};w(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.div?e.dataLabel.div.point=e:e.dataLabel.element.point=e)}),e._hasTracking||(w(e.trackerGroups,function(o){e[o]&&(e[o].addClass('highcharts-tracker').on('mouseover',i).on('mouseout',function(e){t.onTrackerMouseOut(e)}),u&&e[o].on('touchstart',i),e.options.cursor&&e[o].css(g).css({cursor:e.options.cursor}))}),e._hasTracking=!0),y(this,'afterDrawTracker')},drawTrackerGraph:function(){var t,i=this,o=i.options,a=o.trackByArea,s=[].concat(a?i.areaPath:i.graphPath),d=s.length,e=i.chart,p=e.pointer,h=e.renderer,l=e.options.tooltip.snap,c=i.tracker,g=function(){e.hoverSeries!==i&&i.onMouseOver()},r='rgba(192,192,192,'+(A?1e-4:.002)+')';if(d&&!a)for(t=d+1;t--;)'M'===s[t]&&s.splice(t+1,0,s[t+1]-l,s[t+2],'L'),(t&&'M'===s[t]||t===d)&&s.splice(t,0,'L',s[t-2]+l,s[t-1]);c?c.attr({d:s}):i.graph&&(i.tracker=h.path(s).attr({"stroke-linejoin":'round',visibility:i.visible?'visible':'hidden',stroke:r,fill:a?r:'none',"stroke-width":i.graph.strokeWidth()+(a?0:2*l),zIndex:2}).add(i.group),w([i.tracker,i.markerGroup],function(e){e.addClass('highcharts-tracker').on('mouseover',g).on('mouseout',function(e){p.onTrackerMouseOut(e)}),o.cursor&&e.css({cursor:o.cursor}),u&&e.on('touchstart',g)})),y(this,'afterDrawTracker')}},d.column&&(d.column.prototype.drawTracker=i.drawTrackerPoint),d.pie&&(d.pie.prototype.drawTracker=i.drawTrackerPoint),d.scatter&&(d.scatter.prototype.drawTracker=i.drawTrackerPoint),e(c.prototype,{setItemEvents:function(t,i,o){var a=this,e=a.chart.renderer.boxWrapper,n='highcharts-legend-'+(t instanceof r?'point':'series')+'-active';(o?i:t.legendGroup).on('mouseover',function(){t.setState('hover'),e.addClass(n),i.css(a.options.itemHoverStyle)}).on('mouseout',function(){i.css(k(t.visible?a.itemStyle:a.itemHiddenStyle)),e.removeClass(n),t.setState()}).on('click',function(i){var o=function(){t.setVisible&&t.setVisible()};e.removeClass(n),i={browserEvent:i},t.firePointEvent?t.firePointEvent('legendItemClick',i,o):y(t,'legendItemClick',i,o)})},createCheckboxForItem:function(e){e.checkbox=s('input',{type:'checkbox',checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),o(e.checkbox,'click',function(t){y(e.series||e,'checkboxClick',{checked:t.target.checked,item:e},function(){e.select()})})}}),n.legend.itemStyle.cursor='pointer',e(a.prototype,{showResetZoom:function(){function t(){i.zoomOut()}var i=this,o=n.lang,r=i.options.chart.resetZoomButton,a=r.theme,e=a.states,s='chart'===r.relativeTo?null:'plotBox';y(this,'beforeShowResetZoom',null,function(){i.resetZoomButton=i.renderer.button(o.resetZoom,null,null,t,a,e&&e.hover).attr({align:r.position.align,title:o.resetZoomTitle}).addClass('highcharts-reset-zoom').add().align(r.position,!1,s)})},zoomOut:function(){y(this,'selection',{resetSelection:!0},this.zoom)},zoom:function(t){var i,o,r=this.pointer,n=!1;!t||t.resetSelection?(w(this.axes,function(e){i=e.zoom()}),r.initiated=!1):w(t.xAxis.concat(t.yAxis),function(e){var t=e.axis;r[t.isXAxis?'zoomX':'zoomY']&&(i=t.zoom(e.min,e.max),t.displayBtn&&(n=!0))}),o=this.resetZoomButton,n&&!o?this.showResetZoom():!n&&x(o)&&(this.resetZoomButton=o.destroy()),i&&this.redraw(S(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,i){var o,r=this,a=r.hoverPoints;a&&w(a,function(e){e.setState()}),w('xy'===i?[1,0]:[1],function(e){e=r[e?'xAxis':'yAxis'][0];var i=e.horiz,a=t[i?'chartX':'chartY'],i=i?'mouseDownX':'mouseDownY',s=r[i],p=(e.pointRange||0)/2,c=e.reversed&&!r.inverted||!e.reversed&&r.inverted?-1:1,u=e.getExtremes(),l=e.toValue(s-a,!0)+p*c,c=e.toValue(s+e.len-a,!0)-p*c,x=c<l,s=x?c:l,l=x?l:c,c=W(u.dataMin,p?u.min:e.toValue(e.toPixels(u.min)-e.minPixelPadding)),p=T(u.dataMax,p?u.max:e.toValue(e.toPixels(u.max)+e.minPixelPadding)),x=c-s;0<x&&(l+=x,s=c),x=l-p,0<x&&(l=p,s-=x),e.series.length&&s!==u.min&&l!==u.max&&(e.setExtremes(s,l,!1,!1,{trigger:'pan'}),o=!0),r[i]=a}),o&&r.redraw(!1),g(r.container,{cursor:'move'})}}),e(r.prototype,{select:function(t,i){var o=this,r=o.series,n=r.chart;t=S(t,!o.selected),o.firePointEvent(t?'select':'unselect',{accumulate:i},function(){o.selected=o.options.selected=t,r.options.data[h(o,r.data)]=o.options,o.setState(t&&'select'),i||w(n.getSelectedPoints(),function(e){e.selected&&e!==o&&(e.selected=e.options.selected=!1,r.options.data[h(e,r.data)]=e.options,e.setState(''),e.firePointEvent('unselect'))})})},onMouseOver:function(e){var t=this.series.chart,i=t.pointer;e=e?i.normalize(e):i.getChartCoordinatesFromPoint(this,t.inverted),i.runPointActions(e,this)},onMouseOut:function(){var e=this.series.chart;this.firePointEvent('mouseOut'),w(e.hoverPoints||[],function(e){e.setState()}),e.hoverPoints=e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=k(e.series.options.point,e.options).events;e.events=i,t.objectEach(i,function(t,i){o(e,i,t)}),this.hasImportedEvents=!0}},setState:function(i,o){var s,l=O(this.plotX),b=this.plotY,d=this.series,f=d.options.states[i||'normal']||{},h=m[d.type].marker&&d.options.marker,w=h&&!1===h.enabled,n=h&&h.states&&h.states[i||'normal']||{},p=!1===n.enabled,g=d.stateMarkerGraphic,T=this.marker||{},r=d.chart,u=d.halo,A=h&&d.markerAttribs;i=i||'',i===this.state&&!o||this.selected&&'select'!==i||!1===f.enabled||i&&(p||w&&!1===n.enabled)||i&&T.states&&T.states[i]&&!1===T.states[i].enabled||(A&&(s=d.markerAttribs(this,i)),this.graphic?(this.state&&this.graphic.removeClass('highcharts-point-'+this.state),i&&this.graphic.addClass('highcharts-point-'+i),this.graphic.animate(d.pointAttribs(this,i),S(r.options.chart.animation,f.animation)),s&&this.graphic.animate(s,S(r.options.chart.animation,n.animation,h.animation)),g&&g.hide()):(i&&n&&(h=T.symbol||d.symbol,g&&g.currentSymbol!==h&&(g=g.destroy()),g?g[o?'animate':'attr']({x:s.x,y:s.y}):h&&(d.stateMarkerGraphic=g=r.renderer.symbol(h,s.x,s.y,s.width,s.height).add(d.markerGroup),g.currentSymbol=h),g&&g.attr(d.pointAttribs(this,i))),g&&(g[i&&r.isInsidePlot(l,b,r.inverted)?'show':'hide'](),g.element.point=this)),(l=f.halo)&&l.size?(u||(d.halo=u=r.renderer.path().add((this.graphic||g).parentGroup)),u.show()[o?'animate':'attr']({d:this.haloPath(l.size)}),u.attr({class:'highcharts-halo highcharts-color-'+S(this.colorIndex,d.colorIndex)+(this.className?' '+this.className:''),zIndex:-1}),u.point=this,u.attr(e({fill:this.color||d.color,"fill-opacity":l.opacity},l.attributes))):u&&u.point&&u.point.haloPath&&u.animate({d:u.point.haloPath(0)},null,u.hide),this.state=i,y(this,'afterSetState'))},haloPath:function(e){return this.series.chart.renderer.symbols.circle(O(this.plotX)-e,this.plotY-e,2*e,2*e)}}),e(l.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&y(this,'mouseOver'),this.setState('hover'),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,i=t.tooltip,o=t.hoverPoint;t.hoverSeries=null,o&&o.onMouseOut(),this&&e.events.mouseOut&&y(this,'mouseOut'),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var i=this,o=i.options,r=i.graph,n=o.states,e=o.lineWidth,o=0;if(t=t||'',i.state!==t&&(w([i.group,i.markerGroup,i.dataLabelsGroup],function(e){e&&(i.state&&e.removeClass('highcharts-series-'+i.state),t&&e.addClass('highcharts-series-'+t))}),i.state=t,!n[t]||!1!==n[t].enabled)&&(t&&(e=n[t].lineWidth||e+(n[t].lineWidthPlus||0)),r&&!r.dashstyle))for(e={"stroke-width":e},r.animate(e,S(n[t||'normal']&&n[t||'normal'].animation,i.chart.options.chart.animation));i['zone-graph-'+o];)i['zone-graph-'+o].attr(e),o+=1},setVisible:function(t,i){var o,r=this,n=r.chart,s=r.legendItem,e=n.options.chart.ignoreHiddenSeries,l=r.visible;o=(r.visible=t=r.options.visible=r.userOptions.visible=void 0===t?!l:t)?'show':'hide',w(['group','dataLabelsGroup','markerGroup','tracker','tt'],function(e){r[e]&&r[e][o]()}),(n.hoverSeries===r||(n.hoverPoint&&n.hoverPoint.series)===r)&&r.onMouseOut(),s&&n.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&w(n.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),w(r.linkedSeries,function(e){e.setVisible(t,!1)}),e&&(n.isDirtyBox=!0),y(r,o),!1!==i&&n.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=void 0===e?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),y(this,e?'select':'unselect')},drawTracker:i.drawTrackerGraph})}(a),function(t){var i=t.Chart,o=t.each,s=t.inArray,l=t.isArray,n=t.isObject,r=t.pick,e=t.splat;i.prototype.setResponsive=function(i){var e=this.options.responsive,r=[],a=this.currentResponsive;e&&e.rules&&o(e.rules,function(e){void 0===e._id&&(e._id=t.uniqueKey()),this.matchResponsiveRule(e,r,i)},this);var s=t.merge.apply(0,t.map(r,function(i){return t.find(e.rules,function(e){return e._id===i}).chartOptions})),r=r.toString()||void 0;r!==(a&&a.ruleIds)&&(a&&this.update(a.undoOptions,i),r?(this.currentResponsive={ruleIds:r,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,i)):this.currentResponsive=void 0)},i.prototype.matchResponsiveRule=function(e,t){var i=e.condition;(i.callback||function(){return this.chartWidth<=r(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=r(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=r(i.minWidth,0)&&this.chartHeight>=r(i.minHeight,0)}).call(this)&&t.push(e._id)},i.prototype.currentOptions=function(i){function o(i,d,h,p){var r;t.objectEach(i,function(t,i){if(!p&&-1<s(i,['series','xAxis','yAxis']))for(t=e(t),h[i]=[],r=0;r<t.length;r++)d[i][r]&&(h[i][r]={},o(t[r],d[i][r],h[i][r],p+1));else n(t)?(h[i]=l(t)?[]:{},o(t,d[i]||{},h[i],p+1)):h[i]=d[i]||null})}var r={};return o(i,this.options,r,0),r}}(a),a})}),index={name:'highcharts',props:{options:Object},render:function(e){return e('div',this.$slots.default)},mounted:function(){this.createHighcharts()},watch:{options:function(){this.createHighcharts()}},methods:{createHighcharts:function(){highcharts.chart(this.$el,this.options)}}};export default index;
