function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var e=function(){function e(n){var t=n.src,r=n.onloadedmetadata,i=n.ontimeupdate,a=n.onerror,o=n.isDebugger,l=void 0!==o&&o;!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.src=t,this.onloadedmetadata=r,this.ontimeupdate=i,this.onerror=a,this.isDebugger=l,this.audio=null,this.status="pause",this.muted=!1,this.timer="",this.playbackRate=1}var t,r,i;return t=e,r=[{key:"log",value:function(){var n;this.isDebugger&&(n=console).log.apply(n,arguments)}},{key:"initPlayer",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.src,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.audio=new Audio(e),this.audio.volume=t,this.changeRate(this.playbackRate),this.audio.onloadedmetadata=function(e){n.log("onloadedmetadata",e.type),n.onloadedmetadata(e.target.duration)},this.audio.ontimeupdate=function(e){n.log("ontimeupdate",e.target.currentTime),n.ontimeupdate(e.target.currentTime)},this.audio.onerror=function(e){n.log("onerror",e),n.onerror(e)},this.audio.onpause=function(e){n.status=e.type},this.audio.onplay=function(e){n.status=e.type}}},{key:"play",value:function(){this.audio&&this.audio.play()}},{key:"toggleMute",value:function(){this.audio.muted=!this.audio.muted,this.muted=this.audio.muted}},{key:"pause",value:function(){this.audio&&this.audio.pause()}},{key:"togglePlay",value:function(){this.audio&&this.audio.paused?this.play():this.pause()}},{key:"reload",value:function(n){this.pause(),this.audio&&this.audio.currentTime&&(this.audio.currentTime=0),this.audio.src=n,this.status="ended",this.togglePlay()}},{key:"changeTime",value:function(n){this.log("changeTime",n),this.audio.currentTime=n,"play"!==this.status&&n>0&&this.play()}},{key:"changeVolume",value:function(n){this.audio.volume=n,this.muted=0===n,this.audio.muted=this.muted}},{key:"changeRate",value:function(n){this.audio.playbackRate=n,this.playbackRate=n}},{key:"getSecondTimeFomate",value:function(n){var e=parseInt(n),t=parseInt(e%3600/60);1===t.toString().length&&(t="0"+t);var r=e-60*t;return 1===r.toString().length&&(r="0"+r),t+":"+r}}],r&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t={name:"slider",props:{active:{type:String,default:"#20a0ff"},background:{type:String,default:"#ddd"},value:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1}},data:()=>({x:0,odrag:"",obox:"",maxWidth:0,oboxID:1e4*Math.random(),odragID:1e5*Math.random()}),mounted(){this.obox=document.getElementById(this.oboxID),this.odrag=document.getElementById(this.odragID),this.maxWidth=this.obox.clientWidth-this.odrag.clientWidth},methods:{dragStart(n){this.draging=!0;const e=n.clientX-this.odrag.offsetLeft;document.onmousemove=n=>{document.getSelection().removeAllRanges();const t=n.clientX-e;this.maxWidth=this.obox.clientWidth-this.odrag.clientWidth;const r=Math.min(this.maxWidth,Math.max(t,0));this.updateValue(r/this.maxWidth),this.showTip=!0},document.onmouseup=()=>{document.onmousemove=document.onmouseup=null}},clickBox(n){if(this.disabled)return;if(!n.target.className.includes("slider-liner"))return;const e=n.offsetX-this.odrag.clientWidth/2;this.updateValue(e/this.maxWidth)},updateValue(n){this.$emit("input",Number(n).toFixed(2)),this.$emit("change",n)}}};function r(n,e,t,r,i,a,o,l,s,d){"boolean"!=typeof o&&(s=l,l=o,o=!1);const c="function"==typeof t?t.options:t;let p;if(n&&n.render&&(c.render=n.render,c.staticRenderFns=n.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),r&&(c._scopeId=r),a?(p=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,s(n)),n&&n._registeredComponents&&n._registeredComponents.add(a)},c._ssrRegister=p):e&&(p=o?function(n){e.call(this,d(n,this.$root.$options.shadowRoot))}:function(n){e.call(this,l(n))}),p)if(c.functional){const n=c.render;c.render=function(e,t){return p.call(t),n(e,t)}}else{const n=c.beforeCreate;c.beforeCreate=n?[].concat(n,p):[p]}return t}const i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function a(n){return(n,e)=>function(n,e){const t=i?e.media||"default":n,r=l[t]||(l[t]={ids:new Set,styles:[]});if(!r.ids.has(n)){r.ids.add(n);let t=e.source;if(e.map&&(t+="\n/*# sourceURL="+e.map.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),void 0===o&&(o=document.head||document.getElementsByTagName("head")[0]),o.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(t),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const n=r.ids.size-1,e=document.createTextNode(t),i=r.element.childNodes;i[n]&&r.element.removeChild(i[n]),i.length?r.element.insertBefore(e,i[n]):r.element.appendChild(e)}}}(n,e)}let o;const l={};const s=t;var d=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"slider-container"},[t("div",{directives:[{name:"show",rawName:"v-show",value:n.disabled,expression:"disabled"}],staticClass:"slider-liner disabled"}),n._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!n.disabled,expression:"!disabled"}],staticClass:"slider-liner",style:{background:"linear-gradient(to right, "+n.active+" "+100*n.value+"%, "+n.background+" "+100*n.value+"%)"},attrs:{id:n.oboxID},on:{click:n.clickBox}},[t("div",{staticClass:"slider-pointer",style:{left:n.maxWidth*n.value+"px",background:n.active},attrs:{id:n.odragID},on:{mousedown:n.dragStart}})])])};d._withStripped=!0;const c={name:"audio-player",components:{slider:r({render:d,staticRenderFns:[]},(function(n){n&&n("data-v-0fdfe808_0",{source:".slider-container[data-v-0fdfe808] {\n  position: relative;\n  width: 100%;\n  padding: 10px 0;\n}\n.slider-liner[data-v-0fdfe808] {\n  position: relative;\n  width: 100%;\n  height: 2px;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.slider-liner.disabled[data-v-0fdfe808] {\n  background: #ccc;\n}\n.slider-pointer[data-v-0fdfe808] {\n  width: 10px;\n  height: 10px;\n  top: -4px;\n  border-radius: 100%;\n  background: #000;\n  position: absolute;\n  cursor: pointer;\n}\n.slider-tips[data-v-0fdfe808] {\n  position: absolute;\n  left: 50%;\n  top: -20px;\n  transform: translateX(-50%);\n  line-height: 20px;\n}\n",map:{version:3,sources:["/Users/tutu/Downloads/code/packages/packages/tui-vue-player/src/slider.vue","slider.vue"],names:[],mappings:"AAgIA;EACA,kBAAA;EACA,WAAA;EACA,eAAA;AC/HA;ADiIA;EACA,kBAAA;EACA,WAAA;EACA,WAAA;EACA,kBAAA;EACA,eAAA;AC/HA;ADgIA;EACA,gBAAA;AC9HA;ADiIA;EACA,WAAA;EACA,YAAA;EACA,SAAA;EACA,mBAAA;EACA,gBAAA;EACA,kBAAA;EACA,eAAA;AC/HA;ADiIA;EACA,kBAAA;EACA,SAAA;EACA,UAAA;EACA,2BAAA;EACA,iBAAA;AC/HA",file:"slider.vue",sourcesContent:['<template>\r\n  <div class="slider-container">\r\n    <div class="slider-liner disabled" v-show="disabled"></div>\r\n    <div class="slider-liner"\r\n        :id="oboxID"\r\n        v-show="!disabled"\r\n        @click="clickBox"\r\n        :style="{\r\n      background: `linear-gradient(to right, ${active} ${value * 100}%, ${background} ${value * 100}%)`\r\n    }">\r\n      <div class="slider-pointer"\r\n          :id="odragID"\r\n          @mousedown="dragStart"\r\n          :style="{\r\n              left: maxWidth * value + \'px\',\r\n              background: active,\r\n            }">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \'slider\',\r\n  props: {\r\n    /**\r\n     * 高亮颜色\r\n     */\r\n    active: {\r\n      type: String,\r\n      default: \'#20a0ff\'\r\n    },\r\n    /**\r\n     * 背景色\r\n     */\r\n    background: {\r\n      type: String,\r\n      default: \'#ddd\'\r\n    },\r\n    /**\r\n     * 进度百分比\r\n     */\r\n    value: {\r\n      type: [Number, String],\r\n      default: 0,\r\n    },\r\n    /**\r\n     * 禁用模式\r\n     */\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n  },\r\n  data () {\r\n    return {\r\n      x: 0,\r\n      odrag: \'\',\r\n      obox: \'\',\r\n      maxWidth: 0,\r\n      // 随机id，解决多个slider的问题\r\n      oboxID: Math.random() * 10000,\r\n      odragID: Math.random() * 100000,\r\n    }\r\n  },\r\n  mounted () {\r\n    this.obox = document.getElementById(this.oboxID)\r\n    this.odrag = document.getElementById(this.odragID)\r\n    this.maxWidth = this.obox.clientWidth - this.odrag.clientWidth\r\n  },\r\n  methods: {\r\n    /**\r\n     * 拖拽切换\r\n     * @param {*} ev 拖拽dom对象\r\n     */\r\n    dragStart (ev) {\r\n      this.draging = true\r\n      const x = ev.clientX - this.odrag.offsetLeft\r\n      document.onmousemove = (ev) => {\r\n        // 除去鼠标的选中效果\r\n        document.getSelection().removeAllRanges()\r\n        // 计算拖拽的x轴距离\r\n        const left = ev.clientX - x\r\n        this.maxWidth = this.obox.clientWidth - this.odrag.clientWidth\r\n        // 小于0则去零，大于最大值取最大值\r\n        const move = Math.min(this.maxWidth, Math.max(left, 0))\r\n        this.updateValue(move / this.maxWidth)\r\n        this.showTip = true\r\n      }\r\n\r\n      document.onmouseup = () => {\r\n        document.onmousemove = document.onmouseup = null\r\n      }\r\n    },\r\n    /**\r\n     * 点击切换\r\n     * @param {*} ev 点击dom对象\r\n     */\r\n    clickBox (ev) {\r\n      if (this.disabled) return\r\n      if (!ev.target.className.includes(\'slider-liner\')) return\r\n      const left = ev.offsetX - this.odrag.clientWidth / 2\r\n      this.updateValue(left / this.maxWidth)\r\n    },\r\n    /**\r\n     * 更新进度\r\n     * @param {number} rate 进度比例\r\n     */\r\n    updateValue (rate) {\r\n      // 修改父组件值，组件内部修改通过方法触发方法供父组件使用\r\n      /**\r\n       * 修改比例回显\r\n       * @event input\r\n       * @type {string}\r\n       */\r\n      this.$emit(\'input\', Number(rate).toFixed(2))\r\n      /**\r\n       * 修改实际比例\r\n       * @event change\r\n       * @type {string}\r\n       */\r\n      this.$emit(\'change\', rate)\r\n    },\r\n  },\r\n}\r\n<\/script>\r\n<style lang="stylus" scoped>\r\n.slider{\r\n  &-container{\r\n    position relative\r\n    width 100%\r\n    padding 10px 0\r\n  }\r\n  &-liner{\r\n    position relative\r\n    width 100%;\r\n    height: 2px;\r\n    border-radius: 2px;\r\n    cursor: pointer\r\n    &.disabled {\r\n      background #ccc\r\n    }\r\n  }\r\n  &-pointer{\r\n    width 10px\r\n    height 10px\r\n    top: -4px;\r\n    border-radius: 100%;\r\n    background: #000;\r\n    position: absolute;\r\n    cursor: pointer\r\n  }\r\n  &-tips{\r\n    position absolute\r\n    left 50%\r\n    top -20px\r\n    transform translateX(-50%)\r\n    line-height 20px\r\n  }\r\n}\r\n</style>\r\n',".slider-container {\n  position: relative;\n  width: 100%;\n  padding: 10px 0;\n}\n.slider-liner {\n  position: relative;\n  width: 100%;\n  height: 2px;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.slider-liner.disabled {\n  background: #ccc;\n}\n.slider-pointer {\n  width: 10px;\n  height: 10px;\n  top: -4px;\n  border-radius: 100%;\n  background: #000;\n  position: absolute;\n  cursor: pointer;\n}\n.slider-tips {\n  position: absolute;\n  left: 50%;\n  top: -20px;\n  transform: translateX(-50%);\n  line-height: 20px;\n}\n"]},media:void 0})}),s,"data-v-0fdfe808",false,undefined,!1,a,void 0,void 0)},props:{list:{type:Array},miniable:{type:Boolean,default:!1},rates:{type:Array,default:()=>[.5,1,2]}},data:()=>({player:"",currentTime:"00:00",duration:"00:00",durationNum:0,error:!1,rate:0,volume:1,mini:!1,value:{},dragStartX:0,dragStartY:0,floatOriginX:0,floatOriginY:0,floatOffsetLeft:0,floatOffsetTop:0,clientWidth:0,clientHeight:0}),created(){this.value=this.list[0]},watch:{list(n){n&&n.length&&this.changeMedia(n[0])}},mounted(){this.player=new e({src:this.value.src,onloadedmetadata:n=>{this.error=!1,this.durationNum=n,this.duration=this.player&&this.player.getSecondTimeFomate(n)},ontimeupdate:n=>{this.currentTime=this.player&&this.player.getSecondTimeFomate(n),this.rate=n/this.durationNum},onerror:()=>{this.error=!0}}),this.player.initPlayer(this.value.src,this.volume)},computed:{playing(){return"play"===this.player.status},isMuted(){return this.player.muted},playbackRate(){return this.player.playbackRate},floatStyleObj(){return{transform:`translate(${this.floatOffsetLeft}px, ${this.floatOffsetTop}px)`,cursor:"move"}}},beforeDestroy(){this.close()},methods:{close(){this.player&&this.player.pause(),this.player=""},togglePlay(){this.player.togglePlay()},toggleMute(){this.player.toggleMute()},changeTime(n){this.player&&this.player.changeTime(this.durationNum*n)},changeVolume(n){this.player&&this.player.changeVolume(n)},changeRate(n){this.player&&this.player.changeRate(n)},changeMedia(n){n===this.value?this.togglePlay():(this.value=n,this.player&&this.player.reload(n.src))},changeStatus(n){this.mini=n,this.$emit("change",n)},closeWin(){this.close(),this.$emit("close")},onDragBegin(n){this.mini&&(this.clientWidth=document.body.clientWidth,this.clientHeight=document.body.clientHeight,this.floatOriginX=this.floatOffsetLeft,this.floatOriginY=this.floatOffsetTop,this.dragStartX=n.clientX,this.dragStartY=n.clientY,document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp))},onDocumentMouseMove(n){const e=this.floatOriginX+n.clientX-this.dragStartX,t=this.floatOriginY+n.clientY-this.dragStartY;e>0?this.floatOffsetLeft=0:e<84-this.clientWidth?this.floatOffsetLeft=84-this.clientWidth:this.floatOffsetLeft=e,t>this.clientHeight-120?this.floatOffsetTop=this.clientHeight-120:this.floatOffsetTop=t<-60?-60:t},onDocumentMouseUp(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousemove",this.onDocumentMouseMove)}}};var p=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"audio-player-container",class:{mini:n.mini},style:n.mini?n.floatStyleObj:"",on:{mousedown:n.onDragBegin}},[t("div",{staticClass:"audio-player-warper"},[t("div",{staticClass:"audio-player-control-btn"},[n.error?t("svg",{staticClass:"audio-player-control-icon",attrs:{viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M517.08411984 479.11475483L301.90637831 263.93753776a26.85237631 26.85237631 0 1 0-37.98667221 37.95153335l215.17669262 215.19504873L263.91970607 732.27864411a26.85237631 26.85237631 0 1 0 37.96936504 37.96884057l215.19504878-215.17669264 215.19504866 215.17669264a26.85237631 26.85237631 0 1 0 37.9688406-37.95100889l-215.17669262-215.2123559 215.17669262-215.1772171a26.85237631 26.85237631 0 1 0-37.9688406-37.96936505L517.10195147 479.11475483z"}})]):[n.playing?t("svg",{staticClass:"audio-player-control-icon",attrs:{viewBox:"0 0 17 32"},on:{click:n.togglePlay}},[t("path",{attrs:{d:"M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"}})]):t("svg",{staticClass:"audio-player-control-icon",attrs:{viewBox:"-9 0 32 32"},on:{click:n.togglePlay}},[t("path",{attrs:{d:"M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"}})])]],2),n._v(" "),n.mini?t("div",{staticClass:"audio-player-mini"},[t("svg",{attrs:{viewBox:"0 0 1024 1024"},on:{click:n.closeWin}},[t("path",{attrs:{d:"M517.08411984 479.11475483L301.90637831 263.93753776a26.85237631 26.85237631 0 1 0-37.98667221 37.95153335l215.17669262 215.19504873L263.91970607 732.27864411a26.85237631 26.85237631 0 1 0 37.96936504 37.96884057l215.19504878-215.17669264 215.19504866 215.17669264a26.85237631 26.85237631 0 1 0 37.9688406-37.95100889l-215.17669262-215.2123559 215.17669262-215.1772171a26.85237631 26.85237631 0 1 0-37.9688406-37.96936505L517.10195147 479.11475483z"}})]),n._v(" "),t("svg",{attrs:{viewBox:"0 0 1024 1024"},on:{click:function(e){return n.changeStatus(!1)}}},[t("path",{attrs:{d:"M616.0602684 468.78768158L771.30480958 468.78768158c35.3562355 0 64.11552429-28.75928879 64.11552429-64.11552429l-1e-8-164.95456696c0-35.3562355-28.75928879-64.11552429-64.11552429-64.11552429l-155.24454117 0c-35.3562355 0-64.11552429 28.75928879-64.11552429 64.11552429L551.94474411 404.67215728c0 35.34851076 28.75928879 64.11552429 64.11552429 64.11552431z m2.31742859-226.75266265L768.98738098 242.03501893 768.98738098 402.35472869l-150.60968399 0 0-160.31970976z","p-id":"3010"}}),n._v(" "),t("path",{attrs:{d:"M299.04376221 848.39793396L724.95623779 848.39793396c60.90974808 0 110.46409607-49.55434799 110.46409607-110.46409607l0-202.85997391c0-18.34630967-14.87016678-33.21647644-33.21647644-33.21647644s-33.21647644 14.87016678-33.21647644 33.21647644L768.98738098 737.93383789c0 24.27892686-19.75221634 44.03114318-44.03114319 44.03114318l-425.91247558 0c-24.27892686 0-44.03114318-19.75221634-44.03114319-44.03114318l0-451.86767578c0-24.27892686 19.75221634-44.03114318 44.03114319-44.03114318L488.67121887 242.03501893c18.34630967 0 33.21647644-14.87016678 33.21647644-33.21647645s-14.87016678-33.21647644-33.21647643-33.21647644l-189.62745667 0c-60.90974808 0-110.46409607 49.55434799-110.46409607 110.46409607L188.57966614 737.93383789c0 60.90974808 49.55434799 110.46409607 110.46409607 110.46409607z","p-id":"3011"}}),n._v(" "),t("path",{attrs:{d:"M490.86505127 497.09893418L370.25061797 617.72109223l0-98.97737504c0-18.34630967-14.87016678-33.21647644-33.21647643-33.21647644s-33.21647644 14.87016678-33.21647643 33.21647644L303.81766511 660.52399827c0 19.02608872 8.34274292 36.13643647 21.55208586 47.89352416 0.19311905 0.20084381 0.37078857 0.40168762 0.5716324 0.59480667a33.25355529 33.25355529 0 0 0 8.51268767 6.16436004 63.73314858 63.73314858 0 0 0 33.47911836 9.46283341L500.00344467 724.63952255c18.34630967 0 33.21647644-14.87016678 33.21647644-33.21647644s-14.87016678-33.21647644-33.21647644-33.21647643l-76.28974914 0L537.83932876 544.08093642c12.96987533-12.96987533 12.96987533-34.00440217 0-46.97427749-6.48880005-6.48880005-14.98603821-9.72547531-23.49100113-9.72547531s-16.99447632 3.23667527-23.48327636 9.71775056z","p-id":"3012"}})])]):n._e(),n._v(" "),n.mini?n._e():t("div",{staticClass:"audio-player-warper-content"},[t("div",{staticClass:"audio-player-title"},[t("div",[n._v(n._s(n.value.name))]),n._v(" "),t("div",{staticClass:"audio-player-title-btn"},[n.error?n._e():[t("span",[n._v("倍速")]),n._v(" "),n._l(n.rates,(function(e){return t("span",{key:e,class:{"rate-active":n.playbackRate===e},on:{click:function(t){return n.changeRate(e)}}},[n._v(n._s(e))])}))],n._v(" "),n.miniable?t("svg",{attrs:{viewBox:"0 0 1024 1024",width:"20",height:"20"},on:{click:function(e){return n.changeStatus(!0)}}},[t("path",{attrs:{d:"M18.285714 201.142857c0-100.571429 82.285714-182.857143 182.857143-182.857143h621.714286c100.571429 0 182.857143 82.285714 182.857143 182.857143v621.714286c0 100.571429-82.285714 182.857143-182.857143 182.857143h-621.714286a183.369143 183.369143 0 0 1-182.857143-182.857143z m694.857143-109.714286v109.714286c0 60.342857 49.371429 109.714286 109.714286 109.714286h109.714286v-109.714286c0-60.342857-49.371429-109.714286-109.714286-109.714286h-109.714286z m-621.714286 109.714286v621.714286c0 60.342857 49.371429 109.714286 109.714286 109.714286h621.714286c60.342857 0 109.714286-49.371429 109.714286-109.714286v-438.857143h-109.714286a183.369143 183.369143 0 0 1-182.857143-182.857143v-109.714286h-438.857143c-60.342857 0-109.714286 49.371429-109.714286 109.714286z m129.828572 601.6c-14.628571-14.628571-14.628571-36.571429 0-51.2L479.085714 493.714286h-131.657143a36.644571 36.644571 0 0 1-36.571428-36.571429c0-20.114286 16.457143-36.571429 36.571428-36.571428h219.428572c9.142857 0 18.285714 3.657143 25.6 10.971428 7.314286 5.485714 10.971429 14.628571 10.971428 25.6v219.428572c0 20.114286-16.457143 36.571429-36.571428 36.571428a36.644571 36.644571 0 0 1-36.571429-36.571428v-131.657143l-257.828571 257.828571c-14.628571 14.628571-36.571429 14.628571-51.2 0z","p-id":"5623"}})]):n._e()],2)]),n._v(" "),n.error?t("div",{staticClass:"audio-player-error"},[n._v("\n        文件加载失败\n      ")]):t("div",{staticClass:"audio-player-control"},[t("div",{staticClass:"audio-player-control-progress"},[t("slider",{on:{change:n.changeTime},model:{value:n.rate,callback:function(e){n.rate=e},expression:"rate"}})],1),n._v(" "),t("div",{staticClass:"audio-player-control-time"},[n._v("\n          "+n._s(n.currentTime)+" / "+n._s(n.duration)+"\n        ")]),n._v(" "),n.isMuted?t("svg",{staticClass:"audio-player-control-icon volume",attrs:{viewBox:"0 0 32 32"},on:{click:n.toggleMute}},[t("path",{attrs:{d:"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"}})]):1==n.volume?t("svg",{staticClass:"audio-player-control-icon volume",attrs:{viewBox:"0 0 32 32"},on:{click:n.toggleMute}},[t("path",{attrs:{d:"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"}})]):t("svg",{staticClass:"audio-player-control-icon volume",attrs:{viewBox:"0 0 32 32"},on:{click:n.toggleMute}},[t("path",{attrs:{d:"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"}})]),n._v(" "),t("div",{staticClass:"audio-player-volume-slider"},[t("slider",{on:{change:n.changeVolume},model:{value:n.volume,callback:function(e){n.volume=e},expression:"volume"}})],1)])])]),n._v(" "),!n.mini&&n.list&&n.list.length>1?t("div",{staticClass:"audio-player-list"},[t("ul",n._l(n.list,(function(e,r){return t("li",{key:r,class:{active:e===n.value},on:{click:function(t){return n.changeMedia(e)}}},[n._v("\n        "+n._s(e.name)+"\n      ")])})),0)]):n._e()])};p._withStripped=!0;const A=r({render:p,staticRenderFns:[]},(function(n){n&&n("data-v-313f0004_0",{source:"svg[data-v-313f0004] {\n  opacity: 0.8;\n  fill: #666;\n  cursor: pointer;\n}\nsvg[data-v-313f0004]:hover {\n  opacity: 1;\n}\n.audio-player-container[data-v-313f0004] {\n  box-sizing: border-box;\n  border-top: 1px solid rgba(0,0,0,0.07);\n  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.07), 0 1px 5px 0 rgba(0,0,0,0.1);\n  border-radius: 2px;\n}\n.audio-player-container.mini[data-v-313f0004] {\n  position: absolute;\n  top: 60px;\n  right: 0;\n  z-index: 1999;\n  background: #fff;\n}\n.audio-player-mini[data-v-313f0004] {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n.audio-player-mini > svg[data-v-313f0004] {\n  width: 24px;\n  height: 24px;\n}\n.audio-player-warper[data-v-313f0004] {\n  display: flex;\n}\n.audio-player-warper-content[data-v-313f0004] {\n  flex: 1;\n}\n.audio-player-error[data-v-313f0004] {\n  padding: 0 10px;\n  line-height: 30px;\n  color: #f56c6c;\n}\n.audio-player-title[data-v-313f0004] {\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 10px;\n  font-size: 14px;\n  line-height: 30px;\n}\n.audio-player-title span[data-v-313f0004] {\n  padding: 0 5px;\n  cursor: pointer;\n}\n.audio-player-title .rate-active[data-v-313f0004] {\n  font-weight: 700;\n  color: #20a0ff;\n}\n.audio-player-title-btn[data-v-313f0004] {\n  display: flex;\n  align-items: center;\n}\n.audio-player-volume-slider[data-v-313f0004] {\n  width: 40px;\n}\n.audio-player-control[data-v-313f0004] {\n  display: flex;\n  height: 30px;\n  line-height: 30px;\n  align-items: center;\n  padding-right: 10px;\n}\n.audio-player-control-btn[data-v-313f0004] {\n  width: 60px;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #20a0ff;\n}\n.audio-player-control-icon[data-v-313f0004] {\n  box-sizing: content-box;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  fill: #fff;\n  border: 2px solid #fff;\n  border-radius: 100%;\n  padding: 1px;\n  opacity: 0.8;\n}\n.audio-player-control-icon[data-v-313f0004]:hover {\n  opacity: 1;\n}\n.audio-player-control-icon.volume[data-v-313f0004] {\n  fill: #999;\n}\n.audio-player-control-icon.reload[data-v-313f0004] {\n  margin-left: 10px;\n}\n.audio-player-control-progress[data-v-313f0004] {\n  flex: 1;\n  padding: 0 10px;\n}\n.audio-player-control-time[data-v-313f0004] {\n  margin-right: 10px;\n  font-family: Arial;\n  color: #999;\n  font-size: 14px;\n}\n.audio-player-list ul[data-v-313f0004],\n.audio-player-list li[data-v-313f0004] {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.audio-player-list ul[data-v-313f0004] {\n  border-top: 1px solid #eee;\n}\n.audio-player-list li[data-v-313f0004] {\n  position: relative;\n  margin-top: 1px;\n  padding: 0 10px;\n  border-bottom: 1px solid #eee;\n  border-left: 3px outset #ccc;\n  color: #666;\n  font-size: 12px;\n  line-height: 2em;\n  cursor: pointer;\n}\n.audio-player-list li.active[data-v-313f0004],\n.audio-player-list li[data-v-313f0004]:hover {\n  background: #eee;\n  border-left-color: #20a0ff;\n  color: #333;\n}\n",map:{version:3,sources:["/Users/tutu/Downloads/code/packages/packages/tui-vue-player/src/audio-player.vue","audio-player.vue"],names:[],mappings:"AA2UA;EACA,YAAA;EACA,UAAA;EACA,eAAA;AC1UA;AD2UA;EACA,UAAA;ACzUA;AD+UA;EACA,sBAAA;EAEA,sCAAA;EACA,qEAAA;EACA,kBAAA;AC9UA;ADgVA;EACA,kBAAA;EACA,SAAA;EACA,QAAA;EACA,aAAA;EACA,gBAAA;AC9UA;ADiVA;EACA,aAAA;EACA,sBAAA;EACA,6BAAA;AC/UA;ADgVA;EACA,WAAA;EACA,YAAA;AC9UA;ADkVA;EACA,aAAA;AChVA;ADiVA;EACA,OAAA;AC/UA;ADmVA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;ACjVA;ADoVA;EACA,kBAAA;EACA,aAAA;EACA,8BAAA;EACA,mBAAA;EACA,eAAA;EACA,eAAA;EACA,iBAAA;AClVA;ADmVA;EACA,cAAA;EACA,eAAA;ACjVA;ADmVA;EACA,gBAAA;EACA,cAAA;ACjVA;ADmVA;EACA,aAAA;EACA,mBAAA;ACjVA;ADqVA;EACA,WAAA;ACnVA;ADsVA;EACA,aAAA;EACA,YAAA;EACA,iBAAA;EACA,mBAAA;EACA,mBAAA;ACpVA;ADsVA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,mBAAA;ACpVA;ADwVA;EACA,uBAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,eAAA;EACA,UAAA;EACA,sBAAA;EACA,mBAAA;EACA,YAAA;EACA,YAAA;ACtVA;ADuVA;EACA,UAAA;ACrVA;ADuVA;EACA,UAAA;ACrVA;ADwVA;EACA,iBAAA;ACtVA;AD0VA;EACA,OAAA;EACA,eAAA;ACxVA;AD2VA;EACA,kBAAA;EACA,kBAAA;EACA,WAAA;EACA,eAAA;ACzVA;AD8VA;;EACA,gBAAA;EACA,UAAA;EACA,SAAA;AC3VA;AD8VA;EACA,0BAAA;AC5VA;AD+VA;EACA,kBAAA;EACA,eAAA;EACA,eAAA;EACA,6BAAA;EACA,4BAAA;EACA,WAAA;EACA,eAAA;EACA,gBAAA;EACA,eAAA;AC7VA;AD+VA;;EACA,gBAAA;EACA,0BAAA;EACA,WAAA;AC5VA",file:"audio-player.vue",sourcesContent:['<template>\r\n  <div class="audio-player-container" :class="{ mini }" @mousedown="onDragBegin" :style="mini ? floatStyleObj : \'\'">\r\n    <div class="audio-player-warper">\r\n      <div class="audio-player-control-btn">\r\n        <template v-if="!error">\r\n          <svg viewBox="-9 0 32 32" class="audio-player-control-icon" v-if="!playing" @click="togglePlay">\r\n            <path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path>\r\n          </svg>\r\n          <svg viewBox="0 0 17 32" class="audio-player-control-icon" v-else @click="togglePlay">\r\n            <path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path>\r\n          </svg>\r\n        </template>\r\n        <svg v-else viewBox="0 0 1024 1024" class="audio-player-control-icon">\r\n          <path d="M517.08411984 479.11475483L301.90637831 263.93753776a26.85237631 26.85237631 0 1 0-37.98667221 37.95153335l215.17669262 215.19504873L263.91970607 732.27864411a26.85237631 26.85237631 0 1 0 37.96936504 37.96884057l215.19504878-215.17669264 215.19504866 215.17669264a26.85237631 26.85237631 0 1 0 37.9688406-37.95100889l-215.17669262-215.2123559 215.17669262-215.1772171a26.85237631 26.85237631 0 1 0-37.9688406-37.96936505L517.10195147 479.11475483z"></path>\r\n        </svg>\r\n      </div>\r\n      <div v-if="mini" class="audio-player-mini">\r\n        <svg @click="closeWin" viewBox="0 0 1024 1024">\r\n          <path d="M517.08411984 479.11475483L301.90637831 263.93753776a26.85237631 26.85237631 0 1 0-37.98667221 37.95153335l215.17669262 215.19504873L263.91970607 732.27864411a26.85237631 26.85237631 0 1 0 37.96936504 37.96884057l215.19504878-215.17669264 215.19504866 215.17669264a26.85237631 26.85237631 0 1 0 37.9688406-37.95100889l-215.17669262-215.2123559 215.17669262-215.1772171a26.85237631 26.85237631 0 1 0-37.9688406-37.96936505L517.10195147 479.11475483z"></path>\r\n        </svg>\r\n        <svg viewBox="0 0 1024 1024" @click="changeStatus(false)">\r\n          <path d="M616.0602684 468.78768158L771.30480958 468.78768158c35.3562355 0 64.11552429-28.75928879 64.11552429-64.11552429l-1e-8-164.95456696c0-35.3562355-28.75928879-64.11552429-64.11552429-64.11552429l-155.24454117 0c-35.3562355 0-64.11552429 28.75928879-64.11552429 64.11552429L551.94474411 404.67215728c0 35.34851076 28.75928879 64.11552429 64.11552429 64.11552431z m2.31742859-226.75266265L768.98738098 242.03501893 768.98738098 402.35472869l-150.60968399 0 0-160.31970976z" p-id="3010"></path>\r\n          <path d="M299.04376221 848.39793396L724.95623779 848.39793396c60.90974808 0 110.46409607-49.55434799 110.46409607-110.46409607l0-202.85997391c0-18.34630967-14.87016678-33.21647644-33.21647644-33.21647644s-33.21647644 14.87016678-33.21647644 33.21647644L768.98738098 737.93383789c0 24.27892686-19.75221634 44.03114318-44.03114319 44.03114318l-425.91247558 0c-24.27892686 0-44.03114318-19.75221634-44.03114319-44.03114318l0-451.86767578c0-24.27892686 19.75221634-44.03114318 44.03114319-44.03114318L488.67121887 242.03501893c18.34630967 0 33.21647644-14.87016678 33.21647644-33.21647645s-14.87016678-33.21647644-33.21647643-33.21647644l-189.62745667 0c-60.90974808 0-110.46409607 49.55434799-110.46409607 110.46409607L188.57966614 737.93383789c0 60.90974808 49.55434799 110.46409607 110.46409607 110.46409607z" p-id="3011"></path>\r\n          <path d="M490.86505127 497.09893418L370.25061797 617.72109223l0-98.97737504c0-18.34630967-14.87016678-33.21647644-33.21647643-33.21647644s-33.21647644 14.87016678-33.21647643 33.21647644L303.81766511 660.52399827c0 19.02608872 8.34274292 36.13643647 21.55208586 47.89352416 0.19311905 0.20084381 0.37078857 0.40168762 0.5716324 0.59480667a33.25355529 33.25355529 0 0 0 8.51268767 6.16436004 63.73314858 63.73314858 0 0 0 33.47911836 9.46283341L500.00344467 724.63952255c18.34630967 0 33.21647644-14.87016678 33.21647644-33.21647644s-14.87016678-33.21647644-33.21647644-33.21647643l-76.28974914 0L537.83932876 544.08093642c12.96987533-12.96987533 12.96987533-34.00440217 0-46.97427749-6.48880005-6.48880005-14.98603821-9.72547531-23.49100113-9.72547531s-16.99447632 3.23667527-23.48327636 9.71775056z" p-id="3012"></path>\r\n        </svg>\r\n      </div>\r\n      <div class="audio-player-warper-content" v-if="!mini">\r\n        <div class="audio-player-title">\r\n          <div>{{value.name}}</div>\r\n          <div class="audio-player-title-btn">\r\n            <template v-if="!error">\r\n              <span>倍速</span>\r\n              <span v-for="i in rates" :class="{ \'rate-active\': playbackRate === i }" :key="i" @click="changeRate(i)">{{i}}</span>\r\n            </template>\r\n            <svg v-if="miniable" @click="changeStatus(true)" viewBox="0 0 1024 1024" width="20" height="20">\r\n              <path d="M18.285714 201.142857c0-100.571429 82.285714-182.857143 182.857143-182.857143h621.714286c100.571429 0 182.857143 82.285714 182.857143 182.857143v621.714286c0 100.571429-82.285714 182.857143-182.857143 182.857143h-621.714286a183.369143 183.369143 0 0 1-182.857143-182.857143z m694.857143-109.714286v109.714286c0 60.342857 49.371429 109.714286 109.714286 109.714286h109.714286v-109.714286c0-60.342857-49.371429-109.714286-109.714286-109.714286h-109.714286z m-621.714286 109.714286v621.714286c0 60.342857 49.371429 109.714286 109.714286 109.714286h621.714286c60.342857 0 109.714286-49.371429 109.714286-109.714286v-438.857143h-109.714286a183.369143 183.369143 0 0 1-182.857143-182.857143v-109.714286h-438.857143c-60.342857 0-109.714286 49.371429-109.714286 109.714286z m129.828572 601.6c-14.628571-14.628571-14.628571-36.571429 0-51.2L479.085714 493.714286h-131.657143a36.644571 36.644571 0 0 1-36.571428-36.571429c0-20.114286 16.457143-36.571429 36.571428-36.571428h219.428572c9.142857 0 18.285714 3.657143 25.6 10.971428 7.314286 5.485714 10.971429 14.628571 10.971428 25.6v219.428572c0 20.114286-16.457143 36.571429-36.571428 36.571428a36.644571 36.644571 0 0 1-36.571429-36.571428v-131.657143l-257.828571 257.828571c-14.628571 14.628571-36.571429 14.628571-51.2 0z" p-id="5623"></path>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        <div class="audio-player-error" v-if="error">\r\n          文件加载失败\r\n        </div>\r\n        <div class="audio-player-control" v-else>\r\n          <div class="audio-player-control-progress">\r\n            <slider v-model="rate" @change="changeTime"></slider>\r\n          </div>\r\n          <div class="audio-player-control-time">\r\n            {{currentTime}} / {{duration}}\r\n          </div>\r\n          <svg viewBox="0 0 32 32" class="audio-player-control-icon volume" v-if="isMuted" @click="toggleMute">\r\n            <path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path>\r\n          </svg>\r\n          <svg viewBox="0 0 32 32" class="audio-player-control-icon volume" v-else-if="volume == 1" @click="toggleMute">\r\n            <path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z"></path>\r\n          </svg>\r\n          <svg viewBox="0 0 32 32" class="audio-player-control-icon volume" v-else @click="toggleMute">\r\n            <path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path>\r\n          </svg>\r\n          <div class="audio-player-volume-slider">\r\n            <slider v-model="volume" @change="changeVolume"></slider>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="audio-player-list" v-if="!mini && list && list.length > 1">\r\n      <ul>\r\n        <li v-for="(media, index) in list" :class="{ \'active\': media === value }" :key="index" @click="changeMedia(media)">\r\n          {{media.name}}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { AudioPlayer } from \'./audio-player-sdk\'\r\nimport slider from \'./slider.vue\'\r\n\r\nexport default {\r\n  name: \'audio-player\',\r\n  components: {\r\n    slider,\r\n  },\r\n  props: {\r\n    /**\r\n     * 音频文件数组\r\n     */\r\n    list: {\r\n      type: Array,\r\n    },\r\n    /**\r\n     * 是否可最小化，默认否\r\n     */\r\n    miniable: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 默认倍速选项\r\n     */\r\n    rates: {\r\n      type: Array,\r\n      default: () => ([0.5, 1, 2])\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      player: \'\',\r\n      currentTime: \'00:00\', // 当前播放时间\r\n      duration: \'00:00\', // 媒体时长\r\n      durationNum: 0, // 文件总秒数，用于回显进度条样式\r\n      error: false, // 判断是否回显错误信息\r\n      rate: 0, // 播放进度条\r\n      volume: 1, // 音量\r\n      mini: false,\r\n      value: {},\r\n      // 拖拽效果临时参数\r\n      dragStartX: 0,\r\n      dragStartY: 0,\r\n      floatOriginX: 0,\r\n      floatOriginY: 0,\r\n      floatOffsetLeft: 0,\r\n      floatOffsetTop: 0,\r\n      clientWidth: 0,\r\n      clientHeight: 0,\r\n    }\r\n  },\r\n  created () {\r\n    this.value = this.list[0]\r\n  },\r\n  watch: {\r\n    list (val) {\r\n      if (val && val.length) {\r\n        this.changeMedia(val[0])\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 初始化方法\r\n    this.player = new AudioPlayer({\r\n      src: this.value.src, // 音频地址\r\n      /**\r\n       * 加载完成后回调播放时长\r\n       * @param {number} duration 总时长\r\n       */\r\n      onloadedmetadata: (duration) => {\r\n        this.error = false\r\n        this.durationNum = duration\r\n        this.duration = this.player && this.player.getSecondTimeFomate(duration)\r\n      },\r\n      /**\r\n       * 时间变化时给出播放时长\r\n       * @param {number} currentTime 当前时间\r\n       */\r\n      ontimeupdate: (currentTime) => {\r\n        this.currentTime = this.player && this.player.getSecondTimeFomate(currentTime)\r\n        this.rate = currentTime / this.durationNum\r\n      },\r\n      /**\r\n       * 异常处理\r\n       * @param {*} e 错误\r\n       */\r\n      onerror: () => {\r\n        this.error = true\r\n      }\r\n    })\r\n    this.player.initPlayer(this.value.src, this.volume)\r\n  },\r\n  computed: {\r\n    /**\r\n     * 是否播放状态\r\n     * @returns {boolean} 是否播放\r\n     */\r\n    playing () {\r\n      return this.player.status === \'play\'\r\n    },\r\n    /**\r\n     * 是否静音\r\n     */\r\n    isMuted () {\r\n      return this.player.muted\r\n    },\r\n    /**\r\n     * 返回当前倍速\r\n     */\r\n    playbackRate () {\r\n      return this.player.playbackRate\r\n    },\r\n    /**\r\n     * 拖拽时样式\r\n     */\r\n    floatStyleObj () {\r\n      return {\r\n        transform: `translate(${this.floatOffsetLeft}px, ${this.floatOffsetTop}px)`,\r\n        cursor: \'move\'\r\n      }\r\n    },\r\n  },\r\n  beforeDestroy () {\r\n    this.close()\r\n  },\r\n  methods: {\r\n    /**\r\n     * 播放器关闭时，暂停录音并清空播放器\r\n     */\r\n    close () {\r\n      this.player && this.player.pause()\r\n      this.player = \'\'\r\n    },\r\n    /**\r\n     * 播放or暂停\r\n     */\r\n    togglePlay () {\r\n      this.player.togglePlay()\r\n    },\r\n    /**\r\n     * 切换声音\r\n     */\r\n    toggleMute () {\r\n      this.player.toggleMute()\r\n    },\r\n    /**\r\n     * 调整播放进度\r\n     * @param {number} time 进度比例\r\n     */\r\n    changeTime (time) {\r\n      this.player && this.player.changeTime(this.durationNum * time)\r\n    },\r\n    /**\r\n     * 调节音量\r\n     * @param {number} volume 音量，0.0-1.0\r\n     */\r\n    changeVolume (volume) {\r\n      this.player && this.player.changeVolume(volume)\r\n    },\r\n    /**\r\n     * 调整倍速\r\n     * @param {number} rate 倍速\r\n     */\r\n    changeRate (rate) {\r\n      this.player && this.player.changeRate(rate)\r\n    },\r\n    /**\r\n     * 切换音频\r\n     * @param {object} media 音频对象\r\n     */\r\n    changeMedia (media) {\r\n      if (media === this.value) {\r\n        this.togglePlay()\r\n      } else {\r\n        this.value = media\r\n        // 初始化新的音频\r\n        this.player && this.player.reload(media.src)\r\n      }\r\n    },\r\n    /**\r\n     * 回到常规模式\r\n     * @param {boolean} val 是否迷你模式\r\n     */\r\n    changeStatus (val) {\r\n      this.mini = val\r\n      /**\r\n       * 切换模式\r\n       * @event change\r\n       * @param {boolean} val 是否迷你模式\r\n       */\r\n      this.$emit(\'change\', val)\r\n    },\r\n    /**\r\n     * 最小化后的内部关闭按钮触发\r\n     */\r\n    closeWin () {\r\n      this.close()\r\n      /**\r\n       * 关闭迷你模式\r\n       * @event close\r\n       */\r\n      this.$emit(\'close\')\r\n    },\r\n\r\n    /**\r\n     * mini模式下，数据拖拽开始\r\n     */\r\n    onDragBegin (e) {\r\n      if (this.mini) {\r\n        this.clientWidth = document.body.clientWidth\r\n        this.clientHeight = document.body.clientHeight\r\n        this.floatOriginX = this.floatOffsetLeft\r\n        this.floatOriginY = this.floatOffsetTop\r\n        this.dragStartX = e.clientX\r\n        this.dragStartY = e.clientY\r\n        document.addEventListener(\'mousemove\', this.onDocumentMouseMove)\r\n        document.addEventListener(\'mouseup\', this.onDocumentMouseUp)\r\n      }\r\n    },\r\n    /**\r\n     * 鼠标按下且拖拽时，实时更新播放器位置，限制在一定范围内\r\n     */\r\n    onDocumentMouseMove (e) {\r\n      const left = this.floatOriginX + e.clientX - this.dragStartX\r\n      const top = this.floatOriginY + e.clientY - this.dragStartY\r\n      if (left > 0) {\r\n        this.floatOffsetLeft = 0\r\n      } else if (left < -this.clientWidth + 84) {\r\n        this.floatOffsetLeft = -this.clientWidth + 84\r\n      } else {\r\n        this.floatOffsetLeft = left\r\n      }\r\n      if (top > this.clientHeight - 120) {\r\n        this.floatOffsetTop = this.clientHeight - 120\r\n      } else if (top < -60) {\r\n        this.floatOffsetTop = -60\r\n      } else {\r\n        this.floatOffsetTop = top\r\n      }\r\n    },\r\n    /**\r\n     * 鼠标移开，取消监听\r\n     */\r\n    onDocumentMouseUp () {\r\n      document.removeEventListener(\'mouseup\', this.onDocumentMouseUp)\r\n      document.removeEventListener(\'mousemove\', this.onDocumentMouseMove)\r\n    },\r\n  },\r\n}\r\n<\/script>\r\n<style lang="stylus" scoped>\r\n$btn-size = 60px\r\n$line-height = 30px\r\n$btn = 24px\r\n$space = 10px\r\n\r\nsvg {\r\n  opacity .8\r\n  fill #666\r\n  cursor pointer\r\n  &:hover{\r\n    opacity 1\r\n  }\r\n}\r\n\r\n.audio-player{\r\n  // 外围\r\n  &-container {\r\n    box-sizing: border-box;\r\n    // overflow: hidden;\r\n    border-top: 1px solid rgba(0, 0, 0, .07)\r\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 7%), 0 1px 5px 0 rgba(0, 0, 0, 10%);\r\n    border-radius: 2px;\r\n    // 迷你模式\r\n    &.mini {\r\n      position absolute\r\n      top 60px\r\n      right 0\r\n      z-index 1999\r\n      background #fff\r\n    }\r\n  }\r\n  &-mini {\r\n    display flex\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    > svg {\r\n      width $btn\r\n      height $btn\r\n    }\r\n  }\r\n  // 播放核心区域\r\n  &-warper{\r\n    display flex\r\n    &-content{\r\n      flex 1\r\n    }\r\n  }\r\n  // 错误提示\r\n  &-error {\r\n    padding 0 $space\r\n    line-height: $line-height;\r\n    color: #f56c6c;\r\n  }\r\n  // 标题\r\n  &-title {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content space-between\r\n    align-items: center;\r\n    padding 0 $space\r\n    font-size: 14px;\r\n    line-height: $line-height;\r\n    span {\r\n      padding 0 5px\r\n      cursor pointer\r\n    }\r\n    .rate-active {\r\n      font-weight 700\r\n      color #20a0ff\r\n    }\r\n    &-btn {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n  }\r\n  // 音量控制样式\r\n  &-volume-slider {\r\n    width: 40px;\r\n  }\r\n  // 播放控制条\r\n  &-control {\r\n    display: flex;\r\n    height: $line-height;\r\n    line-height: $line-height;\r\n    align-items: center;\r\n    padding-right 10px\r\n\r\n    &-btn {\r\n      width $btn-size\r\n      height: $btn-size;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      background #20a0ff\r\n    }\r\n\r\n    // 播放暂停按钮\r\n    &-icon {\r\n      box-sizing: content-box;\r\n      width: $btn;\r\n      height: $btn;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      cursor: pointer;\r\n      fill: #fff;\r\n      border: 2px solid #fff;\r\n      border-radius: 100%;\r\n      padding: 1px;\r\n      opacity: .8;\r\n      &:hover {\r\n        opacity 1\r\n      }\r\n      &.volume{\r\n        fill: #999\r\n      }\r\n\r\n      &.reload {\r\n        margin-left: $space;\r\n      }\r\n    }\r\n\r\n    &-progress {\r\n      flex: 1;\r\n      padding: 0 $space;\r\n    }\r\n\r\n    &-time {\r\n      margin-right: $space;\r\n      font-family: Arial;\r\n      color #999\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  // 播放列表\r\n  &-list {\r\n    ul, li {\r\n      list-style: none;\r\n      padding 0\r\n      margin 0\r\n    }\r\n\r\n    ul {\r\n      border-top: 1px solid #eee;\r\n    }\r\n\r\n    li {\r\n      position: relative;\r\n      margin-top 1px\r\n      padding: 0 $space\r\n      border-bottom: 1px solid #eee;\r\n      border-left: 3px outset #ccc;\r\n      color: #666;\r\n      font-size 12px\r\n      line-height: 2em;\r\n      cursor: pointer;\r\n\r\n      &.active, &:hover {\r\n        background: #eee;\r\n        border-left-color: #20a0ff;\r\n        color: #333;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n',"svg {\n  opacity: 0.8;\n  fill: #666;\n  cursor: pointer;\n}\nsvg:hover {\n  opacity: 1;\n}\n.audio-player-container {\n  box-sizing: border-box;\n  border-top: 1px solid rgba(0,0,0,0.07);\n  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.07), 0 1px 5px 0 rgba(0,0,0,0.1);\n  border-radius: 2px;\n}\n.audio-player-container.mini {\n  position: absolute;\n  top: 60px;\n  right: 0;\n  z-index: 1999;\n  background: #fff;\n}\n.audio-player-mini {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n.audio-player-mini > svg {\n  width: 24px;\n  height: 24px;\n}\n.audio-player-warper {\n  display: flex;\n}\n.audio-player-warper-content {\n  flex: 1;\n}\n.audio-player-error {\n  padding: 0 10px;\n  line-height: 30px;\n  color: #f56c6c;\n}\n.audio-player-title {\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 10px;\n  font-size: 14px;\n  line-height: 30px;\n}\n.audio-player-title span {\n  padding: 0 5px;\n  cursor: pointer;\n}\n.audio-player-title .rate-active {\n  font-weight: 700;\n  color: #20a0ff;\n}\n.audio-player-title-btn {\n  display: flex;\n  align-items: center;\n}\n.audio-player-volume-slider {\n  width: 40px;\n}\n.audio-player-control {\n  display: flex;\n  height: 30px;\n  line-height: 30px;\n  align-items: center;\n  padding-right: 10px;\n}\n.audio-player-control-btn {\n  width: 60px;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #20a0ff;\n}\n.audio-player-control-icon {\n  box-sizing: content-box;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  fill: #fff;\n  border: 2px solid #fff;\n  border-radius: 100%;\n  padding: 1px;\n  opacity: 0.8;\n}\n.audio-player-control-icon:hover {\n  opacity: 1;\n}\n.audio-player-control-icon.volume {\n  fill: #999;\n}\n.audio-player-control-icon.reload {\n  margin-left: 10px;\n}\n.audio-player-control-progress {\n  flex: 1;\n  padding: 0 10px;\n}\n.audio-player-control-time {\n  margin-right: 10px;\n  font-family: Arial;\n  color: #999;\n  font-size: 14px;\n}\n.audio-player-list ul,\n.audio-player-list li {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.audio-player-list ul {\n  border-top: 1px solid #eee;\n}\n.audio-player-list li {\n  position: relative;\n  margin-top: 1px;\n  padding: 0 10px;\n  border-bottom: 1px solid #eee;\n  border-left: 3px outset #ccc;\n  color: #666;\n  font-size: 12px;\n  line-height: 2em;\n  cursor: pointer;\n}\n.audio-player-list li.active,\n.audio-player-list li:hover {\n  background: #eee;\n  border-left-color: #20a0ff;\n  color: #333;\n}\n"]},media:void 0})}),c,"data-v-313f0004",false,undefined,!1,a,void 0,void 0);var u={install:function(n){n.component("vuePlayer",A)},vuePlayer:A};export{u as default};
